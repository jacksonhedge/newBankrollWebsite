import{u as h,r,k as n,j as e,B as u}from"./index-D9DuqCFY-1733463260330.js";import{M as g}from"./mail-CsKzmSWA-1733463260330.js";const N=()=>{const{currentUser:s}=h(),[a,l]=r.useState({email:!1,inApp:!0,pushToken:null}),[c,o]=r.useState(!1),[d,f]=r.useState(!1);r.useEffect(()=>{s!=null&&s.uid&&x()},[s==null?void 0:s.uid]);const x=async()=>{try{const t=await n.getPreferences(s.uid);l(t)}catch(t){console.error("Error loading preferences:",t)}},m=async t=>{try{o(!0);const i={...a,[t]:!a[t]};await n.setPreferences(s.uid,i),l(i)}catch(i){console.error("Error updating preferences:",i)}finally{o(!1)}},p=async()=>{try{f(!0),await n.sendNotification(s.uid,{type:"TEST_NOTIFICATION",title:"Test Notification",body:"This is a test notification to verify your notification settings.",defaultChannels:["email","push"]})}catch(t){console.error("Error sending test notification:",t)}finally{f(!1)}};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Notification Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications via email"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.email,onChange:()=>!c&&m("email"),disabled:c}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),e.jsx("div",{className:"bg-gray-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white",children:"In-App Notifications"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Receive notifications within the app"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:a.inApp,disabled:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Test Your Notifications"}),e.jsx("button",{onClick:p,disabled:d||!a.email&&!a.inApp,className:`flex items-center px-4 py-2 rounded-lg text-white ${a.email||a.inApp?"bg-blue-600 hover:bg-blue-700":"bg-gray-600 cursor-not-allowed"} transition-colors duration-200`,children:d?"Sending...":"Send Test Notification"})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Notification Types"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-white font-medium",children:"Account Updates"}),e.jsx("div",{className:"flex space-x-1",children:["email","push"].map(t=>t==="email"?e.jsx(g,{className:"w-3 h-3 text-gray-400"},t):t==="push"&&e.jsx(u,{className:"w-3 h-3 text-gray-400"},t))})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Important updates about your account and security"})]})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Additional Information"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-300",children:[e.jsx("li",{children:"Email notifications are sent to your registered email address for important updates"}),e.jsx("li",{children:"In-app notifications are always enabled to keep you informed of important activity"}),e.jsx("li",{children:"You can change these settings at any time"})]})]})]})]})};export{N as default};
