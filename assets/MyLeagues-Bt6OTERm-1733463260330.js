import{c as A,r as n,u as E,i as R,s as ae,j as e,X as $,l as K,R as Q,m as z,p as H,t as V,T as Z,v as ne}from"./index-D9DuqCFY-1733463260330.js";import{g as W}from"./GroupService-B1OGUZ2e-1733463260330.js";import{P as I}from"./plus-zWYWoahp-1733463260330.js";import{C as P}from"./check-lUSlY5gQ-1733463260330.js";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=A("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=A("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=A("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=A("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=A("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=A("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),pe=({league:s,onClose:x,onGroupCreated:y,isConverted:m})=>{const[h,c]=n.useState([]),[d,r]=n.useState(!0),[u,o]=n.useState(!1),[t,g]=n.useState(!1),{currentUser:l}=E(),b=R(),j={first:700,second:200,third:100};n.useEffect(()=>{(async()=>{try{const v=await ae.getLeagueUsers(s.league_id);c(v)}catch(v){console.error("Error fetching league users:",v)}finally{r(!1)}})()},[s.league_id]);const N=async()=>{if(l)try{o(!0);const p=j.first+j.second+j.third,v=s.total_rosters,a=p*v,f={leagueId:s.league_id,platform:"sleeper",totalTeams:s.total_rosters,seasonYear:parseInt(s.season),leagueName:s.name},w={name:s.name,emoji:"üèà",description:`Buy-in: $${p}
Total Prize Pool: $${a}`,visibility:"private",ownerId:l.uid,type:"league",leagueInfo:f},k=await W.createGroup(w);y(s.league_id),x(),b(`/groups/${k.id}`)}catch(p){console.error("Error creating group:",p)}finally{o(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/90 p-8 rounded-2xl max-w-2xl w-full mx-4 relative border border-purple-200 dark:border-purple-700 max-h-[80vh] overflow-y-auto",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-purple-500 dark:text-purple-300 hover:text-purple-700 dark:hover:text-white",children:e.jsx($,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[s.avatar&&e.jsx("img",{src:`https://sleepercdn.com/avatars/${s.avatar}`,alt:s.name,className:"w-16 h-16 rounded-full"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.name}),e.jsxs("p",{className:"text-purple-600 dark:text-purple-300",children:["Season ",s.season]})]})]}),!m&&e.jsxs("button",{onClick:N,disabled:u,className:`flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 
                text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{children:u?"Creating...":"Create Bankroll Group"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"Total Teams"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.total_rosters})]}),e.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"Buy-in Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",j.first+j.second+j.third]})]}),e.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg cursor-pointer hover:bg-purple-200/50 dark:hover:bg-purple-700/30 transition-colors col-span-2",onClick:()=>g(!t),children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"Prize Structure"}),e.jsx(ie,{className:"h-4 w-4 text-purple-400"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["1st Prize: $",j.first]})}),t&&e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:["2nd Prize: $",j.second]}),e.jsxs("p",{children:["3rd Prize: $",j.third]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"League Members"}),d?e.jsx("div",{className:"text-center py-4 text-purple-600 dark:text-purple-300",children:"Loading members..."}):e.jsx("div",{className:"space-y-3",children:h.map(p=>e.jsxs("div",{className:"flex items-center space-x-3 bg-purple-100/50 dark:bg-purple-800/20 p-3 rounded-lg",children:[p.avatar&&e.jsx("img",{src:`https://sleepercdn.com/avatars/${p.avatar}`,alt:p.display_name,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:p.display_name}),p.is_owner&&e.jsx(O,{className:"h-4 w-4 text-yellow-400",title:"Commissioner"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("p",{className:"text-purple-500 font-medium text-sm",children:["#",p.username]}),e.jsx(_,{className:"h-4 w-4 text-green-500",title:"Verified User"})]})]}),e.jsx(P,{className:"h-5 w-5 text-green-500",title:"Payment Received"})]},p.user_id))})]})]})})},ue=()=>{const{leagues:s}=K(),[x,y]=n.useState(null),[m,h]=n.useState(new Set);if(!s||s.length===0)return e.jsx("div",{className:"text-center text-gray-400 py-4",children:"No leagues found"});const c=d=>{h(r=>new Set([...r,d]))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:s.map(d=>e.jsx("div",{className:`bg-purple-100 dark:bg-purple-900/30 rounded-lg p-4 border border-purple-300 
              dark:border-purple-500/20 hover:border-purple-400 dark:hover:border-purple-500/40 
              transition-all cursor-pointer hover:bg-purple-200 dark:hover:bg-purple-900/40`,onClick:()=>y(d),children:e.jsxs("div",{className:"flex items-center space-x-4",children:[d.avatar&&e.jsx("img",{src:`https://sleepercdn.com/avatars/${d.avatar}`,alt:d.name,className:"w-12 h-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:d.name}),m.has(d.league_id)&&e.jsx(_,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.total_rosters," participants ‚Ä¢ Season ",d.season]})]})]})},d.league_id))}),x&&e.jsx(pe,{league:x,onClose:()=>y(null),onGroupCreated:c,isConverted:m.has(x.league_id)})]})},xe=({league:s,onClose:x,onGroupCreated:y})=>{var t,g,l,b,j;const{currentUser:m}=E(),[h,c]=Q.useState(!1),[d,r]=n.useState(null),u=R();n.useEffect(()=>{(async()=>{try{const p=await z.getImageUrl("espnFantasy.png");r(p)}catch(p){console.error("Error loading ESPN logo:",p)}})()},[]);const o=async()=>{if(!(!m||!s))try{c(!0);const N={leagueId:s.id,platform:"espn",totalTeams:s.leagueSize||0,seasonYear:2023,leagueName:s.name},p={name:s.name,emoji:"üèà",description:`Buy-in: $${s.buyInAmount||0}
Total Prize Pool: $${(s.buyInAmount||0)*(s.leagueSize||0)}`,visibility:"private",ownerId:m.uid,type:"league",leagueInfo:N},v=await W.createGroup(p);y(),x(),u(`/groups/${v.id}`)}catch(N){console.error("Error creating group:",N)}finally{c(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[#d6b4fc] p-8 rounded-2xl max-w-2xl w-full mx-4 relative border border-purple-300",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-purple-800 hover:text-purple-900",children:e.jsx($,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[d?e.jsx("img",{src:d,alt:"ESPN Fantasy",className:"w-16 h-16 rounded-full object-cover bg-white"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-800 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"E"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-900",children:[(s==null?void 0:s.isCommissioner)&&e.jsx(O,{className:"inline-block h-5 w-5 text-yellow-600 mr-2"}),(s==null?void 0:s.name)||"League Details"]}),e.jsx("p",{className:"text-purple-800",children:"Season 2023"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Total Teams"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:(s==null?void 0:s.leagueSize)||0})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Buy-in Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["$",(s==null?void 0:s.buyInAmount)||0]})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg col-span-2",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800 mb-2",children:"Prize Structure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"1st Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((t=s==null?void 0:s.payouts)==null?void 0:t.first)||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"2nd Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((g=s==null?void 0:s.payouts)==null?void 0:g.second)||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"3rd Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((l=s==null?void 0:s.payouts)==null?void 0:l.third)||0]})]}),((b=s==null?void 0:s.payouts)==null?void 0:b.fourth)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"4th Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",(j=s==null?void 0:s.payouts)==null?void 0:j.fourth]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[(s==null?void 0:s.wantToInvest)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"League dues will be invested throughout the season"})]}),(s==null?void 0:s.convertToSleeper)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"Converting to Sleeper (+$50 to league pot)"})]}),(s==null?void 0:s.bountyToLeaguePot)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"$10 referral bounty added to league pot"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("button",{onClick:o,disabled:h,className:`w-full px-6 py-3 bg-purple-800 text-white rounded-lg hover:bg-purple-900 
              transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2`,children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{children:h?"Creating...":"Create Bankroll Group"})]})})]})})},X=()=>{const{leagues:s,fetchLeagues:x,loading:y,error:m}=H(),{user:h}=E(),[c,d]=n.useState(null),[r,u]=n.useState(new Set),[o,t]=n.useState(null);n.useEffect(()=>{h&&x()},[h]),n.useEffect(()=>{(async()=>{try{const b=await z.getImageUrl("espnFantasy.png");t(b)}catch(b){console.error("Error loading ESPN logo:",b)}})()},[]);const g=l=>{u(b=>new Set([...b,l]))};return y?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):m?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",m]})]}):!s||s.length===0?e.jsx("div",{className:"text-center text-gray-400 py-4",children:"No ESPN leagues added yet."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:s.map(l=>e.jsx("div",{className:`bg-purple-100 dark:bg-purple-900/30 rounded-lg p-4 border border-purple-300 
              dark:border-purple-500/20 hover:border-purple-400 dark:hover:border-purple-500/40 
              transition-all cursor-pointer hover:bg-purple-200 dark:hover:bg-purple-900/40`,onClick:()=>d(l),children:e.jsxs("div",{className:"flex items-center space-x-4",children:[o?e.jsx("img",{src:o,alt:"ESPN Fantasy",className:"w-12 h-12 rounded-full object-cover bg-white"}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-800 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"E"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[l.isCommissioner?"üëë ":"",l.name||"League Details"]}),r.has(l.id)&&e.jsx(_,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.leagueSize," participants ‚Ä¢ Season 2023"]})]})]})},l.id))}),c&&e.jsx(xe,{league:c,onClose:()=>d(null),onGroupCreated:()=>g(c.id)})]})},me=({league:s,onClose:x,onGroupCreated:y})=>{var t,g,l,b,j;const{currentUser:m}=E(),[h,c]=Q.useState(!1),[d,r]=n.useState(null),u=R();n.useEffect(()=>{(async()=>{try{const p=await z.getImageUrl("yahoofantasy.png");r(p)}catch(p){console.error("Error loading Yahoo logo:",p)}})()},[]);const o=async()=>{if(!(!m||!s))try{c(!0);const N={leagueId:s.id,platform:"yahoo",totalTeams:s.leagueSize||0,seasonYear:2023,leagueName:s.name},p={name:s.name,emoji:"üèà",description:`Buy-in: $${s.buyInAmount||0}
Total Prize Pool: $${(s.buyInAmount||0)*(s.leagueSize||0)}`,visibility:"private",ownerId:m.uid,type:"league",leagueInfo:N},v=await W.createGroup(p);y(),x(),u(`/groups/${v.id}`)}catch(N){console.error("Error creating group:",N)}finally{c(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[#d6b4fc] p-8 rounded-2xl max-w-2xl w-full mx-4 relative border border-purple-300",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-purple-800 hover:text-purple-900",children:e.jsx($,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[d?e.jsx("img",{src:d,alt:"Yahoo Fantasy",className:"w-16 h-16 rounded-full object-cover bg-white"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-800 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"Y"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-900",children:[(s==null?void 0:s.isCommissioner)&&e.jsx(O,{className:"inline-block h-5 w-5 text-yellow-600 mr-2"}),(s==null?void 0:s.name)||"League Details"]}),e.jsx("p",{className:"text-purple-800",children:"Season 2023"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Total Teams"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:(s==null?void 0:s.leagueSize)||0})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Buy-in Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["$",(s==null?void 0:s.buyInAmount)||0]})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg col-span-2",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800 mb-2",children:"Prize Structure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"1st Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((t=s==null?void 0:s.payouts)==null?void 0:t.first)||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"2nd Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((g=s==null?void 0:s.payouts)==null?void 0:g.second)||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"3rd Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((l=s==null?void 0:s.payouts)==null?void 0:l.third)||0]})]}),((b=s==null?void 0:s.payouts)==null?void 0:b.fourth)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"4th Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",(j=s==null?void 0:s.payouts)==null?void 0:j.fourth]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[(s==null?void 0:s.wantToInvest)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"League dues will be invested throughout the season"})]}),(s==null?void 0:s.convertToSleeper)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"Converting to Sleeper (+$50 to league pot)"})]}),(s==null?void 0:s.bountyToLeaguePot)&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"$10 referral bounty added to league pot"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("button",{onClick:o,disabled:h,className:`w-full px-6 py-3 bg-purple-800 text-white rounded-lg hover:bg-purple-900 
              transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2`,children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{children:h?"Creating...":"Create Bankroll Group"})]})})]})})},J=()=>{const{leagues:s,fetchLeagues:x,loading:y,error:m}=V(),{user:h}=E(),[c,d]=n.useState(null),[r,u]=n.useState(new Set);n.useEffect(()=>{h&&x()},[h]);const o=t=>{u(g=>new Set([...g,t]))};return y?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):m?e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsxs("span",{className:"block sm:inline",children:[" ",m]})]}):!s||s.length===0?e.jsx("div",{className:"text-center text-gray-400 py-4",children:"No Yahoo leagues added yet."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:s.map(t=>e.jsx("div",{className:`bg-purple-100 dark:bg-purple-900/30 rounded-lg p-4 border border-purple-300 
              dark:border-purple-500/20 hover:border-purple-400 dark:hover:border-purple-500/40 
              transition-all cursor-pointer hover:bg-purple-200 dark:hover:bg-purple-900/40`,onClick:()=>d(t),children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-800 flex items-center justify-center",children:e.jsx(Z,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[t.isCommissioner?"üëë ":"",t.name||"League Details"]}),r.has(t.id)&&e.jsx(_,{className:"h-5 w-5 text-green-500"})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.leagueSize," participants ‚Ä¢ Season 2023"]})]})]})},t.id))}),c&&e.jsx(me,{league:c,onClose:()=>d(null),onGroupCreated:()=>o(c.id)})]})},he=({league:s,onClose:x,onGroupCreated:y,isCreating:m=!1})=>{var C,D,M,U,B,F,G,Y;const{createLeague:h,loading:c,error:d}=H(),{currentUser:r}=E(),[u,o]=n.useState(1),[t,g]=n.useState({name:(s==null?void 0:s.name)||"",isCommissioner:(s==null?void 0:s.isCommissioner)||null,leagueSize:(s==null?void 0:s.leagueSize)||"",hasBuyIn:(s==null?void 0:s.hasBuyIn)||null,buyInAmount:(s==null?void 0:s.buyInAmount)||"",payouts:{first:((C=s==null?void 0:s.payouts)==null?void 0:C.first)||"",second:((D=s==null?void 0:s.payouts)==null?void 0:D.second)||"",third:((M=s==null?void 0:s.payouts)==null?void 0:M.third)||"",fourth:((U=s==null?void 0:s.payouts)==null?void 0:U.fourth)||""},hasWeeklyPayouts:(s==null?void 0:s.hasWeeklyPayouts)||null,weeklyPayoutDetails:(s==null?void 0:s.weeklyPayoutDetails)||"",wantToInvest:(s==null?void 0:s.wantToInvest)||null,invitedUsers:(s==null?void 0:s.invitedUsers)||Array(16).fill(""),convertToSleeper:(s==null?void 0:s.convertToSleeper)||null,bountyToLeaguePot:(s==null?void 0:s.bountyToLeaguePot)||null});n.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]);const l=(i,T)=>{g(L=>({...L,[i]:T}))},b=(i,T)=>{g(L=>({...L,payouts:{...L.payouts,[i]:T}}))},j=()=>{u===1&&!t.name.trim()||o(i=>i+1)},N=()=>{o(i=>i-1)},p=async()=>{if(r)try{const i={name:t.name,emoji:"üèà",coOwners:[r.uid],members:[],platform:"espn"};await W.createGroup(i,r.uid),y&&y(),x()}catch(i){console.error("Error creating group:",i)}},v=async()=>{try{if(!(r!=null&&r.uid))throw new Error("You must be logged in to create a league");if(!t.name.trim())throw new Error("League name is required");const i=t.invitedUsers.slice(0,t.leagueSize).filter(L=>L.trim()!==""),T={userId:r.uid,platform:"espn",status:"pending",createdAt:new Date().toISOString(),name:t.name.trim(),isCommissioner:t.isCommissioner,leagueSize:parseInt(t.leagueSize,10),hasBuyIn:t.hasBuyIn,buyInAmount:t.hasBuyIn?parseFloat(t.buyInAmount):0,payouts:{first:parseFloat(t.payouts.first)||0,second:parseFloat(t.payouts.second)||0,third:parseFloat(t.payouts.third)||0,fourth:parseFloat(t.payouts.fourth)||0},hasWeeklyPayouts:t.hasWeeklyPayouts,weeklyPayoutDetails:t.hasWeeklyPayouts?t.weeklyPayoutDetails:"",wantToInvest:t.wantToInvest,invitedUsers:i,convertToSleeper:t.convertToSleeper,bountyToLeaguePot:t.bountyToLeaguePot};await h(T),await p(),x()}catch(i){console.error("Error creating league:",i)}},a=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"League Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"League Name"}),e.jsx("input",{type:"text",value:t.name,onChange:i=>l("name",i.target.value),className:"w-full px-4 py-2 rounded-lg border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter league name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"Are you the commissioner?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l("isCommissioner",!0),className:`px-4 py-2 rounded-lg ${t.isCommissioner===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>l("isCommissioner",!1),className:`px-4 py-2 rounded-lg ${t.isCommissioner===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"No"})]})]})]}),f=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"League Size & Buy-in"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"Number of Teams"}),e.jsx("input",{type:"number",value:t.leagueSize,onChange:i=>l("leagueSize",i.target.value),className:"w-full px-4 py-2 rounded-lg border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter number of teams",min:"4",max:"16"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"Does your league have a buy-in?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l("hasBuyIn",!0),className:`px-4 py-2 rounded-lg ${t.hasBuyIn===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>l("hasBuyIn",!1),className:`px-4 py-2 rounded-lg ${t.hasBuyIn===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"No"})]})]}),t.hasBuyIn&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"Buy-in Amount ($)"}),e.jsx("input",{type:"number",value:t.buyInAmount,onChange:i=>l("buyInAmount",i.target.value),className:"w-full px-4 py-2 rounded-lg border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter buy-in amount",min:"0"})]})]}),w=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"Payout Structure"}),t.hasBuyIn&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"1st Place Prize ($)"}),e.jsx("input",{type:"number",value:t.payouts.first,onChange:i=>b("first",i.target.value),className:"w-full px-4 py-2 rounded-lg border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter 1st place prize",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"2nd Place Prize ($)"}),e.jsx("input",{type:"number",value:t.payouts.second,onChange:i=>b("second",i.target.value),className:"w-full px-4 py-2 rounded-lg border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter 2nd place prize",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"3rd Place Prize ($)"}),e.jsx("input",{type:"number",value:t.payouts.third,onChange:i=>b("third",i.target.value),className:"w-full px-4 py-2 rounded-lg border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter 3rd place prize",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"4th Place Prize ($)"}),e.jsx("input",{type:"number",value:t.payouts.fourth,onChange:i=>b("fourth",i.target.value),className:"w-full px-4 py-2 rounded-lg border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter 4th place prize",min:"0"})]})]})]}),k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-purple-900",children:"Additional Options"}),t.hasBuyIn&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"Would you like to invest your league dues throughout the season?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l("wantToInvest",!0),className:`px-4 py-2 rounded-lg ${t.wantToInvest===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>l("wantToInvest",!1),className:`px-4 py-2 rounded-lg ${t.wantToInvest===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"No"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"Would you like to convert your league to Sleeper? (+$50 to league pot)"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l("convertToSleeper",!0),className:`px-4 py-2 rounded-lg ${t.convertToSleeper===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>l("convertToSleeper",!1),className:`px-4 py-2 rounded-lg ${t.convertToSleeper===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"No"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-purple-900 mb-2",children:"Add $10 referral bounty to league pot?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>l("bountyToLeaguePot",!0),className:`px-4 py-2 rounded-lg ${t.bountyToLeaguePot===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>l("bountyToLeaguePot",!1),className:`px-4 py-2 rounded-lg ${t.bountyToLeaguePot===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800"}`,children:"No"})]})]})]});return!m&&s?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[#d6b4fc] p-8 rounded-2xl max-w-2xl w-full mx-4 relative border border-purple-300",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-purple-800 hover:text-purple-900",children:e.jsx($,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-800 flex items-center justify-center",children:e.jsx(Z,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-purple-900",children:[s.isCommissioner&&e.jsx(O,{className:"inline-block h-5 w-5 text-yellow-600 mr-2"}),s.name]}),e.jsx("p",{className:"text-purple-800",children:"Season 2023"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Total Teams"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:s.leagueSize})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800",children:"Buy-in Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:["$",s.buyInAmount||0]})]}),e.jsxs("div",{className:"bg-white/80 p-4 rounded-lg col-span-2",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800 mb-2",children:"Prize Structure"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"1st Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((B=s.payouts)==null?void 0:B.first)||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"2nd Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((F=s.payouts)==null?void 0:F.second)||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"3rd Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",((G=s.payouts)==null?void 0:G.third)||0]})]}),((Y=s.payouts)==null?void 0:Y.fourth)>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-purple-900",children:"4th Place:"}),e.jsxs("span",{className:"font-bold text-purple-900",children:["$",s.payouts.fourth]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[s.wantToInvest&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"League dues will be invested throughout the season"})]}),s.convertToSleeper&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"Converting to Sleeper (+$50 to league pot)"})]}),s.bountyToLeaguePot&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 bg-white/80 p-3 rounded-lg",children:[e.jsx(P,{className:"h-5 w-5"}),e.jsx("span",{children:"$10 referral bounty added to league pot"})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("button",{onClick:p,className:`w-full px-6 py-3 bg-purple-800 text-white rounded-lg hover:bg-purple-900 
                transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2`,children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{children:"Create Bankroll Group"})]})})]})}):e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[#d6b4fc] p-8 rounded-2xl max-w-2xl w-full mx-4 relative border border-purple-300",children:[e.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-purple-800 hover:text-purple-900",children:e.jsx($,{className:"h-6 w-6"})}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(i=>e.jsx("div",{className:`w-1/4 h-2 rounded-full mx-1 ${i<=u?"bg-purple-800":"bg-white/80"}`},i))}),d&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded-lg border border-red-300",children:d}),e.jsxs("form",{onSubmit:i=>i.preventDefault(),children:[u===1&&a(),u===2&&f(),u===3&&w(),u===4&&k(),e.jsxs("div",{className:"flex justify-between mt-8",children:[u>1&&e.jsx("button",{type:"button",onClick:N,className:"px-6 py-2 bg-white/80 text-purple-800 rounded-lg hover:bg-white transition-colors",children:"Back"}),u<4?e.jsx("button",{type:"button",onClick:j,disabled:u===1&&!t.name.trim(),className:"px-6 py-2 bg-purple-800 text-white rounded-lg hover:bg-purple-900 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):e.jsx("button",{type:"button",onClick:v,disabled:c||!t.name.trim(),className:"px-6 py-2 bg-purple-800 text-white rounded-lg hover:bg-purple-900 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Submit"})]})]})]})]})})},be=({onClose:s})=>{const{createLeague:x,isLoading:y,error:m}=V(),{currentUser:h}=E(),[c,d]=n.useState(1),[r,u]=n.useState({name:"",isCommissioner:null,leagueSize:"",hasBuyIn:null,buyInAmount:"",payouts:{first:"",second:"",third:"",fourth:""},hasWeeklyPayouts:null,weeklyPayoutDetails:"",wantToInvest:null,invitedUsers:Array(16).fill(""),convertToSleeper:null,bountyToLeaguePot:null});n.useEffect(()=>(document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")}),[]);const o=(a,f)=>{u(w=>({...w,[a]:f}))},t=(a,f)=>{u(w=>({...w,payouts:{...w.payouts,[a]:f}}))},g=()=>{c===1&&!r.name.trim()||d(a=>a+1)},l=()=>{d(a=>a-1)},b=async()=>{try{if(!(h!=null&&h.uid))throw new Error("You must be logged in to create a league");if(!r.name.trim())throw new Error("League name is required");const a=r.invitedUsers.slice(0,r.leagueSize).filter(w=>w.trim()!==""),f={userId:h.uid,platform:"yahoo",status:"pending",createdAt:new Date().toISOString(),name:r.name.trim(),isCommissioner:r.isCommissioner,leagueSize:parseInt(r.leagueSize,10),hasBuyIn:r.hasBuyIn,buyInAmount:r.hasBuyIn?parseFloat(r.buyInAmount):0,payouts:{first:parseFloat(r.payouts.first)||0,second:parseFloat(r.payouts.second)||0,third:parseFloat(r.payouts.third)||0,fourth:parseFloat(r.payouts.fourth)||0},hasWeeklyPayouts:r.hasWeeklyPayouts,weeklyPayoutDetails:r.hasWeeklyPayouts?r.weeklyPayoutDetails:"",wantToInvest:r.wantToInvest,invitedUsers:a,convertToSleeper:r.convertToSleeper,bountyToLeaguePot:r.bountyToLeaguePot};console.log("Creating league with data:",f),await x(f),s()}catch(a){console.error("Error creating league:",a)}},j=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-purple-900",children:"League Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-purple-900",children:"League Name"}),e.jsx("input",{type:"text",value:r.name,onChange:a=>o("name",a.target.value),className:"w-full px-4 py-2 rounded-lg bg-white/80 border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 text-purple-900 placeholder-purple-400",placeholder:"Enter league name",required:!0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-purple-900",children:"Are you the commissioner?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o("isCommissioner",!0),className:`px-4 py-2 rounded-lg ${r.isCommissioner===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>o("isCommissioner",!1),className:`px-4 py-2 rounded-lg ${r.isCommissioner===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"No"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-purple-900",children:"How many people are in your league?"}),e.jsx("input",{type:"number",min:"4",max:"16",value:r.leagueSize,onChange:a=>o("leagueSize",a.target.value),className:"w-full px-4 py-2 rounded-lg bg-white/80 border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 text-purple-900 placeholder-purple-400",placeholder:"Enter number (4-16)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-purple-900",children:"Is there a buy-in to the league?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o("hasBuyIn",!0),className:`px-4 py-2 rounded-lg ${r.hasBuyIn===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>o("hasBuyIn",!1),className:`px-4 py-2 rounded-lg ${r.hasBuyIn===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"No"})]})]}),r.hasBuyIn&&e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-purple-900",children:"Buy-in amount per person"}),e.jsx("input",{type:"number",value:r.buyInAmount,onChange:a=>o("buyInAmount",a.target.value),className:"w-full px-4 py-2 rounded-lg bg-white/80 border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 text-purple-900 placeholder-purple-400",placeholder:"Enter amount"})]})]})]}),N=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-purple-900",children:"Payout Structure"}),e.jsxs("div",{className:"space-y-4",children:[["first","second","third","fourth"].map(a=>e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-purple-900",children:[a.charAt(0).toUpperCase()+a.slice(1)," Place Payout"]}),e.jsx("input",{type:"number",value:r.payouts[a],onChange:f=>t(a,f.target.value),className:"w-full px-4 py-2 rounded-lg bg-white/80 border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 text-purple-900 placeholder-purple-400",placeholder:"Enter amount"})]},a)),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-purple-900",children:"Do you do weekly payouts?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o("hasWeeklyPayouts",!0),className:`px-4 py-2 rounded-lg ${r.hasWeeklyPayouts===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>o("hasWeeklyPayouts",!1),className:`px-4 py-2 rounded-lg ${r.hasWeeklyPayouts===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"No"})]})]}),r.hasWeeklyPayouts&&e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-purple-900",children:"Weekly Payout Details"}),e.jsx("textarea",{value:r.weeklyPayoutDetails,onChange:a=>o("weeklyPayoutDetails",a.target.value),className:"w-full px-4 py-2 rounded-lg bg-white/80 border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 text-purple-900 placeholder-purple-400",placeholder:"Describe your weekly payout structure...",rows:3})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-purple-900",children:"Do you want to invest your league dues throughout the season?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o("wantToInvest",!0),className:`px-4 py-2 rounded-lg ${r.wantToInvest===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>o("wantToInvest",!1),className:`px-4 py-2 rounded-lg ${r.wantToInvest===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"No"})]})]})]})]}),p=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-purple-900",children:"Invite League Members"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-purple-800",children:["We have setup placeholders for ",r.leagueSize," people"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.invitedUsers.slice(0,r.leagueSize).map((a,f)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-2 text-purple-900",children:["Member ",f+1]}),e.jsx("input",{type:"email",value:a,onChange:w=>{const k=[...r.invitedUsers];k[f]=w.target.value,o("invitedUsers",k)},className:"w-full px-4 py-2 rounded-lg bg-white/80 border border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500 text-purple-900 placeholder-purple-400",placeholder:"Enter email address"})]},f))})]})]}),v=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-purple-900",children:"Additional Options"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-purple-900",children:"Would you like to convert your league to Sleeper fantasy for a free $50 to the league pot?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o("convertToSleeper",!0),className:`px-4 py-2 rounded-lg ${r.convertToSleeper===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>o("convertToSleeper",!1),className:`px-4 py-2 rounded-lg ${r.convertToSleeper===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"No"}),e.jsx("button",{type:"button",onClick:()=>o("convertToSleeper","notSure"),className:`px-4 py-2 rounded-lg ${r.convertToSleeper==="notSure"?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Not Sure Yet"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"mb-2 text-purple-900",children:"Would you like the $10 referral bounty to go towards the league pot?"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o("bountyToLeaguePot",!0),className:`px-4 py-2 rounded-lg ${r.bountyToLeaguePot===!0?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Yes"}),e.jsx("button",{type:"button",onClick:()=>o("bountyToLeaguePot",!1),className:`px-4 py-2 rounded-lg ${r.bountyToLeaguePot===!1?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"No"}),e.jsx("button",{type:"button",onClick:()=>o("bountyToLeaguePot","notSure"),className:`px-4 py-2 rounded-lg ${r.bountyToLeaguePot==="notSure"?"bg-purple-800 text-white":"bg-white/80 text-purple-800 hover:bg-white"}`,children:"Not Sure Yet"})]})]})]})]});return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-[#d6b4fc] p-8 rounded-2xl max-w-2xl w-full mx-4 relative border border-purple-300",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-purple-800 hover:text-purple-900",children:e.jsx($,{className:"h-6 w-6"})}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(a=>e.jsx("div",{className:`w-1/4 h-2 rounded-full mx-1 ${a<=c?"bg-purple-800":"bg-white/80"}`},a))}),m&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-800 rounded-lg border border-red-300",children:m}),e.jsxs("form",{onSubmit:a=>a.preventDefault(),children:[c===1&&j(),c===2&&N(),c===3&&p(),c===4&&v(),e.jsxs("div",{className:"flex justify-between mt-8",children:[c>1&&e.jsx("button",{type:"button",onClick:l,className:"px-6 py-2 bg-white/80 text-purple-800 rounded-lg hover:bg-white transition-colors",children:"Back"}),c<4?e.jsx("button",{type:"button",onClick:g,disabled:c===1&&!r.name.trim(),className:"px-6 py-2 bg-purple-800 text-white rounded-lg hover:bg-purple-900 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):e.jsx("button",{type:"button",onClick:b,disabled:y||!r.name.trim(),className:"px-6 py-2 bg-purple-800 text-white rounded-lg hover:bg-purple-900 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submitting...":"Submit"})]})]})]})]})})},je="/images/BankrollLogoTransparent.png",fe=()=>e.jsxs("div",{className:"relative py-12",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-purple-500/20 via-purple-500/10 to-transparent"}),e.jsxs("div",{className:"relative flex items-center justify-center space-x-16",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-purple-500/30 via-purple-500/20 to-transparent rounded-full animate-pulse"}),e.jsx("div",{className:"w-56 h-56 relative flex items-center justify-center bg-gray-900/50 rounded-full p-6",children:e.jsx("img",{src:je,alt:"Bankroll",className:"w-full h-full object-contain relative z-10"})}),e.jsx("div",{className:"absolute top-1/2 right-0 h-0.5 w-16 translate-x-full",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-transparent animate-pulse"})})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"absolute inset-0 bg-purple-500/30 blur-xl rounded-full"}),e.jsx("div",{className:"relative bg-gray-900/50 p-6 rounded-full",children:e.jsx(oe,{className:"h-12 w-12 text-purple-400 animate-sync-spin"})})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-purple-500/30 via-purple-500/20 to-transparent rounded-full animate-pulse"}),e.jsx("div",{className:"w-56 h-56 relative flex items-center justify-center bg-gray-900/50 rounded-full p-6",children:e.jsx("img",{src:"/images/betespn.png",alt:"ESPN",className:"w-full h-full object-contain relative z-10"})}),e.jsx("div",{className:"absolute top-1/2 left-0 h-0.5 w-16 -translate-x-full",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-purple-500 to-transparent animate-pulse"})})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-purple-500/5 to-transparent animate-pulse"})]}),we=()=>{const[s,x]=n.useState("all"),[y,m]=n.useState(!1),[h,c]=n.useState(!1),[d,r]=n.useState(!1),[u,o]=n.useState(""),[t,g]=n.useState("leagues"),{user:l,fetchUser:b,loading:j,error:N,disconnectSleeper:p}=K(),v=H(),a=V(),[f,w]=n.useState({}),k=(v==null?void 0:v.leagues)||[],C=(a==null?void 0:a.leagues)||[];n.useEffect(()=>{(async()=>{try{const[q,re,le]=await Promise.all([z.getImageUrl("BankrollLogoTransparent.png"),z.getImageUrl("yahoofantasy.png"),z.getImageUrl("espnFantasy.png")]);w({bankroll:q,yahoo:re,espn:le})}catch(q){console.error("Error loading platform logos:",q)}})()},[]);const D=[{id:"all",label:"All Leagues"},{id:"sleeper",label:"Sleeper"},{id:"espn",label:"ESPN"},{id:"yahoo",label:"Yahoo"}],M=n.useCallback(()=>{c(!0)},[]),U=n.useCallback(()=>{c(!1)},[]),B=n.useCallback(()=>{r(!0)},[]),F=n.useCallback(()=>{r(!1)},[]),G=n.useCallback(()=>{m(!0)},[]),Y=n.useCallback(()=>{m(!1)},[]),i=async S=>{S.preventDefault(),await b(u),N||(Y(),o(""))},T=()=>{window.confirm("Are you sure you want to disconnect your Sleeper account?")&&p()},L=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between bg-purple-900/30 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[l.avatar&&e.jsx("img",{src:`https://sleepercdn.com/avatars/${l.avatar}`,alt:l.username,className:"w-10 h-10 rounded-full"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-white font-medium",children:["Connected as: ",l.username]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["User ID: ",l.user_id]})]})]}),e.jsxs("button",{onClick:T,className:`flex items-center space-x-2 px-3 py-2 bg-red-500/20 text-red-400 
            rounded-lg hover:bg-red-500/30 transition-colors`,children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:"Disconnect"})]})]}),e.jsx(ue,{})]}),ee=()=>t==="march-madness"?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Coming Soon"}),e.jsx("p",{className:"text-gray-400",children:"March Madness pools will be available soon!"})]}):k&&k.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"ESPN Leagues"}),e.jsxs("button",{onClick:M,className:`flex items-center space-x-2 px-4 py-2 bg-purple-900/50 text-white 
                rounded-lg hover:bg-purple-900/70 transition-colors`,children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{children:"Add League"})]})]}),e.jsx(X,{})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(fe,{}),e.jsx("h3",{className:"text-xl font-medium text-white mt-6",children:"Add Your First ESPN League"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Create your ESPN league manually and invite your leaguemates"})]}),e.jsxs("div",{className:"w-full max-w-md text-center space-y-4",children:[e.jsxs("button",{onClick:M,className:`group px-6 py-3 bg-purple-900/50 text-white rounded-lg hover:bg-purple-900/70 
              transition-all duration-200 flex items-center justify-center space-x-2 w-full`,children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Your League Manually"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Create your league and add leaguemates manually"})]})]}),se=()=>t==="march-madness"?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Coming Soon"}),e.jsx("p",{className:"text-gray-400",children:"March Madness pools will be available soon!"})]}):C&&C.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Yahoo Leagues"}),e.jsxs("button",{onClick:B,className:`flex items-center space-x-2 px-4 py-2 bg-purple-900/50 text-white 
                rounded-lg hover:bg-purple-900/70 transition-colors`,children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{children:"Add League"})]})]}),e.jsx(J,{})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-12",children:[e.jsx("div",{className:"w-32 h-32 flex items-center justify-center",children:f.bankroll&&e.jsx("img",{src:f.bankroll,alt:"Bankroll",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-900/30 rounded-full",children:e.jsx(de,{className:"w-8 h-8 text-purple-400"})}),e.jsx("div",{className:"w-32 h-32 flex items-center justify-center bg-white rounded-full",children:f.yahoo&&e.jsx("img",{src:f.yahoo,alt:"Yahoo Fantasy",className:"w-full h-full object-contain"})})]}),e.jsx("h3",{className:"text-xl font-medium text-white mt-6",children:"Add Your First Yahoo League"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Create your Yahoo league manually and invite your leaguemates"})]}),e.jsxs("div",{className:"w-full max-w-md text-center space-y-4",children:[e.jsxs("button",{onClick:B,className:`group px-6 py-3 bg-purple-900/50 text-white rounded-lg hover:bg-purple-900/70 
              transition-all duration-200 flex items-center justify-center space-x-2 w-full`,children:[e.jsx(I,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Your League Manually"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Create your league and add leaguemates manually"})]})]}),te=S=>t==="march-madness"?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Coming Soon"}),e.jsx("p",{className:"text-gray-400",children:"March Madness pools will be available soon!"})]}):S==="all"?e.jsxs("div",{className:"space-y-6",children:[l&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Connected Platforms"}),L()]}),k&&k.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"ESPN Leagues"}),e.jsx(X,{})]}),C&&C.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Yahoo Leagues"}),e.jsx(J,{})]}),!l&&!(k!=null&&k.length)&&!(C!=null&&C.length)&&e.jsx("div",{className:"text-center text-gray-400 py-12",children:"Connect your fantasy platforms to view all your leagues in one place"})]}):S==="sleeper"?l?L():e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[e.jsx("div",{className:"p-4 rounded-full bg-purple-900/30",children:e.jsx(ce,{className:"h-8 w-8 text-purple-400"})}),e.jsx("button",{onClick:G,className:`px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 
              transition-all duration-200 transform hover:scale-105 shadow-lg 
              hover:shadow-green-500/25`,children:"Connect Sleeper Account"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Import all your Sleeper fantasy leagues"})]}):S==="espn"?ee():S==="yahoo"?se():null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-900/50 border border-purple-500/20 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 flex justify-between items-center border-b border-purple-900/50",children:[e.jsx("h2",{className:"text-xl font-medium text-purple-100",children:t==="leagues"?"My Leagues":"March Madness Pools"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>g("leagues"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200
                ${t==="leagues"?"bg-purple-900 text-white":"text-gray-400 hover:text-white hover:bg-purple-900/30"}`,children:"My Leagues"}),e.jsx("button",{onClick:()=>g("march-madness"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200
                ${t==="march-madness"?"bg-purple-900 text-white":"text-gray-400 hover:text-white hover:bg-purple-900/30"}`,children:"March Madness Pools"})]})]}),e.jsx("div",{className:"border-b border-purple-900/50",children:e.jsx("div",{className:"flex space-x-1 px-6",children:D.map(S=>e.jsx("button",{onClick:()=>x(S.id),className:`
                  px-4 py-2 rounded-t-lg text-sm font-medium transition-colors duration-200
                  ${s===S.id?"bg-purple-900/50 text-white border-b-2 border-green-500":"text-gray-400 hover:text-white hover:bg-purple-900/30"}
                `,children:S.label},S.id))})}),e.jsx("div",{className:"p-6",children:te(s)})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-purple-900/90 p-8 rounded-2xl max-w-md w-full mx-4 relative border border-purple-700",children:[e.jsx("button",{onClick:Y,className:"absolute top-4 right-4 text-purple-300 hover:text-white",children:e.jsx($,{className:"h-6 w-6"})}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Connect Sleeper Account"}),e.jsx("form",{onSubmit:i,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-2",children:"Sleeper Username"}),e.jsx("input",{type:"text",id:"username",value:u,onChange:S=>o(S.target.value),className:`w-full px-4 py-2 bg-purple-800/50 border border-purple-600 rounded-lg 
                      focus:outline-none focus:ring-2 focus:ring-purple-500 text-white 
                      placeholder-gray-400`,placeholder:"Enter your Sleeper username"})]}),N&&e.jsx("p",{className:"text-red-400 text-sm",children:N}),e.jsx("button",{type:"submit",disabled:j,className:`w-full px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 
                    transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed`,children:j?"Connecting...":"Connect Account"})]})})]})}),h&&e.jsx(he,{onClose:U,isCreating:!0}),d&&e.jsx(be,{onClose:F})]})};export{we as default};
