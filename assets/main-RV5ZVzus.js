function B1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function z1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hw={exports:{}},Zc={},fw={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var La=Symbol.for("react.element"),q1=Symbol.for("react.portal"),W1=Symbol.for("react.fragment"),G1=Symbol.for("react.strict_mode"),H1=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),Q1=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),X1=Symbol.for("react.suspense"),J1=Symbol.for("react.memo"),Z1=Symbol.for("react.lazy"),ty=Symbol.iterator;function eI(t){return t===null||typeof t!="object"?null:(t=ty&&t[ty]||t["@@iterator"],typeof t=="function"?t:null)}var pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mw=Object.assign,gw={};function qi(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}qi.prototype.isReactComponent={};qi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yw(){}yw.prototype=qi.prototype;function Wf(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}var Gf=Wf.prototype=new yw;Gf.constructor=Wf;mw(Gf,qi.prototype);Gf.isPureReactComponent=!0;var ny=Array.isArray,vw=Object.prototype.hasOwnProperty,Hf={current:null},ww={key:!0,ref:!0,__self:!0,__source:!0};function _w(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)vw.call(e,r)&&!ww.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:La,type:t,key:i,ref:o,props:s,_owner:Hf.current}}function tI(t,e){return{$$typeof:La,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kf(t){return typeof t=="object"&&t!==null&&t.$$typeof===La}function nI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ry=/\/+/g;function md(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nI(""+t.key):e.toString(36)}function Bl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case La:case q1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+md(o,0):r,ny(s)?(n="",t!=null&&(n=t.replace(ry,"$&/")+"/"),Bl(s,e,n,"",function(d){return d})):s!=null&&(Kf(s)&&(s=tI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ry,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ny(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+md(i,a);o+=Bl(i,e,n,u,s)}else if(u=eI(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+md(i,a++),o+=Bl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function gl(t,e,n){if(t==null)return t;var r=[],s=0;return Bl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},zl={transition:null},sI={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:zl,ReactCurrentOwner:Hf};function xw(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:gl,forEach:function(t,e,n){gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gl(t,function(){e++}),e},toArray:function(t){return gl(t,function(e){return e})||[]},only:function(t){if(!Kf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=qi;ne.Fragment=W1;ne.Profiler=H1;ne.PureComponent=Wf;ne.StrictMode=G1;ne.Suspense=X1;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sI;ne.act=xw;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Hf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)vw.call(e,u)&&!ww.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:La,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:Q1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K1,_context:t},t.Consumer=t};ne.createElement=_w;ne.createFactory=function(t){var e=_w.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Y1,render:t}};ne.isValidElement=Kf;ne.lazy=function(t){return{$$typeof:Z1,_payload:{_status:-1,_result:t},_init:rI}};ne.memo=function(t,e){return{$$typeof:J1,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=zl.transition;zl.transition={};try{t()}finally{zl.transition=e}};ne.unstable_act=xw;ne.useCallback=function(t,e){return Nt.current.useCallback(t,e)};ne.useContext=function(t){return Nt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return Nt.current.useEffect(t,e)};ne.useId=function(){return Nt.current.useId()};ne.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return Nt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};ne.useRef=function(t){return Nt.current.useRef(t)};ne.useState=function(t){return Nt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return Nt.current.useTransition()};ne.version="18.3.1";fw.exports=ne;var C=fw.exports;const cr=z1(C),iI=B1({__proto__:null,default:cr},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI=C,aI=Symbol.for("react.element"),lI=Symbol.for("react.fragment"),cI=Object.prototype.hasOwnProperty,uI=oI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dI={key:!0,ref:!0,__self:!0,__source:!0};function Ew(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cI.call(e,r)&&!dI.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:aI,type:t,key:i,ref:o,props:s,_owner:uI.current}}Zc.Fragment=lI;Zc.jsx=Ew;Zc.jsxs=Ew;hw.exports=Zc;var c=hw.exports,mh={},bw={exports:{}},Gt={},Tw={exports:{}},Iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,H){var Y=B.length;B.push(H);e:for(;0<Y;){var z=Y-1>>>1,X=B[z];if(0<s(X,H))B[z]=H,B[Y]=X,Y=z;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var H=B[0],Y=B.pop();if(Y!==H){B[0]=Y;e:for(var z=0,X=B.length,pe=X>>>1;z<pe;){var Dn=2*(z+1)-1,On=B[Dn],Ln=Dn+1,Mn=B[Ln];if(0>s(On,Y))Ln<X&&0>s(Mn,On)?(B[z]=Mn,B[Ln]=Y,z=Ln):(B[z]=On,B[Dn]=Y,z=Dn);else if(Ln<X&&0>s(Mn,Y))B[z]=Mn,B[Ln]=Y,z=Ln;else break e}}return H}function s(B,H){var Y=B.sortIndex-H.sortIndex;return Y!==0?Y:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],d=[],f=1,m=null,g=3,y=!1,T=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=B)r(d),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(d)}}function j(B){if(I=!1,b(B),!T)if(n(u)!==null)T=!0,Mt(L);else{var H=n(d);H!==null&&yt(j,H.startTime-B)}}function L(B,H){T=!1,I&&(I=!1,_(w),w=-1),y=!0;var Y=g;try{for(b(H),m=n(u);m!==null&&(!(m.expirationTime>H)||B&&!R());){var z=m.callback;if(typeof z=="function"){m.callback=null,g=m.priorityLevel;var X=z(m.expirationTime<=H);H=t.unstable_now(),typeof X=="function"?m.callback=X:m===n(u)&&r(u),b(H)}else r(u);m=n(u)}if(m!==null)var pe=!0;else{var Dn=n(d);Dn!==null&&yt(j,Dn.startTime-H),pe=!1}return pe}finally{m=null,g=Y,y=!1}}var V=!1,S=null,w=-1,E=5,N=-1;function R(){return!(t.unstable_now()-N<E)}function P(){if(S!==null){var B=t.unstable_now();N=B;var H=!0;try{H=S(!0,B)}finally{H?A():(V=!1,S=null)}}else V=!1}var A;if(typeof x=="function")A=function(){x(P)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,At=Ue.port2;Ue.port1.onmessage=P,A=function(){At.postMessage(null)}}else A=function(){k(P,0)};function Mt(B){S=B,V||(V=!0,A())}function yt(B,H){w=k(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,Mt(L))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var Y=g;g=H;try{return B()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=g;g=B;try{return H()}finally{g=Y}},t.unstable_scheduleCallback=function(B,H,Y){var z=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?z+Y:z):Y=z,B){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,B={id:f++,callback:H,priorityLevel:B,startTime:Y,expirationTime:X,sortIndex:-1},Y>z?(B.sortIndex=Y,e(d,B),n(u)===null&&B===n(d)&&(I?(_(w),w=-1):I=!0,yt(j,Y-z))):(B.sortIndex=X,e(u,B),T||y||(T=!0,Mt(L))),B},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(B){var H=g;return function(){var Y=g;g=H;try{return B.apply(this,arguments)}finally{g=Y}}}})(Iw);Tw.exports=Iw;var hI=Tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI=C,Wt=hI;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sw=new Set,na={};function Ms(t,e){Ni(t,e),Ni(t+"Capture",e)}function Ni(t,e){for(na[t]=e,t=0;t<e.length;t++)Sw.add(e[t])}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gh=Object.prototype.hasOwnProperty,pI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sy={},iy={};function mI(t){return gh.call(iy,t)?!0:gh.call(sy,t)?!1:pI.test(t)?iy[t]=!0:(sy[t]=!0,!1)}function gI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yI(t,e,n,r){if(e===null||typeof e>"u"||gI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nt[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nt[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nt[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nt[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nt[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nt[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nt[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nt[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nt[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qf=/[\-:]([a-z])/g;function Yf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qf,Yf);nt[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qf,Yf);nt[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qf,Yf);nt[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nt[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});nt.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nt[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xf(t,e,n,r){var s=nt.hasOwnProperty(e)?nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yI(e,n,s,r)&&(n=null),r||s===null?mI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=fI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yl=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),ei=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),Nw=Symbol.for("react.provider"),kw=Symbol.for("react.context"),Zf=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),wh=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),Aw=Symbol.for("react.offscreen"),oy=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=oy&&t[oy]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,gd;function Ao(t){if(gd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gd=e&&e[1]||""}return`
`+gd+t}var yd=!1;function vd(t,e){if(!t||yd)return"";yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function vI(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=vd(t.type,!1),t;case 11:return t=vd(t.type.render,!1),t;case 1:return t=vd(t.type,!0),t;default:return""}}function _h(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ei:return"Fragment";case Zs:return"Portal";case yh:return"Profiler";case Jf:return"StrictMode";case vh:return"Suspense";case wh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case kw:return(t.displayName||"Context")+".Consumer";case Nw:return(t._context.displayName||"Context")+".Provider";case Zf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ep:return e=t.displayName||null,e!==null?e:_h(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return _h(t(e))}catch{}}return null}function wI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _h(e);case 8:return e===Jf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _I(t){var e=Cw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function vl(t){t._valueTracker||(t._valueTracker=_I(t))}function Rw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xh(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ay(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pw(t,e){e=e.checked,e!=null&&Xf(t,"checked",e,!1)}function Eh(t,e){Pw(t,e);var n=Wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bh(t,e.type,n):e.hasOwnProperty("defaultValue")&&bh(t,e.type,Wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bh(t,e,n){(e!=="number"||cc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Co=Array.isArray;function pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Th(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Co(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wr(n)}}function jw(t,e){var n=Wr(e.value),r=Wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wl,Ow=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wl=wl||document.createElement("div"),wl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xI=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(t){xI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fo[e]=Fo[t]})});function Lw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fo.hasOwnProperty(t)&&Fo[t]?(""+e).trim():e+"px"}function Mw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EI=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(t,e){if(e){if(EI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Nh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=null;function tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ah=null,mi=null,gi=null;function dy(t){if(t=Fa(t)){if(typeof Ah!="function")throw Error(U(280));var e=t.stateNode;e&&(e=su(e),Ah(t.stateNode,t.type,e))}}function Vw(t){mi?gi?gi.push(t):gi=[t]:mi=t}function Fw(){if(mi){var t=mi,e=gi;if(gi=mi=null,dy(t),e)for(t=0;t<e.length;t++)dy(e[t])}}function Uw(t,e){return t(e)}function $w(){}var wd=!1;function Bw(t,e,n){if(wd)return t(e,n);wd=!0;try{return Uw(t,e,n)}finally{wd=!1,(mi!==null||gi!==null)&&($w(),Fw())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var r=su(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Ch=!1;if(er)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Ch=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Ch=!1}function bI(t,e,n,r,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var Uo=!1,uc=null,dc=!1,Rh=null,TI={onError:function(t){Uo=!0,uc=t}};function II(t,e,n,r,s,i,o,a,u){Uo=!1,uc=null,bI.apply(TI,arguments)}function SI(t,e,n,r,s,i,o,a,u){if(II.apply(this,arguments),Uo){if(Uo){var d=uc;Uo=!1,uc=null}else throw Error(U(198));dc||(dc=!0,Rh=d)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hy(t){if(Vs(t)!==t)throw Error(U(188))}function NI(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return hy(s),t;if(i===r)return hy(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function qw(t){return t=NI(t),t!==null?Ww(t):null}function Ww(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ww(t);if(e!==null)return e;t=t.sibling}return null}var Gw=Wt.unstable_scheduleCallback,fy=Wt.unstable_cancelCallback,kI=Wt.unstable_shouldYield,AI=Wt.unstable_requestPaint,je=Wt.unstable_now,CI=Wt.unstable_getCurrentPriorityLevel,np=Wt.unstable_ImmediatePriority,Hw=Wt.unstable_UserBlockingPriority,hc=Wt.unstable_NormalPriority,RI=Wt.unstable_LowPriority,Kw=Wt.unstable_IdlePriority,eu=null,In=null;function PI(t){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(eu,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:OI,jI=Math.log,DI=Math.LN2;function OI(t){return t>>>=0,t===0?32:31-(jI(t)/DI|0)|0}var _l=64,xl=4194304;function Ro(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ro(a):(i&=o,i!==0&&(r=Ro(i)))}else o=n&~s,o!==0?r=Ro(o):i!==0&&(r=Ro(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),s=1<<n,r|=t[n],e&=~s;return r}function LI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-dn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=LI(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Ph(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qw(){var t=_l;return _l<<=1,!(_l&4194240)&&(_l=64),t}function _d(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ma(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function VI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function rp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var he=0;function Yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xw,sp,Jw,Zw,e_,jh=!1,El=[],Dr=null,Or=null,Lr=null,ia=new Map,oa=new Map,br=[],FI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function py(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":ia.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(e.pointerId)}}function wo(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fa(e),e!==null&&sp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function UI(t,e,n,r,s){switch(e){case"focusin":return Dr=wo(Dr,t,e,n,r,s),!0;case"dragenter":return Or=wo(Or,t,e,n,r,s),!0;case"mouseover":return Lr=wo(Lr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ia.set(i,wo(ia.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oa.set(i,wo(oa.get(i)||null,t,e,n,r,s)),!0}return!1}function t_(t){var e=fs(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=zw(n),e!==null){t.blockedOn=e,e_(t.priority,function(){Jw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ql(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);kh=r,n.target.dispatchEvent(r),kh=null}else return e=Fa(n),e!==null&&sp(e),t.blockedOn=n,!1;e.shift()}return!0}function my(t,e,n){ql(t)&&n.delete(e)}function $I(){jh=!1,Dr!==null&&ql(Dr)&&(Dr=null),Or!==null&&ql(Or)&&(Or=null),Lr!==null&&ql(Lr)&&(Lr=null),ia.forEach(my),oa.forEach(my)}function _o(t,e){t.blockedOn===e&&(t.blockedOn=null,jh||(jh=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,$I)))}function aa(t){function e(s){return _o(s,t)}if(0<El.length){_o(El[0],t);for(var n=1;n<El.length;n++){var r=El[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&_o(Dr,t),Or!==null&&_o(Or,t),Lr!==null&&_o(Lr,t),ia.forEach(e),oa.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)t_(n),n.blockedOn===null&&br.shift()}var yi=ur.ReactCurrentBatchConfig,pc=!0;function BI(t,e,n,r){var s=he,i=yi.transition;yi.transition=null;try{he=1,ip(t,e,n,r)}finally{he=s,yi.transition=i}}function zI(t,e,n,r){var s=he,i=yi.transition;yi.transition=null;try{he=4,ip(t,e,n,r)}finally{he=s,yi.transition=i}}function ip(t,e,n,r){if(pc){var s=Dh(t,e,n,r);if(s===null)Cd(t,e,r,mc,n),py(t,r);else if(UI(s,t,e,n,r))r.stopPropagation();else if(py(t,r),e&4&&-1<FI.indexOf(t)){for(;s!==null;){var i=Fa(s);if(i!==null&&Xw(i),i=Dh(t,e,n,r),i===null&&Cd(t,e,r,mc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Cd(t,e,r,null,n)}}var mc=null;function Dh(t,e,n,r){if(mc=null,t=tp(r),t=fs(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mc=t,null}function n_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CI()){case np:return 1;case Hw:return 4;case hc:case RI:return 16;case Kw:return 536870912;default:return 16}default:return 16}}var Cr=null,op=null,Wl=null;function r_(){if(Wl)return Wl;var t,e=op,n=e.length,r,s="value"in Cr?Cr.value:Cr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Wl=s.slice(t,1<r?1-r:void 0)}function Gl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bl(){return!0}function gy(){return!1}function Ht(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bl:gy,this.isPropagationStopped=gy,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),e}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ap=Ht(Wi),Va=Ie({},Wi,{view:0,detail:0}),qI=Ht(Va),xd,Ed,xo,tu=Ie({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xo&&(xo&&t.type==="mousemove"?(xd=t.screenX-xo.screenX,Ed=t.screenY-xo.screenY):Ed=xd=0,xo=t),xd)},movementY:function(t){return"movementY"in t?t.movementY:Ed}}),yy=Ht(tu),WI=Ie({},tu,{dataTransfer:0}),GI=Ht(WI),HI=Ie({},Va,{relatedTarget:0}),bd=Ht(HI),KI=Ie({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),QI=Ht(KI),YI=Ie({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XI=Ht(YI),JI=Ie({},Wi,{data:0}),vy=Ht(JI),ZI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tS[t])?!!e[t]:!1}function lp(){return nS}var rS=Ie({},Va,{key:function(t){if(t.key){var e=ZI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lp,charCode:function(t){return t.type==="keypress"?Gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sS=Ht(rS),iS=Ie({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=Ht(iS),oS=Ie({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lp}),aS=Ht(oS),lS=Ie({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),cS=Ht(lS),uS=Ie({},tu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dS=Ht(uS),hS=[9,13,27,32],cp=er&&"CompositionEvent"in window,$o=null;er&&"documentMode"in document&&($o=document.documentMode);var fS=er&&"TextEvent"in window&&!$o,s_=er&&(!cp||$o&&8<$o&&11>=$o),_y=" ",xy=!1;function i_(t,e){switch(t){case"keyup":return hS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function o_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ti=!1;function pS(t,e){switch(t){case"compositionend":return o_(e);case"keypress":return e.which!==32?null:(xy=!0,_y);case"textInput":return t=e.data,t===_y&&xy?null:t;default:return null}}function mS(t,e){if(ti)return t==="compositionend"||!cp&&i_(t,e)?(t=r_(),Wl=op=Cr=null,ti=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s_&&e.locale!=="ko"?null:e.data;default:return null}}var gS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gS[t.type]:e==="textarea"}function a_(t,e,n,r){Vw(r),e=gc(e,"onChange"),0<e.length&&(n=new ap("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bo=null,la=null;function yS(t){v_(t,0)}function nu(t){var e=si(t);if(Rw(e))return t}function vS(t,e){if(t==="change")return e}var l_=!1;if(er){var Td;if(er){var Id="oninput"in document;if(!Id){var by=document.createElement("div");by.setAttribute("oninput","return;"),Id=typeof by.oninput=="function"}Td=Id}else Td=!1;l_=Td&&(!document.documentMode||9<document.documentMode)}function Ty(){Bo&&(Bo.detachEvent("onpropertychange",c_),la=Bo=null)}function c_(t){if(t.propertyName==="value"&&nu(la)){var e=[];a_(e,la,t,tp(t)),Bw(yS,e)}}function wS(t,e,n){t==="focusin"?(Ty(),Bo=e,la=n,Bo.attachEvent("onpropertychange",c_)):t==="focusout"&&Ty()}function _S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(la)}function xS(t,e){if(t==="click")return nu(e)}function ES(t,e){if(t==="input"||t==="change")return nu(e)}function bS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fn=typeof Object.is=="function"?Object.is:bS;function ca(t,e){if(fn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gh.call(e,s)||!fn(t[s],e[s]))return!1}return!0}function Iy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sy(t,e){var n=Iy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iy(n)}}function u_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d_(){for(var t=window,e=cc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cc(t.document)}return e}function up(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TS(t){var e=d_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u_(n.ownerDocument.documentElement,n)){if(r!==null&&up(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Sy(n,i);var o=Sy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IS=er&&"documentMode"in document&&11>=document.documentMode,ni=null,Oh=null,zo=null,Lh=!1;function Ny(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lh||ni==null||ni!==cc(r)||(r=ni,"selectionStart"in r&&up(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zo&&ca(zo,r)||(zo=r,r=gc(Oh,"onSelect"),0<r.length&&(e=new ap("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ni)))}function Tl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ri={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},Sd={},h_={};er&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function ru(t){if(Sd[t])return Sd[t];if(!ri[t])return t;var e=ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h_)return Sd[t]=e[n];return t}var f_=ru("animationend"),p_=ru("animationiteration"),m_=ru("animationstart"),g_=ru("transitionend"),y_=new Map,ky="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yr(t,e){y_.set(t,e),Ms(e,[t])}for(var Nd=0;Nd<ky.length;Nd++){var kd=ky[Nd],SS=kd.toLowerCase(),NS=kd[0].toUpperCase()+kd.slice(1);Yr(SS,"on"+NS)}Yr(f_,"onAnimationEnd");Yr(p_,"onAnimationIteration");Yr(m_,"onAnimationStart");Yr("dblclick","onDoubleClick");Yr("focusin","onFocus");Yr("focusout","onBlur");Yr(g_,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function Ay(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,SI(r,e,void 0,t),t.currentTarget=null}function v_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Ay(s,a,d),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Ay(s,a,d),i=u}}}if(dc)throw t=Rh,dc=!1,Rh=null,t}function we(t,e){var n=e[$h];n===void 0&&(n=e[$h]=new Set);var r=t+"__bubble";n.has(r)||(w_(e,t,2,!1),n.add(r))}function Ad(t,e,n){var r=0;e&&(r|=4),w_(n,t,r,e)}var Il="_reactListening"+Math.random().toString(36).slice(2);function ua(t){if(!t[Il]){t[Il]=!0,Sw.forEach(function(n){n!=="selectionchange"&&(kS.has(n)||Ad(n,!1,t),Ad(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Il]||(e[Il]=!0,Ad("selectionchange",!1,e))}}function w_(t,e,n,r){switch(n_(e)){case 1:var s=BI;break;case 4:s=zI;break;default:s=ip}n=s.bind(null,e,n,t),s=void 0,!Ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Cd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Bw(function(){var d=i,f=tp(n),m=[];e:{var g=y_.get(t);if(g!==void 0){var y=ap,T=t;switch(t){case"keypress":if(Gl(n)===0)break e;case"keydown":case"keyup":y=sS;break;case"focusin":T="focus",y=bd;break;case"focusout":T="blur",y=bd;break;case"beforeblur":case"afterblur":y=bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=yy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=GI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=aS;break;case f_:case p_:case m_:y=QI;break;case g_:y=cS;break;case"scroll":y=qI;break;case"wheel":y=dS;break;case"copy":case"cut":case"paste":y=XI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=wy}var I=(e&4)!==0,k=!I&&t==="scroll",_=I?g!==null?g+"Capture":null:g;I=[];for(var x=d,b;x!==null;){b=x;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,_!==null&&(j=sa(x,_),j!=null&&I.push(da(x,j,b)))),k)break;x=x.return}0<I.length&&(g=new y(g,T,null,n,f),m.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==kh&&(T=n.relatedTarget||n.fromElement)&&(fs(T)||T[tr]))break e;if((y||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=d,T=T?fs(T):null,T!==null&&(k=Vs(T),T!==k||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=d),y!==T)){if(I=yy,j="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(I=wy,j="onPointerLeave",_="onPointerEnter",x="pointer"),k=y==null?g:si(y),b=T==null?g:si(T),g=new I(j,x+"leave",y,n,f),g.target=k,g.relatedTarget=b,j=null,fs(f)===d&&(I=new I(_,x+"enter",T,n,f),I.target=b,I.relatedTarget=k,j=I),k=j,y&&T)t:{for(I=y,_=T,x=0,b=I;b;b=Qs(b))x++;for(b=0,j=_;j;j=Qs(j))b++;for(;0<x-b;)I=Qs(I),x--;for(;0<b-x;)_=Qs(_),b--;for(;x--;){if(I===_||_!==null&&I===_.alternate)break t;I=Qs(I),_=Qs(_)}I=null}else I=null;y!==null&&Cy(m,g,y,I,!1),T!==null&&k!==null&&Cy(m,k,T,I,!0)}}e:{if(g=d?si(d):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var L=vS;else if(Ey(g))if(l_)L=ES;else{L=_S;var V=wS}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=xS);if(L&&(L=L(t,d))){a_(m,L,n,f);break e}V&&V(t,g,d),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&bh(g,"number",g.value)}switch(V=d?si(d):window,t){case"focusin":(Ey(V)||V.contentEditable==="true")&&(ni=V,Oh=d,zo=null);break;case"focusout":zo=Oh=ni=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Ny(m,n,f);break;case"selectionchange":if(IS)break;case"keydown":case"keyup":Ny(m,n,f)}var S;if(cp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ti?i_(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(s_&&n.locale!=="ko"&&(ti||w!=="onCompositionStart"?w==="onCompositionEnd"&&ti&&(S=r_()):(Cr=f,op="value"in Cr?Cr.value:Cr.textContent,ti=!0)),V=gc(d,w),0<V.length&&(w=new vy(w,t,null,n,f),m.push({event:w,listeners:V}),S?w.data=S:(S=o_(n),S!==null&&(w.data=S)))),(S=fS?pS(t,n):mS(t,n))&&(d=gc(d,"onBeforeInput"),0<d.length&&(f=new vy("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:d}),f.data=S))}v_(m,e)})}function da(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sa(t,n),i!=null&&r.unshift(da(t,i,s)),i=sa(t,e),i!=null&&r.push(da(t,i,s))),t=t.return}return r}function Qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Cy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=sa(n,i),u!=null&&o.unshift(da(n,u,a))):s||(u=sa(n,i),u!=null&&o.push(da(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AS=/\r\n?/g,CS=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(AS,`
`).replace(CS,"")}function Sl(t,e,n){if(e=Ry(e),Ry(t)!==e&&n)throw Error(U(425))}function yc(){}var Mh=null,Vh=null;function Fh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,RS=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(jS)}:Uh;function jS(t){setTimeout(function(){throw t})}function Rd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),aa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);aa(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),wn="__reactFiber$"+Gi,ha="__reactProps$"+Gi,tr="__reactContainer$"+Gi,$h="__reactEvents$"+Gi,DS="__reactListeners$"+Gi,OS="__reactHandles$"+Gi;function fs(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tr]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jy(t);t!==null;){if(n=t[wn])return n;t=jy(t)}return e}t=n,n=t.parentNode}return null}function Fa(t){return t=t[wn]||t[tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function su(t){return t[ha]||null}var Bh=[],ii=-1;function Xr(t){return{current:t}}function xe(t){0>ii||(t.current=Bh[ii],Bh[ii]=null,ii--)}function ge(t,e){ii++,Bh[ii]=t.current,t.current=e}var Gr={},mt=Xr(Gr),jt=Xr(!1),Es=Gr;function ki(t,e){var n=t.type.contextTypes;if(!n)return Gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Dt(t){return t=t.childContextTypes,t!=null}function vc(){xe(jt),xe(mt)}function Dy(t,e,n){if(mt.current!==Gr)throw Error(U(168));ge(mt,e),ge(jt,n)}function __(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,wI(t)||"Unknown",s));return Ie({},n,r)}function wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,Es=mt.current,ge(mt,t),ge(jt,jt.current),!0}function Oy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=__(t,e,Es),r.__reactInternalMemoizedMergedChildContext=t,xe(jt),xe(mt),ge(mt,t)):xe(jt),ge(jt,n)}var zn=null,iu=!1,Pd=!1;function x_(t){zn===null?zn=[t]:zn.push(t)}function LS(t){iu=!0,x_(t)}function Jr(){if(!Pd&&zn!==null){Pd=!0;var t=0,e=he;try{var n=zn;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zn=null,iu=!1}catch(s){throw zn!==null&&(zn=zn.slice(t+1)),Gw(np,Jr),s}finally{he=e,Pd=!1}}return null}var oi=[],ai=0,_c=null,xc=0,Qt=[],Yt=0,bs=null,Wn=1,Gn="";function as(t,e){oi[ai++]=xc,oi[ai++]=_c,_c=t,xc=e}function E_(t,e,n){Qt[Yt++]=Wn,Qt[Yt++]=Gn,Qt[Yt++]=bs,bs=t;var r=Wn;t=Gn;var s=32-dn(r)-1;r&=~(1<<s),n+=1;var i=32-dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wn=1<<32-dn(e)+s|n<<s|r,Gn=i+t}else Wn=1<<i|n<<s|r,Gn=t}function dp(t){t.return!==null&&(as(t,1),E_(t,1,0))}function hp(t){for(;t===_c;)_c=oi[--ai],oi[ai]=null,xc=oi[--ai],oi[ai]=null;for(;t===bs;)bs=Qt[--Yt],Qt[Yt]=null,Gn=Qt[--Yt],Qt[Yt]=null,Wn=Qt[--Yt],Qt[Yt]=null}var zt=null,$t=null,Ee=!1,cn=null;function b_(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ly(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zt=t,$t=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:Wn,overflow:Gn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zt=t,$t=null,!0):!1;default:return!1}}function zh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qh(t){if(Ee){var e=$t;if(e){var n=e;if(!Ly(t,e)){if(zh(t))throw Error(U(418));e=Mr(n.nextSibling);var r=zt;e&&Ly(t,e)?b_(r,n):(t.flags=t.flags&-4097|2,Ee=!1,zt=t)}}else{if(zh(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ee=!1,zt=t}}}function My(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zt=t}function Nl(t){if(t!==zt)return!1;if(!Ee)return My(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fh(t.type,t.memoizedProps)),e&&(e=$t)){if(zh(t))throw T_(),Error(U(418));for(;e;)b_(t,e),e=Mr(e.nextSibling)}if(My(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=zt?Mr(t.stateNode.nextSibling):null;return!0}function T_(){for(var t=$t;t;)t=Mr(t.nextSibling)}function Ai(){$t=zt=null,Ee=!1}function fp(t){cn===null?cn=[t]:cn.push(t)}var MS=ur.ReactCurrentBatchConfig;function Eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function kl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vy(t){var e=t._init;return e(t._payload)}function I_(t){function e(_,x){if(t){var b=_.deletions;b===null?(_.deletions=[x],_.flags|=16):b.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=$r(_,x),_.index=0,_.sibling=null,_}function i(_,x,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<x?(_.flags|=2,x):b):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,b,j){return x===null||x.tag!==6?(x=Fd(b,_.mode,j),x.return=_,x):(x=s(x,b),x.return=_,x)}function u(_,x,b,j){var L=b.type;return L===ei?f(_,x,b.props.children,j,b.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xr&&Vy(L)===x.type)?(j=s(x,b.props),j.ref=Eo(_,x,b),j.return=_,j):(j=Zl(b.type,b.key,b.props,null,_.mode,j),j.ref=Eo(_,x,b),j.return=_,j)}function d(_,x,b,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Ud(b,_.mode,j),x.return=_,x):(x=s(x,b.children||[]),x.return=_,x)}function f(_,x,b,j,L){return x===null||x.tag!==7?(x=ws(b,_.mode,j,L),x.return=_,x):(x=s(x,b),x.return=_,x)}function m(_,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Fd(""+x,_.mode,b),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yl:return b=Zl(x.type,x.key,x.props,null,_.mode,b),b.ref=Eo(_,null,x),b.return=_,b;case Zs:return x=Ud(x,_.mode,b),x.return=_,x;case xr:var j=x._init;return m(_,j(x._payload),b)}if(Co(x)||yo(x))return x=ws(x,_.mode,b,null),x.return=_,x;kl(_,x)}return null}function g(_,x,b,j){var L=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:a(_,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yl:return b.key===L?u(_,x,b,j):null;case Zs:return b.key===L?d(_,x,b,j):null;case xr:return L=b._init,g(_,x,L(b._payload),j)}if(Co(b)||yo(b))return L!==null?null:f(_,x,b,j,null);kl(_,b)}return null}function y(_,x,b,j,L){if(typeof j=="string"&&j!==""||typeof j=="number")return _=_.get(b)||null,a(x,_,""+j,L);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yl:return _=_.get(j.key===null?b:j.key)||null,u(x,_,j,L);case Zs:return _=_.get(j.key===null?b:j.key)||null,d(x,_,j,L);case xr:var V=j._init;return y(_,x,b,V(j._payload),L)}if(Co(j)||yo(j))return _=_.get(b)||null,f(x,_,j,L,null);kl(x,j)}return null}function T(_,x,b,j){for(var L=null,V=null,S=x,w=x=0,E=null;S!==null&&w<b.length;w++){S.index>w?(E=S,S=null):E=S.sibling;var N=g(_,S,b[w],j);if(N===null){S===null&&(S=E);break}t&&S&&N.alternate===null&&e(_,S),x=i(N,x,w),V===null?L=N:V.sibling=N,V=N,S=E}if(w===b.length)return n(_,S),Ee&&as(_,w),L;if(S===null){for(;w<b.length;w++)S=m(_,b[w],j),S!==null&&(x=i(S,x,w),V===null?L=S:V.sibling=S,V=S);return Ee&&as(_,w),L}for(S=r(_,S);w<b.length;w++)E=y(S,_,w,b[w],j),E!==null&&(t&&E.alternate!==null&&S.delete(E.key===null?w:E.key),x=i(E,x,w),V===null?L=E:V.sibling=E,V=E);return t&&S.forEach(function(R){return e(_,R)}),Ee&&as(_,w),L}function I(_,x,b,j){var L=yo(b);if(typeof L!="function")throw Error(U(150));if(b=L.call(b),b==null)throw Error(U(151));for(var V=L=null,S=x,w=x=0,E=null,N=b.next();S!==null&&!N.done;w++,N=b.next()){S.index>w?(E=S,S=null):E=S.sibling;var R=g(_,S,N.value,j);if(R===null){S===null&&(S=E);break}t&&S&&R.alternate===null&&e(_,S),x=i(R,x,w),V===null?L=R:V.sibling=R,V=R,S=E}if(N.done)return n(_,S),Ee&&as(_,w),L;if(S===null){for(;!N.done;w++,N=b.next())N=m(_,N.value,j),N!==null&&(x=i(N,x,w),V===null?L=N:V.sibling=N,V=N);return Ee&&as(_,w),L}for(S=r(_,S);!N.done;w++,N=b.next())N=y(S,_,w,N.value,j),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?w:N.key),x=i(N,x,w),V===null?L=N:V.sibling=N,V=N);return t&&S.forEach(function(P){return e(_,P)}),Ee&&as(_,w),L}function k(_,x,b,j){if(typeof b=="object"&&b!==null&&b.type===ei&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case yl:e:{for(var L=b.key,V=x;V!==null;){if(V.key===L){if(L=b.type,L===ei){if(V.tag===7){n(_,V.sibling),x=s(V,b.props.children),x.return=_,_=x;break e}}else if(V.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===xr&&Vy(L)===V.type){n(_,V.sibling),x=s(V,b.props),x.ref=Eo(_,V,b),x.return=_,_=x;break e}n(_,V);break}else e(_,V);V=V.sibling}b.type===ei?(x=ws(b.props.children,_.mode,j,b.key),x.return=_,_=x):(j=Zl(b.type,b.key,b.props,null,_.mode,j),j.ref=Eo(_,x,b),j.return=_,_=j)}return o(_);case Zs:e:{for(V=b.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(_,x.sibling),x=s(x,b.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=Ud(b,_.mode,j),x.return=_,_=x}return o(_);case xr:return V=b._init,k(_,x,V(b._payload),j)}if(Co(b))return T(_,x,b,j);if(yo(b))return I(_,x,b,j);kl(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,b),x.return=_,_=x):(n(_,x),x=Fd(b,_.mode,j),x.return=_,_=x),o(_)):n(_,x)}return k}var Ci=I_(!0),S_=I_(!1),Ec=Xr(null),bc=null,li=null,pp=null;function mp(){pp=li=bc=null}function gp(t){var e=Ec.current;xe(Ec),t._currentValue=e}function Wh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vi(t,e){bc=t,pp=li=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(pp!==t)if(t={context:t,memoizedValue:e,next:null},li===null){if(bc===null)throw Error(U(308));li=t,bc.dependencies={lanes:0,firstContext:t}}else li=li.next=t;return e}var ps=null;function yp(t){ps===null?ps=[t]:ps.push(t)}function N_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,yp(e)):(n.next=s.next,s.next=n),e.interleaved=n,nr(t,r)}function nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Er=!1;function vp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function k_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,nr(t,n)}return s=r.interleaved,s===null?(e.next=e,yp(r)):(e.next=s.next,s.next=e),r.interleaved=e,nr(t,n)}function Hl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}function Fy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Tc(t,e,n,r){var s=t.updateQueue;Er=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=d:a.next=d,f.lastBaseUpdate=u))}if(i!==null){var m=s.baseState;o=0,f=d=u=null,a=i;do{var g=a.lane,y=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,I=a;switch(g=e,y=n,I.tag){case 1:if(T=I.payload,typeof T=="function"){m=T.call(y,m,g);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=I.payload,g=typeof T=="function"?T.call(y,m,g):T,g==null)break e;m=Ie({},m,g);break e;case 2:Er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(d=f=y,u=m):f=f.next=y,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=m),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Is|=o,t.lanes=o,t.memoizedState=m}}function Uy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Ua={},Sn=Xr(Ua),fa=Xr(Ua),pa=Xr(Ua);function ms(t){if(t===Ua)throw Error(U(174));return t}function wp(t,e){switch(ge(pa,e),ge(fa,t),ge(Sn,Ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ih(e,t)}xe(Sn),ge(Sn,e)}function Ri(){xe(Sn),xe(fa),xe(pa)}function A_(t){ms(pa.current);var e=ms(Sn.current),n=Ih(e,t.type);e!==n&&(ge(fa,t),ge(Sn,n))}function _p(t){fa.current===t&&(xe(Sn),xe(fa))}var be=Xr(0);function Ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jd=[];function xp(){for(var t=0;t<jd.length;t++)jd[t]._workInProgressVersionPrimary=null;jd.length=0}var Kl=ur.ReactCurrentDispatcher,Dd=ur.ReactCurrentBatchConfig,Ts=0,Te=null,$e=null,We=null,Sc=!1,qo=!1,ma=0,VS=0;function at(){throw Error(U(321))}function Ep(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fn(t[n],e[n]))return!1;return!0}function bp(t,e,n,r,s,i){if(Ts=i,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kl.current=t===null||t.memoizedState===null?BS:zS,t=n(r,s),qo){i=0;do{if(qo=!1,ma=0,25<=i)throw Error(U(301));i+=1,We=$e=null,e.updateQueue=null,Kl.current=qS,t=n(r,s)}while(qo)}if(Kl.current=Nc,e=$e!==null&&$e.next!==null,Ts=0,We=$e=Te=null,Sc=!1,e)throw Error(U(300));return t}function Tp(){var t=ma!==0;return ma=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Te.memoizedState=We=t:We=We.next=t,We}function rn(){if($e===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=We===null?Te.memoizedState:We.next;if(e!==null)We=e,$e=t;else{if(t===null)throw Error(U(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?Te.memoizedState=We=t:We=We.next=t}return We}function ga(t,e){return typeof e=="function"?e(t):e}function Od(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=$e,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,d=i;do{var f=d.lane;if((Ts&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=m,o=r):u=u.next=m,Te.lanes|=f,Is|=f}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=a,fn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Te.lanes|=i,Is|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ld(t){var e=rn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);fn(i,e.memoizedState)||(Pt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function C_(){}function R_(t,e){var n=Te,r=rn(),s=e(),i=!fn(r.memoizedState,s);if(i&&(r.memoizedState=s,Pt=!0),r=r.queue,Ip(D_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,ya(9,j_.bind(null,n,r,s,e),void 0,null),Ge===null)throw Error(U(349));Ts&30||P_(n,e,s)}return s}function P_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j_(t,e,n,r){e.value=n,e.getSnapshot=r,O_(e)&&L_(t)}function D_(t,e,n){return n(function(){O_(e)&&L_(t)})}function O_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fn(t,n)}catch{return!0}}function L_(t){var e=nr(t,1);e!==null&&hn(e,t,1,-1)}function $y(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:t},e.queue=t,t=t.dispatch=$S.bind(null,Te,t),[e.memoizedState,t]}function ya(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function M_(){return rn().memoizedState}function Ql(t,e,n,r){var s=vn();Te.flags|=t,s.memoizedState=ya(1|e,n,void 0,r===void 0?null:r)}function ou(t,e,n,r){var s=rn();r=r===void 0?null:r;var i=void 0;if($e!==null){var o=$e.memoizedState;if(i=o.destroy,r!==null&&Ep(r,o.deps)){s.memoizedState=ya(e,n,i,r);return}}Te.flags|=t,s.memoizedState=ya(1|e,n,i,r)}function By(t,e){return Ql(8390656,8,t,e)}function Ip(t,e){return ou(2048,8,t,e)}function V_(t,e){return ou(4,2,t,e)}function F_(t,e){return ou(4,4,t,e)}function U_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $_(t,e,n){return n=n!=null?n.concat([t]):null,ou(4,4,U_.bind(null,e,t),n)}function Sp(){}function B_(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ep(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z_(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ep(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function q_(t,e,n){return Ts&21?(fn(n,e)||(n=Qw(),Te.lanes|=n,Is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function FS(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=Dd.transition;Dd.transition={};try{t(!1),e()}finally{he=n,Dd.transition=r}}function W_(){return rn().memoizedState}function US(t,e,n){var r=Ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},G_(t))H_(e,n);else if(n=N_(t,e,n,r),n!==null){var s=bt();hn(n,t,r,s),K_(n,e,r)}}function $S(t,e,n){var r=Ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(G_(t))H_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,fn(a,o)){var u=e.interleaved;u===null?(s.next=s,yp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=N_(t,e,s,r),n!==null&&(s=bt(),hn(n,t,r,s),K_(n,e,r))}}function G_(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function H_(t,e){qo=Sc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function K_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rp(t,n)}}var Nc={readContext:nn,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},BS={readContext:nn,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:By,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ql(4194308,4,U_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ql(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ql(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=US.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:$y,useDebugValue:Sp,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=$y(!1),e=t[0];return t=FS.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,s=vn();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ge===null)throw Error(U(349));Ts&30||P_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,By(D_.bind(null,r,i,t),[t]),r.flags|=2048,ya(9,j_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=vn(),e=Ge.identifierPrefix;if(Ee){var n=Gn,r=Wn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zS={readContext:nn,useCallback:B_,useContext:nn,useEffect:Ip,useImperativeHandle:$_,useInsertionEffect:V_,useLayoutEffect:F_,useMemo:z_,useReducer:Od,useRef:M_,useState:function(){return Od(ga)},useDebugValue:Sp,useDeferredValue:function(t){var e=rn();return q_(e,$e.memoizedState,t)},useTransition:function(){var t=Od(ga)[0],e=rn().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:R_,useId:W_,unstable_isNewReconciler:!1},qS={readContext:nn,useCallback:B_,useContext:nn,useEffect:Ip,useImperativeHandle:$_,useInsertionEffect:V_,useLayoutEffect:F_,useMemo:z_,useReducer:Ld,useRef:M_,useState:function(){return Ld(ga)},useDebugValue:Sp,useDeferredValue:function(t){var e=rn();return $e===null?e.memoizedState=t:q_(e,$e.memoizedState,t)},useTransition:function(){var t=Ld(ga)[0],e=rn().memoizedState;return[t,e]},useMutableSource:C_,useSyncExternalStore:R_,useId:W_,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Gh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var au={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Ur(t),i=Yn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vr(t,i,s),e!==null&&(hn(e,t,s,r),Hl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),s=Ur(t),i=Yn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vr(t,i,s),e!==null&&(hn(e,t,s,r),Hl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=Ur(t),s=Yn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vr(t,s,r),e!==null&&(hn(e,t,r,n),Hl(e,t,r))}};function zy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ca(n,r)||!ca(s,i):!0}function Q_(t,e,n){var r=!1,s=Gr,i=e.contextType;return typeof i=="object"&&i!==null?i=nn(i):(s=Dt(e)?Es:mt.current,r=e.contextTypes,i=(r=r!=null)?ki(t,s):Gr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=au,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function qy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&au.enqueueReplaceState(e,e.state,null)}function Hh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},vp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=nn(i):(i=Dt(e)?Es:mt.current,s.context=ki(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&au.enqueueReplaceState(s,s.state,null),Tc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Pi(t,e){try{var n="",r=e;do n+=vI(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Md(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WS=typeof WeakMap=="function"?WeakMap:Map;function Y_(t,e,n){n=Yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ac||(Ac=!0,sf=r),Kh(t,e)},n}function X_(t,e,n){n=Yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Kh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kh(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Wy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WS;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=iN.bind(null,t,e,n),e.then(t,t))}function Gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yn(-1,1),e.tag=2,Vr(n,e,1))),n.lanes|=1),t)}var GS=ur.ReactCurrentOwner,Pt=!1;function Et(t,e,n,r){e.child=t===null?S_(e,null,n,r):Ci(e,t.child,n,r)}function Ky(t,e,n,r,s){n=n.render;var i=e.ref;return vi(e,s),r=bp(t,e,n,r,i,s),n=Tp(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):(Ee&&n&&dp(e),e.flags|=1,Et(t,e,r,s),e.child)}function Qy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Dp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,J_(t,e,i,r,s)):(t=Zl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(o,r)&&t.ref===e.ref)return rr(t,e,s)}return e.flags|=1,t=$r(i,r),t.ref=e.ref,t.return=e,e.child=t}function J_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ca(i,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,rr(t,e,s)}return Qh(t,e,n,r,s)}function Z_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ui,Ft),Ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(ui,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ge(ui,Ft),Ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ge(ui,Ft),Ft|=r;return Et(t,e,s,n),e.child}function ex(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qh(t,e,n,r,s){var i=Dt(n)?Es:mt.current;return i=ki(e,i),vi(e,s),n=bp(t,e,n,r,i,s),r=Tp(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,rr(t,e,s)):(Ee&&r&&dp(e),e.flags|=1,Et(t,e,n,s),e.child)}function Yy(t,e,n,r,s){if(Dt(n)){var i=!0;wc(e)}else i=!1;if(vi(e,s),e.stateNode===null)Yl(t,e),Q_(e,n,r),Hh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=nn(d):(d=Dt(n)?Es:mt.current,d=ki(e,d));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&qy(e,o,r,d),Er=!1;var g=e.memoizedState;o.state=g,Tc(e,r,o,s),u=e.memoizedState,a!==r||g!==u||jt.current||Er?(typeof f=="function"&&(Gh(e,n,f,r),u=e.memoizedState),(a=Er||zy(e,n,a,r,g,u,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,k_(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:an(e.type,a),o.props=d,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=nn(u):(u=Dt(n)?Es:mt.current,u=ki(e,u));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||g!==u)&&qy(e,o,r,u),Er=!1,g=e.memoizedState,o.state=g,Tc(e,r,o,s);var T=e.memoizedState;a!==m||g!==T||jt.current||Er?(typeof y=="function"&&(Gh(e,n,y,r),T=e.memoizedState),(d=Er||zy(e,n,d,r,g,T,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Yh(t,e,n,r,i,s)}function Yh(t,e,n,r,s,i){ex(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Oy(e,n,!1),rr(t,e,i);r=e.stateNode,GS.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ci(e,t.child,null,i),e.child=Ci(e,null,a,i)):Et(t,e,a,i),e.memoizedState=r.state,s&&Oy(e,n,!0),e.child}function tx(t){var e=t.stateNode;e.pendingContext?Dy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dy(t,e.context,!1),wp(t,e.containerInfo)}function Xy(t,e,n,r,s){return Ai(),fp(s),e.flags|=256,Et(t,e,n,r),e.child}var Xh={dehydrated:null,treeContext:null,retryLane:0};function Jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function nx(t,e,n){var r=e.pendingProps,s=be.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ge(be,s&1),t===null)return qh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uu(o,r,0,null),t=ws(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jh(n),e.memoizedState=Xh,t):Np(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return HS(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=$r(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=$r(a,i):(i=ws(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Xh,r}return i=t.child,t=i.sibling,r=$r(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Np(t,e){return e=uu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,r){return r!==null&&fp(r),Ci(e,t.child,null,n),t=Np(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HS(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Md(Error(U(422))),Al(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uu({mode:"visible",children:r.children},s,0,null),i=ws(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ci(e,t.child,null,o),e.child.memoizedState=Jh(o),e.memoizedState=Xh,i);if(!(e.mode&1))return Al(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Md(i,r,void 0),Al(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pt||a){if(r=Ge,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nr(t,s),hn(r,t,s,-1))}return jp(),r=Md(Error(U(421))),Al(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=oN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$t=Mr(s.nextSibling),zt=e,Ee=!0,cn=null,t!==null&&(Qt[Yt++]=Wn,Qt[Yt++]=Gn,Qt[Yt++]=bs,Wn=t.id,Gn=t.overflow,bs=e),e=Np(e,r.children),e.flags|=4096,e)}function Jy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wh(t.return,e,n)}function Vd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function rx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Et(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,n,e);else if(t.tag===19)Jy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ic(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Vd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ic(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Vd(e,!0,n,null,i);break;case"together":Vd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function rr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=$r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KS(t,e,n){switch(e.tag){case 3:tx(e),Ai();break;case 5:A_(e);break;case 1:Dt(e.type)&&wc(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ge(Ec,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?nx(t,e,n):(ge(be,be.current&1),t=rr(t,e,n),t!==null?t.sibling:null);ge(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ge(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,Z_(t,e,n)}return rr(t,e,n)}var sx,Zh,ix,ox;sx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zh=function(){};ix=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ms(Sn.current);var i=null;switch(n){case"input":s=xh(t,s),r=xh(t,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=Th(t,s),r=Th(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yc)}Sh(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(na.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(na.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&we("scroll",t),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ox=function(t,e,n,r){n!==r&&(e.flags|=4)};function bo(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QS(t,e,n){var r=e.pendingProps;switch(hp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Dt(e.type)&&vc(),lt(e),null;case 3:return r=e.stateNode,Ri(),xe(jt),xe(mt),xp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(lf(cn),cn=null))),Zh(t,e),lt(e),null;case 5:_p(e);var s=ms(pa.current);if(n=e.type,t!==null&&e.stateNode!=null)ix(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return lt(e),null}if(t=ms(Sn.current),Nl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[wn]=e,r[ha]=i,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<Po.length;s++)we(Po[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":ay(r,i),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},we("invalid",r);break;case"textarea":cy(r,i),we("invalid",r)}Sh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),s=["children",""+a]):na.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":vl(r),ly(r,i,!0);break;case"textarea":vl(r),uy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=yc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wn]=e,t[ha]=r,sx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Nh(n,r),n){case"dialog":we("cancel",t),we("close",t),s=r;break;case"iframe":case"object":case"embed":we("load",t),s=r;break;case"video":case"audio":for(s=0;s<Po.length;s++)we(Po[s],t);s=r;break;case"source":we("error",t),s=r;break;case"img":case"image":case"link":we("error",t),we("load",t),s=r;break;case"details":we("toggle",t),s=r;break;case"input":ay(t,r),s=xh(t,r),we("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),we("invalid",t);break;case"textarea":cy(t,r),s=Th(t,r),we("invalid",t);break;default:s=r}Sh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Mw(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ow(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ra(t,u):typeof u=="number"&&ra(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(na.hasOwnProperty(i)?u!=null&&i==="onScroll"&&we("scroll",t):u!=null&&Xf(t,i,u,o))}switch(n){case"input":vl(t),ly(t,r,!1);break;case"textarea":vl(t),uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pi(t,!!r.multiple,i,!1):r.defaultValue!=null&&pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)ox(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ms(pa.current),ms(Sn.current),Nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[wn]=e,(i=r.nodeValue!==n)&&(t=zt,t!==null))switch(t.tag){case 3:Sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r}return lt(e),null;case 13:if(xe(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&$t!==null&&e.mode&1&&!(e.flags&128))T_(),Ai(),e.flags|=98560,i=!1;else if(i=Nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[wn]=e}else Ai(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else cn!==null&&(lf(cn),cn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Be===0&&(Be=3):jp())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Ri(),Zh(t,e),t===null&&ua(e.stateNode.containerInfo),lt(e),null;case 10:return gp(e.type._context),lt(e),null;case 17:return Dt(e.type)&&vc(),lt(e),null;case 19:if(xe(be),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)bo(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ic(t),o!==null){for(e.flags|=128,bo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(be,be.current&1|2),e.child}t=t.sibling}i.tail!==null&&je()>ji&&(e.flags|=128,r=!0,bo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ic(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return lt(e),null}else 2*je()-i.renderingStartTime>ji&&n!==1073741824&&(e.flags|=128,r=!0,bo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=je(),e.sibling=null,n=be.current,ge(be,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Pp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function YS(t,e){switch(hp(e),e.tag){case 1:return Dt(e.type)&&vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(),xe(jt),xe(mt),xp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _p(e),null;case 13:if(xe(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ai()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(be),null;case 4:return Ri(),null;case 10:return gp(e.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var Cl=!1,dt=!1,XS=typeof WeakSet=="function"?WeakSet:Set,W=null;function ci(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function ef(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Zy=!1;function JS(t,e){if(Mh=pc,t=d_(),up(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,f=0,m=t,g=null;t:for(;;){for(var y;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)g=m,m=y;for(;;){if(m===t)break t;if(g===n&&++d===s&&(a=o),g===i&&++f===r&&(u=o),(y=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vh={focusedElem:t,selectionRange:n},pc=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var I=T.memoizedProps,k=T.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?I:an(e.type,I),k);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(j){ke(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return T=Zy,Zy=!1,T}function Wo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ef(e,n,i)}s=s.next}while(s!==r)}}function lu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ax(t){var e=t.alternate;e!==null&&(t.alternate=null,ax(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[ha],delete e[$h],delete e[DS],delete e[OS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lx(t){return t.tag===5||t.tag===3||t.tag===4}function e0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yc));else if(r!==4&&(t=t.child,t!==null))for(nf(t,e,n),t=t.sibling;t!==null;)nf(t,e,n),t=t.sibling}function rf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rf(t,e,n),t=t.sibling;t!==null;)rf(t,e,n),t=t.sibling}var Ye=null,ln=!1;function yr(t,e,n){for(n=n.child;n!==null;)cx(t,e,n),n=n.sibling}function cx(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(eu,n)}catch{}switch(n.tag){case 5:dt||ci(n,e);case 6:var r=Ye,s=ln;Ye=null,yr(t,e,n),Ye=r,ln=s,Ye!==null&&(ln?(t=Ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ye.removeChild(n.stateNode));break;case 18:Ye!==null&&(ln?(t=Ye,n=n.stateNode,t.nodeType===8?Rd(t.parentNode,n):t.nodeType===1&&Rd(t,n),aa(t)):Rd(Ye,n.stateNode));break;case 4:r=Ye,s=ln,Ye=n.stateNode.containerInfo,ln=!0,yr(t,e,n),Ye=r,ln=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ef(n,e,o),s=s.next}while(s!==r)}yr(t,e,n);break;case 1:if(!dt&&(ci(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,yr(t,e,n),dt=r):yr(t,e,n);break;default:yr(t,e,n)}}function t0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XS),e.forEach(function(r){var s=aN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function on(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ye=a.stateNode,ln=!1;break e;case 3:Ye=a.stateNode.containerInfo,ln=!0;break e;case 4:Ye=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(Ye===null)throw Error(U(160));cx(i,o,s),Ye=null,ln=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){ke(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ux(e,t),e=e.sibling}function ux(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(on(e,t),yn(t),r&4){try{Wo(3,t,t.return),lu(3,t)}catch(I){ke(t,t.return,I)}try{Wo(5,t,t.return)}catch(I){ke(t,t.return,I)}}break;case 1:on(e,t),yn(t),r&512&&n!==null&&ci(n,n.return);break;case 5:if(on(e,t),yn(t),r&512&&n!==null&&ci(n,n.return),t.flags&32){var s=t.stateNode;try{ra(s,"")}catch(I){ke(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Pw(s,i),Nh(a,o);var d=Nh(a,i);for(o=0;o<u.length;o+=2){var f=u[o],m=u[o+1];f==="style"?Mw(s,m):f==="dangerouslySetInnerHTML"?Ow(s,m):f==="children"?ra(s,m):Xf(s,f,m,d)}switch(a){case"input":Eh(s,i);break;case"textarea":jw(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?pi(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?pi(s,!!i.multiple,i.defaultValue,!0):pi(s,!!i.multiple,i.multiple?[]:"",!1))}s[ha]=i}catch(I){ke(t,t.return,I)}}break;case 6:if(on(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){ke(t,t.return,I)}}break;case 3:if(on(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{aa(e.containerInfo)}catch(I){ke(t,t.return,I)}break;case 4:on(e,t),yn(t);break;case 13:on(e,t),yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cp=je())),r&4&&t0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(d=dt)||f,on(e,t),dt=d):on(e,t),yn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(m=W=f;W!==null;){switch(g=W,y=g.child,g.tag){case 0:case 11:case 14:case 15:Wo(4,g,g.return);break;case 1:ci(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(I){ke(r,n,I)}}break;case 5:ci(g,g.return);break;case 22:if(g.memoizedState!==null){r0(m);continue}}y!==null?(y.return=g,W=y):r0(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Lw("display",o))}catch(I){ke(t,t.return,I)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(I){ke(t,t.return,I)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:on(e,t),yn(t),r&4&&t0(t);break;case 21:break;default:on(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lx(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ra(s,""),r.flags&=-33);var i=e0(t);rf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=e0(t);nf(t,a,o);break;default:throw Error(U(161))}}catch(u){ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZS(t,e,n){W=t,dx(t)}function dx(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Cl;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||dt;a=Cl;var d=dt;if(Cl=o,(dt=u)&&!d)for(W=s;W!==null;)o=W,u=o.child,o.tag===22&&o.memoizedState!==null?s0(s):u!==null?(u.return=o,W=u):s0(s);for(;i!==null;)W=i,dx(i),i=i.sibling;W=s,Cl=a,dt=d}n0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):n0(t)}}function n0(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||lu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Uy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&aa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}dt||e.flags&512&&tf(e)}catch(g){ke(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function r0(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function s0(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lu(4,e)}catch(u){ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ke(e,s,u)}}var i=e.return;try{tf(e)}catch(u){ke(e,i,u)}break;case 5:var o=e.return;try{tf(e)}catch(u){ke(e,o,u)}}}catch(u){ke(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var eN=Math.ceil,kc=ur.ReactCurrentDispatcher,kp=ur.ReactCurrentOwner,en=ur.ReactCurrentBatchConfig,oe=0,Ge=null,Me=null,et=0,Ft=0,ui=Xr(0),Be=0,va=null,Is=0,cu=0,Ap=0,Go=null,Rt=null,Cp=0,ji=1/0,$n=null,Ac=!1,sf=null,Fr=null,Rl=!1,Rr=null,Cc=0,Ho=0,of=null,Xl=-1,Jl=0;function bt(){return oe&6?je():Xl!==-1?Xl:Xl=je()}function Ur(t){return t.mode&1?oe&2&&et!==0?et&-et:MS.transition!==null?(Jl===0&&(Jl=Qw()),Jl):(t=he,t!==0||(t=window.event,t=t===void 0?16:n_(t.type)),t):1}function hn(t,e,n,r){if(50<Ho)throw Ho=0,of=null,Error(U(185));Ma(t,n,r),(!(oe&2)||t!==Ge)&&(t===Ge&&(!(oe&2)&&(cu|=n),Be===4&&Tr(t,et)),Ot(t,r),n===1&&oe===0&&!(e.mode&1)&&(ji=je()+500,iu&&Jr()))}function Ot(t,e){var n=t.callbackNode;MI(t,e);var r=fc(t,t===Ge?et:0);if(r===0)n!==null&&fy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fy(n),e===1)t.tag===0?LS(i0.bind(null,t)):x_(i0.bind(null,t)),PS(function(){!(oe&6)&&Jr()}),n=null;else{switch(Yw(r)){case 1:n=np;break;case 4:n=Hw;break;case 16:n=hc;break;case 536870912:n=Kw;break;default:n=hc}n=wx(n,hx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hx(t,e){if(Xl=-1,Jl=0,oe&6)throw Error(U(327));var n=t.callbackNode;if(wi()&&t.callbackNode!==n)return null;var r=fc(t,t===Ge?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rc(t,r);else{e=r;var s=oe;oe|=2;var i=px();(Ge!==t||et!==e)&&($n=null,ji=je()+500,vs(t,e));do try{rN();break}catch(a){fx(t,a)}while(!0);mp(),kc.current=i,oe=s,Me!==null?e=0:(Ge=null,et=0,e=Be)}if(e!==0){if(e===2&&(s=Ph(t),s!==0&&(r=s,e=af(t,s))),e===1)throw n=va,vs(t,0),Tr(t,r),Ot(t,je()),n;if(e===6)Tr(t,r);else{if(s=t.current.alternate,!(r&30)&&!tN(s)&&(e=Rc(t,r),e===2&&(i=Ph(t),i!==0&&(r=i,e=af(t,i))),e===1))throw n=va,vs(t,0),Tr(t,r),Ot(t,je()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ls(t,Rt,$n);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=Cp+500-je(),10<e)){if(fc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uh(ls.bind(null,t,Rt,$n),e);break}ls(t,Rt,$n);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eN(r/1960))-r,10<r){t.timeoutHandle=Uh(ls.bind(null,t,Rt,$n),r);break}ls(t,Rt,$n);break;case 5:ls(t,Rt,$n);break;default:throw Error(U(329))}}}return Ot(t,je()),t.callbackNode===n?hx.bind(null,t):null}function af(t,e){var n=Go;return t.current.memoizedState.isDehydrated&&(vs(t,e).flags|=256),t=Rc(t,e),t!==2&&(e=Rt,Rt=n,e!==null&&lf(e)),t}function lf(t){Rt===null?Rt=t:Rt.push.apply(Rt,t)}function tN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!fn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~Ap,e&=~cu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function i0(t){if(oe&6)throw Error(U(327));wi();var e=fc(t,0);if(!(e&1))return Ot(t,je()),null;var n=Rc(t,e);if(t.tag!==0&&n===2){var r=Ph(t);r!==0&&(e=r,n=af(t,r))}if(n===1)throw n=va,vs(t,0),Tr(t,e),Ot(t,je()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ls(t,Rt,$n),Ot(t,je()),null}function Rp(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(ji=je()+500,iu&&Jr())}}function Ss(t){Rr!==null&&Rr.tag===0&&!(oe&6)&&wi();var e=oe;oe|=1;var n=en.transition,r=he;try{if(en.transition=null,he=1,t)return t()}finally{he=r,en.transition=n,oe=e,!(oe&6)&&Jr()}}function Pp(){Ft=ui.current,xe(ui)}function vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RS(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(hp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vc();break;case 3:Ri(),xe(jt),xe(mt),xp();break;case 5:_p(r);break;case 4:Ri();break;case 13:xe(be);break;case 19:xe(be);break;case 10:gp(r.type._context);break;case 22:case 23:Pp()}n=n.return}if(Ge=t,Me=t=$r(t.current,null),et=Ft=e,Be=0,va=null,Ap=cu=Is=0,Rt=Go=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ps=null}return t}function fx(t,e){do{var n=Me;try{if(mp(),Kl.current=Nc,Sc){for(var r=Te.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sc=!1}if(Ts=0,We=$e=Te=null,qo=!1,ma=0,kp.current=null,n===null||n.return===null){Be=1,va=e,Me=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=et,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=a,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Gy(o);if(y!==null){y.flags&=-257,Hy(y,o,a,i,e),y.mode&1&&Wy(i,d,e),e=y,u=d;var T=e.updateQueue;if(T===null){var I=new Set;I.add(u),e.updateQueue=I}else T.add(u);break e}else{if(!(e&1)){Wy(i,d,e),jp();break e}u=Error(U(426))}}else if(Ee&&a.mode&1){var k=Gy(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Hy(k,o,a,i,e),fp(Pi(u,a));break e}}i=u=Pi(u,a),Be!==4&&(Be=2),Go===null?Go=[i]:Go.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Y_(i,u,e);Fy(i,_);break e;case 1:a=u;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Fr===null||!Fr.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=X_(i,a,e);Fy(i,j);break e}}i=i.return}while(i!==null)}gx(n)}catch(L){e=L,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function px(){var t=kc.current;return kc.current=Nc,t===null?Nc:t}function jp(){(Be===0||Be===3||Be===2)&&(Be=4),Ge===null||!(Is&268435455)&&!(cu&268435455)||Tr(Ge,et)}function Rc(t,e){var n=oe;oe|=2;var r=px();(Ge!==t||et!==e)&&($n=null,vs(t,e));do try{nN();break}catch(s){fx(t,s)}while(!0);if(mp(),oe=n,kc.current=r,Me!==null)throw Error(U(261));return Ge=null,et=0,Be}function nN(){for(;Me!==null;)mx(Me)}function rN(){for(;Me!==null&&!kI();)mx(Me)}function mx(t){var e=vx(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?gx(t):Me=e,kp.current=null}function gx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YS(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Me=null;return}}else if(n=QS(n,e,Ft),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Be===0&&(Be=5)}function ls(t,e,n){var r=he,s=en.transition;try{en.transition=null,he=1,sN(t,e,n,r)}finally{en.transition=s,he=r}return null}function sN(t,e,n,r){do wi();while(Rr!==null);if(oe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(VI(t,i),t===Ge&&(Me=Ge=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rl||(Rl=!0,wx(hc,function(){return wi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=en.transition,en.transition=null;var o=he;he=1;var a=oe;oe|=4,kp.current=null,JS(t,n),ux(n,t),TS(Vh),pc=!!Mh,Vh=Mh=null,t.current=n,ZS(n),AI(),oe=a,he=o,en.transition=i}else t.current=n;if(Rl&&(Rl=!1,Rr=t,Cc=s),i=t.pendingLanes,i===0&&(Fr=null),PI(n.stateNode),Ot(t,je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ac)throw Ac=!1,t=sf,sf=null,t;return Cc&1&&t.tag!==0&&wi(),i=t.pendingLanes,i&1?t===of?Ho++:(Ho=0,of=t):Ho=0,Jr(),null}function wi(){if(Rr!==null){var t=Yw(Cc),e=en.transition,n=he;try{if(en.transition=null,he=16>t?16:t,Rr===null)var r=!1;else{if(t=Rr,Rr=null,Cc=0,oe&6)throw Error(U(331));var s=oe;for(oe|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(W=d;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:Wo(8,f,i)}var m=f.child;if(m!==null)m.return=f,W=m;else for(;W!==null;){f=W;var g=f.sibling,y=f.return;if(ax(f),f===d){W=null;break}if(g!==null){g.return=y,W=g;break}W=y}}}var T=i.alternate;if(T!==null){var I=T.child;if(I!==null){T.child=null;do{var k=I.sibling;I.sibling=null,I=k}while(I!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wo(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,W=_;break e}W=i.return}}var x=t.current;for(W=x;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=x;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lu(9,a)}}catch(L){ke(a,a.return,L)}if(a===o){W=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,W=j;break e}W=a.return}}if(oe=s,Jr(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(eu,t)}catch{}r=!0}return r}finally{he=n,en.transition=e}}return!1}function o0(t,e,n){e=Pi(n,e),e=Y_(t,e,1),t=Vr(t,e,1),e=bt(),t!==null&&(Ma(t,1,e),Ot(t,e))}function ke(t,e,n){if(t.tag===3)o0(t,t,n);else for(;e!==null;){if(e.tag===3){o0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=Pi(n,t),t=X_(e,t,1),e=Vr(e,t,1),t=bt(),e!==null&&(Ma(e,1,t),Ot(e,t));break}}e=e.return}}function iN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(et&n)===n&&(Be===4||Be===3&&(et&130023424)===et&&500>je()-Cp?vs(t,0):Ap|=n),Ot(t,e)}function yx(t,e){e===0&&(t.mode&1?(e=xl,xl<<=1,!(xl&130023424)&&(xl=4194304)):e=1);var n=bt();t=nr(t,e),t!==null&&(Ma(t,e,n),Ot(t,n))}function oN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yx(t,n)}function aN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),yx(t,n)}var vx;vx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,KS(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Ee&&e.flags&1048576&&E_(e,xc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yl(t,e),t=e.pendingProps;var s=ki(e,mt.current);vi(e,n),s=bp(null,e,r,t,s,n);var i=Tp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dt(r)?(i=!0,wc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vp(e),s.updater=au,e.stateNode=s,s._reactInternals=e,Hh(e,r,t,n),e=Yh(null,e,r,!0,i,n)):(e.tag=0,Ee&&i&&dp(e),Et(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=cN(r),t=an(r,t),s){case 0:e=Qh(null,e,r,t,n);break e;case 1:e=Yy(null,e,r,t,n);break e;case 11:e=Ky(null,e,r,t,n);break e;case 14:e=Qy(null,e,r,an(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),Qh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),Yy(t,e,r,s,n);case 3:e:{if(tx(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,k_(t,e),Tc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Pi(Error(U(423)),e),e=Xy(t,e,r,n,s);break e}else if(r!==s){s=Pi(Error(U(424)),e),e=Xy(t,e,r,n,s);break e}else for($t=Mr(e.stateNode.containerInfo.firstChild),zt=e,Ee=!0,cn=null,n=S_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ai(),r===s){e=rr(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return A_(e),t===null&&qh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Fh(r,s)?o=null:i!==null&&Fh(r,i)&&(e.flags|=32),ex(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&qh(e),null;case 13:return nx(t,e,n);case 4:return wp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ci(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),Ky(t,e,r,s,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ge(Ec,r._currentValue),r._currentValue=o,i!==null)if(fn(i.value,o)){if(i.children===s.children&&!jt.current){e=rr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Yn(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Wh(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vi(e,n),s=nn(s),r=r(s),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,s=an(r,e.pendingProps),s=an(r.type,s),Qy(t,e,r,s,n);case 15:return J_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:an(r,s),Yl(t,e),e.tag=1,Dt(r)?(t=!0,wc(e)):t=!1,vi(e,n),Q_(e,r,s),Hh(e,r,s,n),Yh(null,e,r,!0,t,n);case 19:return rx(t,e,n);case 22:return Z_(t,e,n)}throw Error(U(156,e.tag))};function wx(t,e){return Gw(t,e)}function lN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new lN(t,e,n,r)}function Dp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cN(t){if(typeof t=="function")return Dp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zf)return 11;if(t===ep)return 14}return 2}function $r(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Dp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ei:return ws(n.children,s,i,e);case Jf:o=8,s|=8;break;case yh:return t=Jt(12,n,e,s|2),t.elementType=yh,t.lanes=i,t;case vh:return t=Jt(13,n,e,s),t.elementType=vh,t.lanes=i,t;case wh:return t=Jt(19,n,e,s),t.elementType=wh,t.lanes=i,t;case Aw:return uu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nw:o=10;break e;case kw:o=9;break e;case Zf:o=11;break e;case ep:o=14;break e;case xr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Jt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ws(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function uu(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=Aw,t.lanes=n,t.stateNode={isHidden:!1},t}function Fd(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function Ud(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_d(0),this.expirationTimes=_d(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_d(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Op(t,e,n,r,s,i,o,a,u){return t=new uN(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vp(i),t}function dN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function _x(t){if(!t)return Gr;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Dt(n))return __(t,n,e)}return e}function xx(t,e,n,r,s,i,o,a,u){return t=Op(n,r,!0,t,s,i,o,a,u),t.context=_x(null),n=t.current,r=bt(),s=Ur(n),i=Yn(r,s),i.callback=e??null,Vr(n,i,s),t.current.lanes=s,Ma(t,s,r),Ot(t,r),t}function du(t,e,n,r){var s=e.current,i=bt(),o=Ur(s);return n=_x(n),e.context===null?e.context=n:e.pendingContext=n,e=Yn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vr(s,e,o),t!==null&&(hn(t,s,o,i),Hl(t,s,o)),o}function Pc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lp(t,e){a0(t,e),(t=t.alternate)&&a0(t,e)}function hN(){return null}var Ex=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mp(t){this._internalRoot=t}hu.prototype.render=Mp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));du(t,e,null,null)};hu.prototype.unmount=Mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ss(function(){du(null,t,null,null)}),e[tr]=null}};function hu(t){this._internalRoot=t}hu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&t_(t)}};function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l0(){}function fN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Pc(o);i.call(d)}}var o=xx(e,r,t,0,null,!1,!1,"",l0);return t._reactRootContainer=o,t[tr]=o.current,ua(t.nodeType===8?t.parentNode:t),Ss(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Pc(u);a.call(d)}}var u=Op(t,0,!1,null,null,!1,!1,"",l0);return t._reactRootContainer=u,t[tr]=u.current,ua(t.nodeType===8?t.parentNode:t),Ss(function(){du(e,u,n,r)}),u}function pu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Pc(o);a.call(u)}}du(e,o,t,s)}else o=fN(n,e,t,s,r);return Pc(o)}Xw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ro(e.pendingLanes);n!==0&&(rp(e,n|1),Ot(e,je()),!(oe&6)&&(ji=je()+500,Jr()))}break;case 13:Ss(function(){var r=nr(t,1);if(r!==null){var s=bt();hn(r,t,1,s)}}),Lp(t,1)}};sp=function(t){if(t.tag===13){var e=nr(t,134217728);if(e!==null){var n=bt();hn(e,t,134217728,n)}Lp(t,134217728)}};Jw=function(t){if(t.tag===13){var e=Ur(t),n=nr(t,e);if(n!==null){var r=bt();hn(n,t,e,r)}Lp(t,e)}};Zw=function(){return he};e_=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};Ah=function(t,e,n){switch(e){case"input":if(Eh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=su(r);if(!s)throw Error(U(90));Rw(r),Eh(r,s)}}}break;case"textarea":jw(t,n);break;case"select":e=n.value,e!=null&&pi(t,!!n.multiple,e,!1)}};Uw=Rp;$w=Ss;var pN={usingClientEntryPoint:!1,Events:[Fa,si,su,Vw,Fw,Rp]},To={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mN={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qw(t),t===null?null:t.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||hN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pl.isDisabled&&Pl.supportsFiber)try{eu=Pl.inject(mN),In=Pl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pN;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(e))throw Error(U(200));return dN(t,e,null,n)};Gt.createRoot=function(t,e){if(!Vp(t))throw Error(U(299));var n=!1,r="",s=Ex;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Op(t,1,!1,null,null,n,!1,r,s),t[tr]=e.current,ua(t.nodeType===8?t.parentNode:t),new Mp(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=qw(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Ss(t)};Gt.hydrate=function(t,e,n){if(!fu(e))throw Error(U(200));return pu(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!Vp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ex;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xx(e,null,t,1,n??null,s,!1,i,o),t[tr]=e.current,ua(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new hu(e)};Gt.render=function(t,e,n){if(!fu(e))throw Error(U(200));return pu(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!fu(t))throw Error(U(40));return t._reactRootContainer?(Ss(function(){pu(null,null,t,!1,function(){t._reactRootContainer=null,t[tr]=null})}),!0):!1};Gt.unstable_batchedUpdates=Rp;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return pu(t,e,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function bx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bx)}catch(t){console.error(t)}}bx(),bw.exports=Gt;var gN=bw.exports,c0=gN;mh.createRoot=c0.createRoot,mh.hydrateRoot=c0.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wa.apply(this,arguments)}var Pr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pr||(Pr={}));const u0="popstate";function yN(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:u=""}=Fs(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),cf("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,d=u.indexOf("#");a=d===-1?u:u.slice(0,d)}return a+"#"+(typeof i=="string"?i:jc(i))}function r(s,i){mu(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return wN(e,n,r,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vN(){return Math.random().toString(36).substr(2,8)}function d0(t,e){return{usr:t.state,key:t.key,idx:e}}function cf(t,e,n,r){return n===void 0&&(n=null),wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fs(e):e,{state:n,key:e&&e.key||r||vN()})}function jc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function wN(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Pr.Pop,u=null,d=f();d==null&&(d=0,o.replaceState(wa({},o.state,{idx:d}),""));function f(){return(o.state||{idx:null}).idx}function m(){a=Pr.Pop;let k=f(),_=k==null?null:k-d;d=k,u&&u({action:a,location:I.location,delta:_})}function g(k,_){a=Pr.Push;let x=cf(I.location,k,_);n&&n(x,k),d=f()+1;let b=d0(x,d),j=I.createHref(x);try{o.pushState(b,"",j)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(j)}i&&u&&u({action:a,location:I.location,delta:1})}function y(k,_){a=Pr.Replace;let x=cf(I.location,k,_);n&&n(x,k),d=f();let b=d0(x,d),j=I.createHref(x);o.replaceState(b,"",j),i&&u&&u({action:a,location:I.location,delta:0})}function T(k){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof k=="string"?k:jc(k);return De(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let I={get action(){return a},get location(){return t(s,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(u0,m),u=k,()=>{s.removeEventListener(u0,m),u=null}},createHref(k){return e(s,k)},createURL:T,encodeLocation(k){let _=T(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:y,go(k){return o.go(k)}};return I}var h0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h0||(h0={}));function _N(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fs(e):e,s=Fp(r.pathname||"/",n);if(s==null)return null;let i=Tx(t);xN(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=CN(i[a],jN(s));return o}function Tx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(De(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Br([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(De(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Tx(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:kN(d,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of Ix(i.path))s(i,o,u)}),e}function Ix(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ix(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function xN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EN=/^:[\w-]+$/,bN=3,TN=2,IN=1,SN=10,NN=-2,f0=t=>t==="*";function kN(t,e){let n=t.split("/"),r=n.length;return n.some(f0)&&(r+=NN),e&&(r+=TN),n.filter(s=>!f0(s)).reduce((s,i)=>s+(EN.test(i)?bN:i===""?IN:SN),r)}function AN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function CN(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=RN({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d);if(!f)return null;Object.assign(r,f.params);let m=a.route;i.push({params:r,pathname:Br([s,f.pathname]),pathnameBase:VN(Br([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Br([s,f.pathnameBase]))}return i}function RN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,f,m)=>{let{paramName:g,isOptional:y}=f;if(g==="*"){let I=a[m]||"";o=i.slice(0,i.length-I.length).replace(/(.)\/+$/,"$1")}const T=a[m];return y&&!T?d[g]=void 0:d[g]=DN(T||"",g),d},{}),pathname:i,pathnameBase:o,pattern:t}}function PN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function jN(t){try{return decodeURI(t)}catch(e){return mu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DN(t,e){try{return decodeURIComponent(t)}catch(n){return mu(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Fp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ON(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Fs(t):t;return{pathname:n?n.startsWith("/")?n:LN(n,e):e,search:FN(r),hash:UN(s)}}function LN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function $d(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Up(t,e){let n=MN(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $p(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Fs(t):(s=wa({},t),De(!s.pathname||!s.pathname.includes("?"),$d("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),$d("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),$d("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}a=m>=0?e[m]:"/"}let u=ON(s,a),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Br=t=>t.join("/").replace(/\/\/+/g,"/"),VN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $N(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sx=["post","put","patch","delete"];new Set(Sx);const BN=["get",...Sx];new Set(BN);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_a.apply(this,arguments)}const Bp=C.createContext(null),zN=C.createContext(null),Zr=C.createContext(null),gu=C.createContext(null),Pn=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Nx=C.createContext(null);function qN(t,e){let{relative:n}=e===void 0?{}:e;Hi()||De(!1);let{basename:r,navigator:s}=C.useContext(Zr),{hash:i,pathname:o,search:a}=Ax(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Br([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Hi(){return C.useContext(gu)!=null}function Ki(){return Hi()||De(!1),C.useContext(gu).location}function kx(t){C.useContext(Zr).static||C.useLayoutEffect(t)}function dr(){let{isDataRoute:t}=C.useContext(Pn);return t?ok():WN()}function WN(){Hi()||De(!1);let t=C.useContext(Bp),{basename:e,future:n,navigator:r}=C.useContext(Zr),{matches:s}=C.useContext(Pn),{pathname:i}=Ki(),o=JSON.stringify(Up(s,n.v7_relativeSplatPath)),a=C.useRef(!1);return kx(()=>{a.current=!0}),C.useCallback(function(d,f){if(f===void 0&&(f={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let m=$p(d,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Br([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,o,i,t])}const GN=C.createContext(null);function HN(t){let e=C.useContext(Pn).outlet;return e&&C.createElement(GN.Provider,{value:t},e)}function KN(){let{matches:t}=C.useContext(Pn),e=t[t.length-1];return e?e.params:{}}function Ax(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(Zr),{matches:s}=C.useContext(Pn),{pathname:i}=Ki(),o=JSON.stringify(Up(s,r.v7_relativeSplatPath));return C.useMemo(()=>$p(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function QN(t,e){return YN(t,e)}function YN(t,e,n,r){Hi()||De(!1);let{navigator:s}=C.useContext(Zr),{matches:i}=C.useContext(Pn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Ki(),f;if(e){var m;let k=typeof e=="string"?Fs(e):e;u==="/"||(m=k.pathname)!=null&&m.startsWith(u)||De(!1),f=k}else f=d;let g=f.pathname||"/",y=u==="/"?g:g.slice(u.length)||"/",T=_N(t,{pathname:y}),I=tk(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Br([u,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Br([u,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return e&&I?C.createElement(gu.Provider,{value:{location:_a({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Pr.Pop}},I):I}function XN(){let t=ik(),e=$N(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,null)}const JN=C.createElement(XN,null);class ZN extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Pn.Provider,{value:this.props.routeContext},C.createElement(Nx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ek(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Bp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Pn.Provider,{value:e},r)}function tk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id]));f>=0||De(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:g,errors:y}=n,T=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||T){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((f,m,g)=>{let y,T=!1,I=null,k=null;n&&(y=a&&m.route.id?a[m.route.id]:void 0,I=m.route.errorElement||JN,u&&(d<0&&g===0?(T=!0,k=null):d===g&&(T=!0,k=m.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,g+1)),x=()=>{let b;return y?b=I:T?b=k:m.route.Component?b=C.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=f,C.createElement(ek,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:b})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?C.createElement(ZN,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var Cx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cx||{}),Dc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dc||{});function nk(t){let e=C.useContext(Bp);return e||De(!1),e}function rk(t){let e=C.useContext(zN);return e||De(!1),e}function sk(t){let e=C.useContext(Pn);return e||De(!1),e}function Rx(t){let e=sk(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function ik(){var t;let e=C.useContext(Nx),n=rk(Dc.UseRouteError),r=Rx(Dc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ok(){let{router:t}=nk(Cx.UseNavigateStable),e=Rx(Dc.UseNavigateStable),n=C.useRef(!1);return kx(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_a({fromRouteId:e},i)))},[t,e])}function Ko(t){let{to:e,replace:n,state:r,relative:s}=t;Hi()||De(!1);let{future:i,static:o}=C.useContext(Zr),{matches:a}=C.useContext(Pn),{pathname:u}=Ki(),d=dr(),f=$p(e,Up(a,i.v7_relativeSplatPath),u,s==="path"),m=JSON.stringify(f);return C.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:s}),[d,m,s,n,r]),null}function ak(t){return HN(t.context)}function Ct(t){De(!1)}function lk(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Pr.Pop,navigator:i,static:o=!1,future:a}=t;Hi()&&De(!1);let u=e.replace(/^\/*/,"/"),d=C.useMemo(()=>({basename:u,navigator:i,static:o,future:_a({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=Fs(r));let{pathname:f="/",search:m="",hash:g="",state:y=null,key:T="default"}=r,I=C.useMemo(()=>{let k=Fp(f,u);return k==null?null:{location:{pathname:k,search:m,hash:g,state:y,key:T},navigationType:s}},[u,f,m,g,y,T,s]);return I==null?null:C.createElement(Zr.Provider,{value:d},C.createElement(gu.Provider,{children:n,value:I}))}function ck(t){let{children:e,location:n}=t;return QN(uf(e),n)}new Promise(()=>{});function uf(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,uf(r.props.children,i));return}r.type!==Ct&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=uf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function uk(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function dk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hk(t,e){return t.button===0&&(!e||e==="_self")&&!dk(t)}const fk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],pk="6";try{window.__reactRouterVersion=pk}catch{}const mk="startTransition",p0=iI[mk];function gk(t){let{basename:e,children:n,future:r,window:s}=t,i=C.useRef();i.current==null&&(i.current=yN({window:s,v5Compat:!0}));let o=i.current,[a,u]=C.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},f=C.useCallback(m=>{d&&p0?p0(()=>u(m)):u(m)},[u,d]);return C.useLayoutEffect(()=>o.listen(f),[o,f]),C.createElement(lk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const yk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:d,preventScrollReset:f,unstable_viewTransition:m}=e,g=uk(e,fk),{basename:y}=C.useContext(Zr),T,I=!1;if(typeof d=="string"&&vk.test(d)&&(T=d,yk))try{let b=new URL(window.location.href),j=d.startsWith("//")?new URL(b.protocol+d):new URL(d),L=Fp(j.pathname,y);j.origin===b.origin&&L!=null?d=L+j.search+j.hash:I=!0}catch{}let k=qN(d,{relative:s}),_=wk(d,{replace:o,state:a,target:u,preventScrollReset:f,relative:s,unstable_viewTransition:m});function x(b){r&&r(b),b.defaultPrevented||_(b)}return C.createElement("a",df({},g,{href:T||k,onClick:I||i?r:x,ref:n,target:u}))});var m0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(m0||(m0={}));var g0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g0||(g0={}));function wk(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=dr(),d=Ki(),f=Ax(t,{relative:o});return C.useCallback(m=>{if(hk(m,n)){m.preventDefault();let g=r!==void 0?r:jc(d)===jc(f);u(t,{replace:g,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[d,u,f,r,s,n,t,i,o,a])}var y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_k=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},jx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=i>>2,m=(i&3)<<4|a>>4;let g=(a&15)<<2|d>>6,y=d&63;u||(y=64,o||(g=64)),r.push(n[f],n[m],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_k(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||m==null)throw new xk;const g=i<<2|a>>4;if(r.push(g),d!==64){const y=a<<4&240|d>>2;if(r.push(y),m!==64){const T=d<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ek=function(t){const e=Px(t);return jx.encodeByteArray(e,!0)},Oc=function(t){return Ek(t).replace(/\./g,"")},Dx=function(t){try{return jx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=()=>bk().__FIREBASE_DEFAULTS__,Ik=()=>{if(typeof process>"u"||typeof y0>"u")return;const t=y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Sk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Dx(t[1]);return e&&JSON.parse(e)},yu=()=>{try{return Tk()||Ik()||Sk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ox=t=>{var e,n;return(n=(e=yu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zp=t=>{const e=Ox(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Lx=()=>{var t;return(t=yu())===null||t===void 0?void 0:t.config},Mx=t=>{var e;return(e=yu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oc(JSON.stringify(n)),Oc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Ak(){var t;const e=(t=yu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ck(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pk(){const t=gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jk(){return!Ak()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qp(){try{return typeof indexedDB=="object"}catch{return!1}}function Wp(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Ux(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="FirebaseError";class Kt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dk,Object.setPrototypeOf(this,Kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,es.prototype.create)}}class es{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Ok(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Kt(s,a,r)}}function Ok(t,e){return t.replace(Lk,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Lk=/\{\$([^}]+)}/g;function Mk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(v0(i)&&v0(o)){if(!xa(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function v0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Do(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Vk(t,e){const n=new Fk(t,e);return n.subscribe.bind(n)}class Fk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Uk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Bd),s.error===void 0&&(s.error=Bd),s.complete===void 0&&(s.complete=Bd);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Uk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bd(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=1e3,Bk=2,zk=4*60*60*1e3,qk=.5;function w0(t,e=$k,n=Bk){const r=e*Math.pow(n,t),s=Math.round(qk*r*(Math.random()-.5)*2);return Math.min(zk,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t){return t&&t._delegate?t._delegate:t}class St{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Hk(e))try{this.getOrInitializeService({instanceIdentifier:cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cs){return this.instances.has(e)}getOptions(e=cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cs){return this.component?this.component.multipleInstances?e:cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gk(t){return t===cs?void 0:t}function Hk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Wk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const Qk={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Yk=se.INFO,Xk={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Jk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Xk[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vu{constructor(e){this.name=e,this._logLevel=Yk,this._logHandler=Jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const Zk=(t,e)=>e.some(n=>t instanceof n);let _0,x0;function eA(){return _0||(_0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tA(){return x0||(x0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $x=new WeakMap,hf=new WeakMap,Bx=new WeakMap,zd=new WeakMap,Gp=new WeakMap;function nA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Xn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&$x.set(n,t)}).catch(()=>{}),Gp.set(e,t),e}function rA(t){if(hf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hf.set(t,e)}let ff={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sA(t){ff=t(ff)}function iA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qd(this),e,...n);return Bx.set(r,e.sort?e.sort():[e]),Xn(r)}:tA().includes(t)?function(...e){return t.apply(qd(this),e),Xn($x.get(this))}:function(...e){return Xn(t.apply(qd(this),e))}}function oA(t){return typeof t=="function"?iA(t):(t instanceof IDBTransaction&&rA(t),Zk(t,eA())?new Proxy(t,ff):t)}function Xn(t){if(t instanceof IDBRequest)return nA(t);if(zd.has(t))return zd.get(t);const e=oA(t);return e!==t&&(zd.set(t,e),Gp.set(e,t)),e}const qd=t=>Gp.get(t);function wu(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Xn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Xn(o.result),u.oldVersion,u.newVersion,Xn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}function Wd(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),Xn(n).then(()=>{})}const aA=["get","getKey","getAll","getAllKeys","count"],lA=["put","add","delete","clear"],Gd=new Map;function E0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||aA.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&u.done]))[0]};return Gd.set(e,i),i}sA(t=>({...t,get:(e,n,r)=>E0(e,n)||t.get(e,n,r),has:(e,n)=>!!E0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pf="@firebase/app",b0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr=new vu("@firebase/app"),dA="@firebase/app-compat",hA="@firebase/analytics-compat",fA="@firebase/analytics",pA="@firebase/app-check-compat",mA="@firebase/app-check",gA="@firebase/auth",yA="@firebase/auth-compat",vA="@firebase/database",wA="@firebase/data-connect",_A="@firebase/database-compat",xA="@firebase/functions",EA="@firebase/functions-compat",bA="@firebase/installations",TA="@firebase/installations-compat",IA="@firebase/messaging",SA="@firebase/messaging-compat",NA="@firebase/performance",kA="@firebase/performance-compat",AA="@firebase/remote-config",CA="@firebase/remote-config-compat",RA="@firebase/storage",PA="@firebase/storage-compat",jA="@firebase/firestore",DA="@firebase/vertexai-preview",OA="@firebase/firestore-compat",LA="firebase",MA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="[DEFAULT]",VA={[pf]:"fire-core",[dA]:"fire-core-compat",[fA]:"fire-analytics",[hA]:"fire-analytics-compat",[mA]:"fire-app-check",[pA]:"fire-app-check-compat",[gA]:"fire-auth",[yA]:"fire-auth-compat",[vA]:"fire-rtdb",[wA]:"fire-data-connect",[_A]:"fire-rtdb-compat",[xA]:"fire-fn",[EA]:"fire-fn-compat",[bA]:"fire-iid",[TA]:"fire-iid-compat",[IA]:"fire-fcm",[SA]:"fire-fcm-compat",[NA]:"fire-perf",[kA]:"fire-perf-compat",[AA]:"fire-rc",[CA]:"fire-rc-compat",[RA]:"fire-gcs",[PA]:"fire-gcs-compat",[jA]:"fire-fst",[OA]:"fire-fst-compat",[DA]:"fire-vertex","fire-js":"fire-js",[LA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,FA=new Map,gf=new Map;function T0(t,e){try{t.container.addComponent(e)}catch(n){sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lt(t){const e=t.name;if(gf.has(e))return sr.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,t);for(const n of Lc.values())T0(n,t);for(const n of FA.values())T0(n,t);return!0}function jn(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function En(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new es("app","Firebase",UA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new St("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=MA;function zx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw zr.create("bad-app-name",{appName:String(s)});if(n||(n=Lx()),!n)throw zr.create("no-options");const i=Lc.get(s);if(i){if(xa(n,i.options)&&xa(r,i.config))return i;throw zr.create("duplicate-app",{appName:s})}const o=new Kk(s);for(const u of gf.values())o.addComponent(u);const a=new $A(n,r,o);return Lc.set(s,a),a}function Qi(t=mf){const e=Lc.get(t);if(!e&&t===mf&&Lx())return zx();if(!e)throw zr.create("no-app",{appName:t});return e}function He(t,e,n){var r;let s=(r=VA[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),sr.warn(a.join(" "));return}Lt(new St(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-heartbeat-database",zA=1,Ea="firebase-heartbeat-store";let Hd=null;function qx(){return Hd||(Hd=wu(BA,zA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw zr.create("idb-open",{originalErrorMessage:t.message})})),Hd}async function qA(t){try{const n=(await qx()).transaction(Ea),r=await n.objectStore(Ea).get(Wx(t));return await n.done,r}catch(e){if(e instanceof Kt)sr.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sr.warn(n.message)}}}async function I0(t,e){try{const r=(await qx()).transaction(Ea,"readwrite");await r.objectStore(Ea).put(e,Wx(t)),await r.done}catch(n){if(n instanceof Kt)sr.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});sr.warn(r.message)}}}function Wx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1024,GA=30*24*60*60*1e3;class HA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=S0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=GA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=S0(),{heartbeatsToSend:r,unsentEntries:s}=KA(this._heartbeatsCache.heartbeats),i=Oc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return sr.warn(n),""}}}function S0(){return new Date().toISOString().substring(0,10)}function KA(t,e=WA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),N0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),N0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qp()?Wp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function N0(t){return Oc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){Lt(new St("platform-logger",e=>new cA(e),"PRIVATE")),Lt(new St("heartbeat",e=>new HA(e),"PRIVATE")),He(pf,b0,t),He(pf,b0,"esm2017"),He("fire-js","")}YA("");var XA="firebase",JA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */He(XA,JA,"app");var k0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,Gx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,w){function E(){}E.prototype=w.prototype,S.D=w.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(N,R,P){for(var A=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)A[Ue-2]=arguments[Ue];return w.prototype[R].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,w,E){E||(E=0);var N=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)N[R]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(R=0;16>R;++R)N[R]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=S.g[0],E=S.g[1],R=S.g[2];var P=S.g[3],A=w+(P^E&(R^P))+N[0]+3614090360&4294967295;w=E+(A<<7&4294967295|A>>>25),A=P+(R^w&(E^R))+N[1]+3905402710&4294967295,P=w+(A<<12&4294967295|A>>>20),A=R+(E^P&(w^E))+N[2]+606105819&4294967295,R=P+(A<<17&4294967295|A>>>15),A=E+(w^R&(P^w))+N[3]+3250441966&4294967295,E=R+(A<<22&4294967295|A>>>10),A=w+(P^E&(R^P))+N[4]+4118548399&4294967295,w=E+(A<<7&4294967295|A>>>25),A=P+(R^w&(E^R))+N[5]+1200080426&4294967295,P=w+(A<<12&4294967295|A>>>20),A=R+(E^P&(w^E))+N[6]+2821735955&4294967295,R=P+(A<<17&4294967295|A>>>15),A=E+(w^R&(P^w))+N[7]+4249261313&4294967295,E=R+(A<<22&4294967295|A>>>10),A=w+(P^E&(R^P))+N[8]+1770035416&4294967295,w=E+(A<<7&4294967295|A>>>25),A=P+(R^w&(E^R))+N[9]+2336552879&4294967295,P=w+(A<<12&4294967295|A>>>20),A=R+(E^P&(w^E))+N[10]+4294925233&4294967295,R=P+(A<<17&4294967295|A>>>15),A=E+(w^R&(P^w))+N[11]+2304563134&4294967295,E=R+(A<<22&4294967295|A>>>10),A=w+(P^E&(R^P))+N[12]+1804603682&4294967295,w=E+(A<<7&4294967295|A>>>25),A=P+(R^w&(E^R))+N[13]+4254626195&4294967295,P=w+(A<<12&4294967295|A>>>20),A=R+(E^P&(w^E))+N[14]+2792965006&4294967295,R=P+(A<<17&4294967295|A>>>15),A=E+(w^R&(P^w))+N[15]+1236535329&4294967295,E=R+(A<<22&4294967295|A>>>10),A=w+(R^P&(E^R))+N[1]+4129170786&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^R&(w^E))+N[6]+3225465664&4294967295,P=w+(A<<9&4294967295|A>>>23),A=R+(w^E&(P^w))+N[11]+643717713&4294967295,R=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(R^P))+N[0]+3921069994&4294967295,E=R+(A<<20&4294967295|A>>>12),A=w+(R^P&(E^R))+N[5]+3593408605&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^R&(w^E))+N[10]+38016083&4294967295,P=w+(A<<9&4294967295|A>>>23),A=R+(w^E&(P^w))+N[15]+3634488961&4294967295,R=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(R^P))+N[4]+3889429448&4294967295,E=R+(A<<20&4294967295|A>>>12),A=w+(R^P&(E^R))+N[9]+568446438&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^R&(w^E))+N[14]+3275163606&4294967295,P=w+(A<<9&4294967295|A>>>23),A=R+(w^E&(P^w))+N[3]+4107603335&4294967295,R=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(R^P))+N[8]+1163531501&4294967295,E=R+(A<<20&4294967295|A>>>12),A=w+(R^P&(E^R))+N[13]+2850285829&4294967295,w=E+(A<<5&4294967295|A>>>27),A=P+(E^R&(w^E))+N[2]+4243563512&4294967295,P=w+(A<<9&4294967295|A>>>23),A=R+(w^E&(P^w))+N[7]+1735328473&4294967295,R=P+(A<<14&4294967295|A>>>18),A=E+(P^w&(R^P))+N[12]+2368359562&4294967295,E=R+(A<<20&4294967295|A>>>12),A=w+(E^R^P)+N[5]+4294588738&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^R)+N[8]+2272392833&4294967295,P=w+(A<<11&4294967295|A>>>21),A=R+(P^w^E)+N[11]+1839030562&4294967295,R=P+(A<<16&4294967295|A>>>16),A=E+(R^P^w)+N[14]+4259657740&4294967295,E=R+(A<<23&4294967295|A>>>9),A=w+(E^R^P)+N[1]+2763975236&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^R)+N[4]+1272893353&4294967295,P=w+(A<<11&4294967295|A>>>21),A=R+(P^w^E)+N[7]+4139469664&4294967295,R=P+(A<<16&4294967295|A>>>16),A=E+(R^P^w)+N[10]+3200236656&4294967295,E=R+(A<<23&4294967295|A>>>9),A=w+(E^R^P)+N[13]+681279174&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^R)+N[0]+3936430074&4294967295,P=w+(A<<11&4294967295|A>>>21),A=R+(P^w^E)+N[3]+3572445317&4294967295,R=P+(A<<16&4294967295|A>>>16),A=E+(R^P^w)+N[6]+76029189&4294967295,E=R+(A<<23&4294967295|A>>>9),A=w+(E^R^P)+N[9]+3654602809&4294967295,w=E+(A<<4&4294967295|A>>>28),A=P+(w^E^R)+N[12]+3873151461&4294967295,P=w+(A<<11&4294967295|A>>>21),A=R+(P^w^E)+N[15]+530742520&4294967295,R=P+(A<<16&4294967295|A>>>16),A=E+(R^P^w)+N[2]+3299628645&4294967295,E=R+(A<<23&4294967295|A>>>9),A=w+(R^(E|~P))+N[0]+4096336452&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~R))+N[7]+1126891415&4294967295,P=w+(A<<10&4294967295|A>>>22),A=R+(w^(P|~E))+N[14]+2878612391&4294967295,R=P+(A<<15&4294967295|A>>>17),A=E+(P^(R|~w))+N[5]+4237533241&4294967295,E=R+(A<<21&4294967295|A>>>11),A=w+(R^(E|~P))+N[12]+1700485571&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~R))+N[3]+2399980690&4294967295,P=w+(A<<10&4294967295|A>>>22),A=R+(w^(P|~E))+N[10]+4293915773&4294967295,R=P+(A<<15&4294967295|A>>>17),A=E+(P^(R|~w))+N[1]+2240044497&4294967295,E=R+(A<<21&4294967295|A>>>11),A=w+(R^(E|~P))+N[8]+1873313359&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~R))+N[15]+4264355552&4294967295,P=w+(A<<10&4294967295|A>>>22),A=R+(w^(P|~E))+N[6]+2734768916&4294967295,R=P+(A<<15&4294967295|A>>>17),A=E+(P^(R|~w))+N[13]+1309151649&4294967295,E=R+(A<<21&4294967295|A>>>11),A=w+(R^(E|~P))+N[4]+4149444226&4294967295,w=E+(A<<6&4294967295|A>>>26),A=P+(E^(w|~R))+N[11]+3174756917&4294967295,P=w+(A<<10&4294967295|A>>>22),A=R+(w^(P|~E))+N[2]+718787259&4294967295,R=P+(A<<15&4294967295|A>>>17),A=E+(P^(R|~w))+N[9]+3951481745&4294967295,S.g[0]=S.g[0]+w&4294967295,S.g[1]=S.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+P&4294967295}r.prototype.u=function(S,w){w===void 0&&(w=S.length);for(var E=w-this.blockSize,N=this.B,R=this.h,P=0;P<w;){if(R==0)for(;P<=E;)s(this,S,P),P+=this.blockSize;if(typeof S=="string"){for(;P<w;)if(N[R++]=S.charCodeAt(P++),R==this.blockSize){s(this,N),R=0;break}}else for(;P<w;)if(N[R++]=S[P++],R==this.blockSize){s(this,N),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var w=1;w<S.length-8;++w)S[w]=0;var E=8*this.o;for(w=S.length-8;w<S.length;++w)S[w]=E&255,E/=256;for(this.u(S),S=Array(16),w=E=0;4>w;++w)for(var N=0;32>N;N+=8)S[E++]=this.g[w]>>>N&255;return S};function i(S,w){var E=a;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=w(S)}function o(S,w){this.h=w;for(var E=[],N=!0,R=S.length-1;0<=R;R--){var P=S[R]|0;N&&P==w||(E[R]=P,N=!1)}this.g=E}var a={};function u(S){return-128<=S&&128>S?i(S,function(w){return new o([w|0],0>w?-1:0)}):new o([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return k(d(-S));for(var w=[],E=1,N=0;S>=E;N++)w[N]=S/E|0,E*=4294967296;return new o(w,0)}function f(S,w){if(S.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S.charAt(0)=="-")return k(f(S.substring(1),w));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(w,8)),N=m,R=0;R<S.length;R+=8){var P=Math.min(8,S.length-R),A=parseInt(S.substring(R,R+P),w);8>P?(P=d(Math.pow(w,P)),N=N.j(P).add(d(A))):(N=N.j(E),N=N.add(d(A)))}return N}var m=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-k(this).m();for(var S=0,w=1,E=0;E<this.g.length;E++){var N=this.i(E);S+=(0<=N?N:4294967296+N)*w,w*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T(this))return"0";if(I(this))return"-"+k(this).toString(S);for(var w=d(Math.pow(S,6)),E=this,N="";;){var R=j(E,w).g;E=_(E,R.j(w));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=R,T(E))return P+N;for(;6>P.length;)P="0"+P;N=P+N}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function T(S){if(S.h!=0)return!1;for(var w=0;w<S.g.length;w++)if(S.g[w]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=_(this,S),I(S)?-1:T(S)?0:1};function k(S){for(var w=S.g.length,E=[],N=0;N<w;N++)E[N]=~S.g[N];return new o(E,~S.h).add(g)}t.abs=function(){return I(this)?k(this):this},t.add=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],N=0,R=0;R<=w;R++){var P=N+(this.i(R)&65535)+(S.i(R)&65535),A=(P>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);N=A>>>16,P&=65535,A&=65535,E[R]=A<<16|P}return new o(E,E[E.length-1]&-2147483648?-1:0)};function _(S,w){return S.add(k(w))}t.j=function(S){if(T(this)||T(S))return m;if(I(this))return I(S)?k(this).j(k(S)):k(k(this).j(S));if(I(S))return k(this.j(k(S)));if(0>this.l(y)&&0>S.l(y))return d(this.m()*S.m());for(var w=this.g.length+S.g.length,E=[],N=0;N<2*w;N++)E[N]=0;for(N=0;N<this.g.length;N++)for(var R=0;R<S.g.length;R++){var P=this.i(N)>>>16,A=this.i(N)&65535,Ue=S.i(R)>>>16,At=S.i(R)&65535;E[2*N+2*R]+=A*At,x(E,2*N+2*R),E[2*N+2*R+1]+=P*At,x(E,2*N+2*R+1),E[2*N+2*R+1]+=A*Ue,x(E,2*N+2*R+1),E[2*N+2*R+2]+=P*Ue,x(E,2*N+2*R+2)}for(N=0;N<w;N++)E[N]=E[2*N+1]<<16|E[2*N];for(N=w;N<2*w;N++)E[N]=0;return new o(E,0)};function x(S,w){for(;(S[w]&65535)!=S[w];)S[w+1]+=S[w]>>>16,S[w]&=65535,w++}function b(S,w){this.g=S,this.h=w}function j(S,w){if(T(w))throw Error("division by zero");if(T(S))return new b(m,m);if(I(S))return w=j(k(S),w),new b(k(w.g),k(w.h));if(I(w))return w=j(S,k(w)),new b(k(w.g),w.h);if(30<S.g.length){if(I(S)||I(w))throw Error("slowDivide_ only works with positive integers.");for(var E=g,N=w;0>=N.l(S);)E=L(E),N=L(N);var R=V(E,1),P=V(N,1);for(N=V(N,2),E=V(E,2);!T(N);){var A=P.add(N);0>=A.l(S)&&(R=R.add(E),P=A),N=V(N,1),E=V(E,1)}return w=_(S,R.j(w)),new b(R,w)}for(R=m;0<=S.l(w);){for(E=Math.max(1,Math.floor(S.m()/w.m())),N=Math.ceil(Math.log(E)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),P=d(E),A=P.j(w);I(A)||0<A.l(S);)E-=N,P=d(E),A=P.j(w);T(P)&&(P=g),R=R.add(P),S=_(S,A)}return new b(R,S)}t.A=function(S){return j(this,S).h},t.and=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],N=0;N<w;N++)E[N]=this.i(N)&S.i(N);return new o(E,this.h&S.h)},t.or=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],N=0;N<w;N++)E[N]=this.i(N)|S.i(N);return new o(E,this.h|S.h)},t.xor=function(S){for(var w=Math.max(this.g.length,S.g.length),E=[],N=0;N<w;N++)E[N]=this.i(N)^S.i(N);return new o(E,this.h^S.h)};function L(S){for(var w=S.g.length+1,E=[],N=0;N<w;N++)E[N]=S.i(N)<<1|S.i(N-1)>>>31;return new o(E,S.h)}function V(S,w){var E=w>>5;w%=32;for(var N=S.g.length-E,R=[],P=0;P<N;P++)R[P]=0<w?S.i(P+E)>>>w|S.i(P+E+1)<<32-w:S.i(P+E);return new o(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Gx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,_s=o}).apply(typeof k0<"u"?k0:typeof self<"u"?self:typeof window<"u"?window:{});var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hx,Oo,Kx,ec,yf,Qx,Yx,Xx;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof jl=="object"&&jl];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var p=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var D=l[v];if(!(D in p))break e;p=p[D]}l=l[l.length-1],v=p[l],h=h(v),h!=v&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var p=0,v=!1,D={next:function(){if(!v&&p<l.length){var O=p++;return{value:h(O,l[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,p){return l.call.apply(l.bind,arguments)}function m(l,h,p){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),l.apply(h,D)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function y(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function T(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(v,D,O){for(var $=Array(arguments.length-2),me=2;me<arguments.length;me++)$[me-2]=arguments[me];return h.prototype[D].apply(v,$)}}function I(l){const h=l.length;if(0<h){const p=Array(h);for(let v=0;v<h;v++)p[v]=l[v];return p}return[]}function k(l,h){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(u(v)){const D=l.length||0,O=v.length||0;l.length=D+O;for(let $=0;$<O;$++)l[D+$]=v[$]}else l.push(v)}}class _{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function x(l){return/^[\s\xa0]*$/.test(l)}function b(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var L=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function V(l,h,p){for(const v in l)h.call(p,l[v],v,l)}function S(l,h){for(const p in l)h.call(void 0,l[p],p,l)}function w(l){const h={};for(const p in l)h[p]=l[p];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(l,h){let p,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(p in v)l[p]=v[p];for(let O=0;O<E.length;O++)p=E[O],Object.prototype.hasOwnProperty.call(v,p)&&(l[p]=v[p])}}function R(l){var h=1;l=l.split(":");const p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function P(l){a.setTimeout(()=>{throw l},0)}function A(){var l=H;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Ue{constructor(){this.h=this.g=null}add(h,p){const v=At.get();v.set(h,p),this.h?this.h.next=v:this.g=v,this.h=v}}var At=new _(()=>new Mt,l=>l.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,B=!1,H=new Ue,Y=()=>{const l=a.Promise.resolve(void 0);yt=()=>{l.then(z)}};var z=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(p){P(p)}var h=At;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}B=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Dn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function On(l,h){if(pe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(L){e:{try{j(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ln[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&On.aa.h.call(this)}}T(On,pe);var Ln={2:"touch",3:"pen",4:"mouse"};On.prototype.h=function(){On.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Mn="closure_listenable_"+(1e6*Math.random()|0),d1=0;function h1(l,h,p,v,D){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!v,this.ha=D,this.key=++d1,this.da=this.fa=!1}function Ja(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Za(l){this.src=l,this.g={},this.h=0}Za.prototype.add=function(l,h,p,v,D){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var $=Hu(l,h,v,D);return-1<$?(h=l[$],p||(h.fa=!1)):(h=new h1(h,this.src,O,!!v,D),h.fa=p,l.push(h)),h};function Gu(l,h){var p=h.type;if(p in l.g){var v=l.g[p],D=Array.prototype.indexOf.call(v,h,void 0),O;(O=0<=D)&&Array.prototype.splice.call(v,D,1),O&&(Ja(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Hu(l,h,p,v){for(var D=0;D<l.length;++D){var O=l[D];if(!O.da&&O.listener==h&&O.capture==!!p&&O.ha==v)return D}return-1}var Ku="closure_lm_"+(1e6*Math.random()|0),Qu={};function ng(l,h,p,v,D){if(Array.isArray(h)){for(var O=0;O<h.length;O++)ng(l,h[O],p,v,D);return null}return p=ig(p),l&&l[Mn]?l.K(h,p,d(v)?!!v.capture:!!v,D):f1(l,h,p,!1,v,D)}function f1(l,h,p,v,D,O){if(!h)throw Error("Invalid event type");var $=d(D)?!!D.capture:!!D,me=Xu(l);if(me||(l[Ku]=me=new Za(l)),p=me.add(h,p,v,$,O),p.proxy)return p;if(v=p1(),p.proxy=v,v.src=l,v.listener=p,l.addEventListener)Dn||(D=$),D===void 0&&(D=!1),l.addEventListener(h.toString(),v,D);else if(l.attachEvent)l.attachEvent(sg(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function p1(){function l(p){return h.call(l.src,l.listener,p)}const h=m1;return l}function rg(l,h,p,v,D){if(Array.isArray(h))for(var O=0;O<h.length;O++)rg(l,h[O],p,v,D);else v=d(v)?!!v.capture:!!v,p=ig(p),l&&l[Mn]?(l=l.i,h=String(h).toString(),h in l.g&&(O=l.g[h],p=Hu(O,p,v,D),-1<p&&(Ja(O[p]),Array.prototype.splice.call(O,p,1),O.length==0&&(delete l.g[h],l.h--)))):l&&(l=Xu(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Hu(h,p,v,D)),(p=-1<l?h[l]:null)&&Yu(p))}function Yu(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Mn])Gu(h.i,l);else{var p=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(p,v,l.capture):h.detachEvent?h.detachEvent(sg(p),v):h.addListener&&h.removeListener&&h.removeListener(v),(p=Xu(h))?(Gu(p,l),p.h==0&&(p.src=null,h[Ku]=null)):Ja(l)}}}function sg(l){return l in Qu?Qu[l]:Qu[l]="on"+l}function m1(l,h){if(l.da)l=!0;else{h=new On(h,this);var p=l.listener,v=l.ha||l.src;l.fa&&Yu(l),l=p.call(v,h)}return l}function Xu(l){return l=l[Ku],l instanceof Za?l:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function ig(l){return typeof l=="function"?l:(l[Ju]||(l[Ju]=function(h){return l.handleEvent(h)}),l[Ju])}function st(){X.call(this),this.i=new Za(this),this.M=this,this.F=null}T(st,X),st.prototype[Mn]=!0,st.prototype.removeEventListener=function(l,h,p,v){rg(this,l,h,p,v)};function vt(l,h){var p,v=l.F;if(v)for(p=[];v;v=v.F)p.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new pe(h,l);else if(h instanceof pe)h.target=h.target||l;else{var D=h;h=new pe(v,l),N(h,D)}if(D=!0,p)for(var O=p.length-1;0<=O;O--){var $=h.g=p[O];D=el($,v,!0,h)&&D}if($=h.g=l,D=el($,v,!0,h)&&D,D=el($,v,!1,h)&&D,p)for(O=0;O<p.length;O++)$=h.g=p[O],D=el($,v,!1,h)&&D}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],v=0;v<p.length;v++)Ja(p[v]);delete l.g[h],l.h--}}this.F=null},st.prototype.K=function(l,h,p,v){return this.i.add(String(l),h,!1,p,v)},st.prototype.L=function(l,h,p,v){return this.i.add(String(l),h,!0,p,v)};function el(l,h,p,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,O=0;O<h.length;++O){var $=h[O];if($&&!$.da&&$.capture==p){var me=$.listener,Ke=$.ha||$.src;$.fa&&Gu(l.i,$),D=me.call(Ke,v)!==!1&&D}}return D&&!v.defaultPrevented}function og(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function ag(l){l.g=og(()=>{l.g=null,l.i&&(l.i=!1,ag(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class g1 extends X{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ag(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ro(l){X.call(this),this.h=l,this.g={}}T(ro,X);var lg=[];function cg(l){V(l.g,function(h,p){this.g.hasOwnProperty(p)&&Yu(h)},l),l.g={}}ro.prototype.N=function(){ro.aa.N.call(this),cg(this)},ro.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zu=a.JSON.stringify,y1=a.JSON.parse,v1=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ed(){}ed.prototype.h=null;function ug(l){return l.h||(l.h=l.i())}function dg(){}var so={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function td(){pe.call(this,"d")}T(td,pe);function nd(){pe.call(this,"c")}T(nd,pe);var rs={},hg=null;function tl(){return hg=hg||new st}rs.La="serverreachability";function fg(l){pe.call(this,rs.La,l)}T(fg,pe);function io(l){const h=tl();vt(h,new fg(h))}rs.STAT_EVENT="statevent";function pg(l,h){pe.call(this,rs.STAT_EVENT,l),this.stat=h}T(pg,pe);function wt(l){const h=tl();vt(h,new pg(h,l))}rs.Ma="timingevent";function mg(l,h){pe.call(this,rs.Ma,l),this.size=h}T(mg,pe);function oo(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ao(){this.g=!0}ao.prototype.xa=function(){this.g=!1};function w1(l,h,p,v,D,O){l.info(function(){if(l.g)if(O)for(var $="",me=O.split("&"),Ke=0;Ke<me.length;Ke++){var ae=me[Ke].split("=");if(1<ae.length){var it=ae[0];ae=ae[1];var ot=it.split("_");$=2<=ot.length&&ot[1]=="type"?$+(it+"="+ae+"&"):$+(it+"=redacted&")}}else $=null;else $=O;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+h+`
`+p+`
`+$})}function _1(l,h,p,v,D,O,$){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+h+`
`+p+`
`+O+" "+$})}function Ws(l,h,p,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+E1(l,p)+(v?" "+v:"")})}function x1(l,h){l.info(function(){return"TIMEOUT: "+h})}ao.prototype.info=function(){};function E1(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var v=p[l];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var $=1;$<D.length;$++)D[$]=""}}}}return Zu(p)}catch{return h}}var nl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rd;function rl(){}T(rl,ed),rl.prototype.g=function(){return new XMLHttpRequest},rl.prototype.i=function(){return{}},rd=new rl;function pr(l,h,p,v){this.j=l,this.i=h,this.l=p,this.R=v||1,this.U=new ro(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yg}function yg(){this.i=null,this.g="",this.h=!1}var vg={},sd={};function id(l,h,p){l.L=1,l.v=al(Vn(h)),l.m=p,l.P=!0,wg(l,null)}function wg(l,h){l.F=Date.now(),sl(l),l.A=Vn(l.v);var p=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),jg(p.i,"t",v),l.C=0,p=l.j.J,l.h=new yg,l.g=Xg(l.j,p?h:null,!l.m),0<l.O&&(l.M=new g1(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,v=l.ca;var D="readystatechange";Array.isArray(D)||(D&&(lg[0]=D.toString()),D=lg);for(var O=0;O<D.length;O++){var $=ng(p,D[O],v||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.H?w(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),io(),w1(l.i,l.u,l.A,l.l,l.R,l.m)}pr.prototype.ca=function(l){l=l.target;const h=this.M;h&&Fn(l)==3?h.j():this.Y(l)},pr.prototype.Y=function(l){try{if(l==this.g)e:{const ot=Fn(this.g);var h=this.g.Ba();const Ks=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Ug(this.g)))){this.J||ot!=4||h==7||(h==8||0>=Ks?io(3):io(2)),od(this);var p=this.g.Z();this.X=p;t:if(_g(this)){var v=Ug(this.g);l="";var D=v.length,O=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ss(this),lo(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(O&&h==D-1)});v.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,_1(this.i,this.u,this.A,this.l,this.R,ot,p),this.o){if(this.T&&!this.K){t:{if(this.g){var me,Ke=this.g;if((me=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(me)){var ae=me;break t}}ae=null}if(p=ae)Ws(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ad(this,p);else{this.o=!1,this.s=3,wt(12),ss(this),lo(this);break e}}if(this.P){p=!0;let sn;for(;!this.J&&this.C<$.length;)if(sn=b1(this,$),sn==sd){ot==4&&(this.s=4,wt(14),p=!1),Ws(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==vg){this.s=4,wt(15),Ws(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Ws(this.i,this.l,sn,null),ad(this,sn);if(_g(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||$.length!=0||this.h.h||(this.s=1,wt(16),p=!1),this.o=this.o&&p,!p)Ws(this.i,this.l,$,"[Invalid Chunked Response]"),ss(this),lo(this);else if(0<$.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),fd(it),it.M=!0,wt(11))}}else Ws(this.i,this.l,$,null),ad(this,$);ot==4&&ss(this),this.o&&!this.J&&(ot==4?Hg(this.j,this):(this.o=!1,sl(this)))}else U1(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),ss(this),lo(this)}}}catch{}finally{}};function _g(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function b1(l,h){var p=l.C,v=h.indexOf(`
`,p);return v==-1?sd:(p=Number(h.substring(p,v)),isNaN(p)?vg:(v+=1,v+p>h.length?sd:(h=h.slice(v,v+p),l.C=v+p,h)))}pr.prototype.cancel=function(){this.J=!0,ss(this)};function sl(l){l.S=Date.now()+l.I,xg(l,l.I)}function xg(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=oo(g(l.ba,l),h)}function od(l){l.B&&(a.clearTimeout(l.B),l.B=null)}pr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(x1(this.i,this.A),this.L!=2&&(io(),wt(17)),ss(this),this.s=2,lo(this)):xg(this,this.S-l)};function lo(l){l.j.G==0||l.J||Hg(l.j,l)}function ss(l){od(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,cg(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function ad(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||ld(p.h,l))){if(!l.K&&ld(p.h,l)&&p.G==3){try{var v=p.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)fl(p),dl(p);else break e;hd(p),wt(18)}}else p.za=D[1],0<p.za-p.T&&37500>D[2]&&p.F&&p.v==0&&!p.C&&(p.C=oo(g(p.Za,p),6e3));if(1>=Tg(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else os(p,11)}else if((l.K||p.g==l)&&fl(p),!x(h))for(D=p.Da.g.parse(h),h=0;h<D.length;h++){let ae=D[h];if(p.T=ae[0],ae=ae[1],p.G==2)if(ae[0]=="c"){p.K=ae[1],p.ia=ae[2];const it=ae[3];it!=null&&(p.la=it,p.j.info("VER="+p.la));const ot=ae[4];ot!=null&&(p.Aa=ot,p.j.info("SVER="+p.Aa));const Ks=ae[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(v=1.5*Ks,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const sn=l.g;if(sn){const ml=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ml){var O=v.h;O.g||ml.indexOf("spdy")==-1&&ml.indexOf("quic")==-1&&ml.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(cd(O,O.h),O.h=null))}if(v.D){const pd=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;pd&&(v.ya=pd,ye(v.I,v.D,pd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var $=l;if(v.qa=Yg(v,v.J?v.ia:null,v.W),$.K){Ig(v.h,$);var me=$,Ke=v.L;Ke&&(me.I=Ke),me.B&&(od(me),sl(me)),v.g=$}else Wg(v);0<p.i.length&&hl(p)}else ae[0]!="stop"&&ae[0]!="close"||os(p,7);else p.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?os(p,7):dd(p):ae[0]!="noop"&&p.l&&p.l.ta(ae),p.v=0)}}io(4)}catch{}}var T1=class{constructor(l,h){this.g=l,this.map=h}};function Eg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Tg(l){return l.h?1:l.g?l.g.size:0}function ld(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function cd(l,h){l.g?l.g.add(h):l.h=h}function Ig(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Eg.prototype.cancel=function(){if(this.i=Sg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Sg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const p of l.g.values())h=h.concat(p.D);return h}return I(l.i)}function I1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],p=l.length,v=0;v<p;v++)h.push(l[v]);return h}h=[],p=0;for(v in l)h[p++]=l[v];return h}function S1(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(const v in l)h[p++]=v;return h}}}function Ng(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=S1(l),v=I1(l),D=v.length,O=0;O<D;O++)h.call(void 0,v[O],p&&p[O],l)}var kg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function N1(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var v=l[p].indexOf("="),D=null;if(0<=v){var O=l[p].substring(0,v);D=l[p].substring(v+1)}else O=l[p];h(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function is(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof is){this.h=l.h,il(this,l.j),this.o=l.o,this.g=l.g,ol(this,l.s),this.l=l.l;var h=l.i,p=new ho;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Ag(this,p),this.m=l.m}else l&&(h=String(l).match(kg))?(this.h=!1,il(this,h[1]||"",!0),this.o=co(h[2]||""),this.g=co(h[3]||"",!0),ol(this,h[4]),this.l=co(h[5]||"",!0),Ag(this,h[6]||"",!0),this.m=co(h[7]||"")):(this.h=!1,this.i=new ho(null,this.h))}is.prototype.toString=function(){var l=[],h=this.j;h&&l.push(uo(h,Cg,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(uo(h,Cg,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(uo(p,p.charAt(0)=="/"?C1:A1,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",uo(p,P1)),l.join("")};function Vn(l){return new is(l)}function il(l,h,p){l.j=p?co(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function ol(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Ag(l,h,p){h instanceof ho?(l.i=h,j1(l.i,l.h)):(p||(h=uo(h,R1)),l.i=new ho(h,l.h))}function ye(l,h,p){l.i.set(h,p)}function al(l){return ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function co(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function uo(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,k1),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function k1(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Cg=/[#\/\?@]/g,A1=/[#\?:]/g,C1=/[#\?]/g,R1=/[#\?@]/g,P1=/#/g;function ho(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function mr(l){l.g||(l.g=new Map,l.h=0,l.i&&N1(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=ho.prototype,t.add=function(l,h){mr(this),this.i=null,l=Gs(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function Rg(l,h){mr(l),h=Gs(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Pg(l,h){return mr(l),h=Gs(l,h),l.g.has(h)}t.forEach=function(l,h){mr(this),this.g.forEach(function(p,v){p.forEach(function(D){l.call(h,D,v,this)},this)},this)},t.na=function(){mr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let v=0;v<h.length;v++){const D=l[v];for(let O=0;O<D.length;O++)p.push(h[v])}return p},t.V=function(l){mr(this);let h=[];if(typeof l=="string")Pg(this,l)&&(h=h.concat(this.g.get(Gs(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return mr(this),this.i=null,l=Gs(this,l),Pg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function jg(l,h,p){Rg(l,h),0<p.length&&(l.i=null,l.g.set(Gs(l,h),I(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var v=h[p];const O=encodeURIComponent(String(v)),$=this.V(v);for(v=0;v<$.length;v++){var D=O;$[v]!==""&&(D+="="+encodeURIComponent(String($[v]))),l.push(D)}}return this.i=l.join("&")};function Gs(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function j1(l,h){h&&!l.j&&(mr(l),l.i=null,l.g.forEach(function(p,v){var D=v.toLowerCase();v!=D&&(Rg(this,v),jg(this,D,p))},l)),l.j=h}function D1(l,h){const p=new ao;if(a.Image){const v=new Image;v.onload=y(gr,p,"TestLoadImage: loaded",!0,h,v),v.onerror=y(gr,p,"TestLoadImage: error",!1,h,v),v.onabort=y(gr,p,"TestLoadImage: abort",!1,h,v),v.ontimeout=y(gr,p,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function O1(l,h){const p=new ao,v=new AbortController,D=setTimeout(()=>{v.abort(),gr(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(O=>{clearTimeout(D),O.ok?gr(p,"TestPingServer: ok",!0,h):gr(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),gr(p,"TestPingServer: error",!1,h)})}function gr(l,h,p,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(p)}catch{}}function L1(){this.g=new v1}function M1(l,h,p){const v=p||"";try{Ng(l,function(D,O){let $=D;d(D)&&($=Zu(D)),h.push(v+O+"="+encodeURIComponent($))})}catch(D){throw h.push(v+"type="+encodeURIComponent("_badmap")),D}}function ll(l){this.l=l.Ub||null,this.j=l.eb||!1}T(ll,ed),ll.prototype.g=function(){return new cl(this.l,this.j)},ll.prototype.i=function(l){return function(){return l}}({});function cl(l,h){st.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(cl,st),t=cl.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,po(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?fo(this):po(this),this.readyState==3&&Dg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,fo(this))},t.Qa=function(l){this.g&&(this.response=l,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,po(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function po(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Og(l){let h="";return V(l,function(p,v){h+=v,h+=":",h+=p,h+=`\r
`}),h}function ud(l,h,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=Og(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):ye(l,h,p))}function Ne(l){st.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ne,st);var V1=/^https?$/i,F1=["POST","PUT"];t=Ne.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rd.g(),this.v=this.o?ug(this.o):ug(rd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(O){Lg(this,O);return}if(l=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)p.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const O of v.keys())p.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(O=>O.toLowerCase()=="content-type"),D=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(F1,h,void 0))||v||D||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,$]of p)this.g.setRequestHeader(O,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fg(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){Lg(this,O)}};function Lg(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Mg(l),ul(l)}function Mg(l){l.A||(l.A=!0,vt(l,"complete"),vt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,vt(this,"complete"),vt(this,"abort"),ul(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ul(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vg(this):this.bb())},t.bb=function(){Vg(this)};function Vg(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Fn(l)!=4||l.Z()!=2)){if(l.u&&Fn(l)==4)og(l.Ea,0,l);else if(vt(l,"readystatechange"),Fn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var v;if(v=$===0){var D=String(l.D).match(kg)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),v=!V1.test(D?D.toLowerCase():"")}p=v}if(p)vt(l,"complete"),vt(l,"success");else{l.m=6;try{var O=2<Fn(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",Mg(l)}}finally{ul(l)}}}}function ul(l,h){if(l.g){Fg(l);const p=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||vt(l,"ready");try{p.onreadystatechange=v}catch{}}}function Fg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Fn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),y1(h)}};function Ug(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function U1(l){const h={};l=(l.g&&2<=Fn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(x(l[v]))continue;var p=R(l[v]);const D=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const O=h[D]||[];h[D]=O,O.push(p)}S(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mo(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function $g(l){this.Aa=0,this.i=[],this.j=new ao,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mo("baseRetryDelayMs",5e3,l),this.cb=mo("retryDelaySeedMs",1e4,l),this.Wa=mo("forwardChannelMaxRetries",2,l),this.wa=mo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Eg(l&&l.concurrentRequestLimit),this.Da=new L1,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=$g.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,v){wt(0),this.W=l,this.H=h||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=Yg(this,null,this.W),hl(this)};function dd(l){if(Bg(l),l.G==3){var h=l.U++,p=Vn(l.I);if(ye(p,"SID",l.K),ye(p,"RID",h),ye(p,"TYPE","terminate"),go(l,p),h=new pr(l,l.j,h),h.L=2,h.v=al(Vn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=Xg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),sl(h)}Qg(l)}function dl(l){l.g&&(fd(l),l.g.cancel(),l.g=null)}function Bg(l){dl(l),l.u&&(a.clearTimeout(l.u),l.u=null),fl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function hl(l){if(!bg(l.h)&&!l.s){l.s=!0;var h=l.Ga;yt||Y(),B||(yt(),B=!0),H.add(h,l),l.B=0}}function $1(l,h){return Tg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=oo(g(l.Ga,l,h),Kg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const D=new pr(this,this.j,l);let O=this.o;if(this.S&&(O?(O=w(O),N(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=qg(this,D,h),p=Vn(this.I),ye(p,"RID",l),ye(p,"CVER",22),this.D&&ye(p,"X-HTTP-Session-Id",this.D),go(this,p),O&&(this.O?h="headers="+encodeURIComponent(String(Og(O)))+"&"+h:this.m&&ud(p,this.m,O)),cd(this.h,D),this.Ua&&ye(p,"TYPE","init"),this.P?(ye(p,"$req",h),ye(p,"SID","null"),D.T=!0,id(D,p,null)):id(D,p,h),this.G=2}}else this.G==3&&(l?zg(this,l):this.i.length==0||bg(this.h)||zg(this))};function zg(l,h){var p;h?p=h.l:p=l.U++;const v=Vn(l.I);ye(v,"SID",l.K),ye(v,"RID",p),ye(v,"AID",l.T),go(l,v),l.m&&l.o&&ud(v,l.m,l.o),p=new pr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=qg(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),cd(l.h,p),id(p,v,h)}function go(l,h){l.H&&V(l.H,function(p,v){ye(h,v,p)}),l.l&&Ng({},function(p,v){ye(h,v,p)})}function qg(l,h,p){p=Math.min(l.i.length,p);var v=l.l?g(l.l.Na,l.l,l):null;e:{var D=l.i;let O=-1;for(;;){const $=["count="+p];O==-1?0<p?(O=D[0].g,$.push("ofs="+O)):O=0:$.push("ofs="+O);let me=!0;for(let Ke=0;Ke<p;Ke++){let ae=D[Ke].g;const it=D[Ke].map;if(ae-=O,0>ae)O=Math.max(0,D[Ke].g-100),me=!1;else try{M1(it,$,"req"+ae+"_")}catch{v&&v(it)}}if(me){v=$.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,v}function Wg(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;yt||Y(),B||(yt(),B=!0),H.add(h,l),l.v=0}}function hd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=oo(g(l.Fa,l),Kg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Gg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=oo(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),dl(this),Gg(this))};function fd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Gg(l){l.g=new pr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Vn(l.qa);ye(h,"RID","rpc"),ye(h,"SID",l.K),ye(h,"AID",l.T),ye(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&ye(h,"TO",l.ja),ye(h,"TYPE","xmlhttp"),go(l,h),l.m&&l.o&&ud(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=al(Vn(h)),p.m=null,p.P=!0,wg(p,l)}t.Za=function(){this.C!=null&&(this.C=null,dl(this),hd(this),wt(19))};function fl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Hg(l,h){var p=null;if(l.g==h){fl(l),fd(l),l.g=null;var v=2}else if(ld(l.h,h))p=h.D,Ig(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var D=l.B;v=tl(),vt(v,new mg(v,p)),hl(l)}else Wg(l);else if(D=h.s,D==3||D==0&&0<h.X||!(v==1&&$1(l,h)||v==2&&hd(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),D){case 1:os(l,5);break;case 4:os(l,10);break;case 3:os(l,6);break;default:os(l,2)}}}function Kg(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function os(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),v=l.Xa;const D=!v;v=new is(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||il(v,"https"),al(v),D?D1(v.toString(),p):O1(v.toString(),p)}else wt(2);l.G=0,l.l&&l.l.sa(h),Qg(l),Bg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Qg(l){if(l.G=0,l.ka=[],l.l){const h=Sg(l.h);(h.length!=0||l.i.length!=0)&&(k(l.ka,h),k(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function Yg(l,h,p){var v=p instanceof is?Vn(p):new is(p);if(v.g!="")h&&(v.g=h+"."+v.g),ol(v,v.s);else{var D=a.location;v=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var O=new is(null);v&&il(O,v),h&&(O.g=h),D&&ol(O,D),p&&(O.l=p),v=O}return p=l.D,h=l.ya,p&&h&&ye(v,p,h),ye(v,"VER",l.la),go(l,v),v}function Xg(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ne(new ll({eb:p})):new Ne(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jg(){}t=Jg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function pl(){}pl.prototype.g=function(l,h){return new Vt(l,h)};function Vt(l,h){st.call(this),this.g=new $g(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!x(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Hs(this)}T(Vt,st),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){dd(this.g)},Vt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Zu(l),l=p);h.i.push(new T1(h.Ya++,l)),h.G==3&&hl(h)},Vt.prototype.N=function(){this.g.l=null,delete this.j,dd(this.g),delete this.g,Vt.aa.N.call(this)};function Zg(l){td.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}T(Zg,td);function ey(){nd.call(this),this.status=1}T(ey,nd);function Hs(l){this.g=l}T(Hs,Jg),Hs.prototype.ua=function(){vt(this.g,"a")},Hs.prototype.ta=function(l){vt(this.g,new Zg(l))},Hs.prototype.sa=function(l){vt(this.g,new ey)},Hs.prototype.ra=function(){vt(this.g,"b")},pl.prototype.createWebChannel=pl.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,Xx=function(){return new pl},Yx=function(){return tl()},Qx=rs,yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nl.NO_ERROR=0,nl.TIMEOUT=8,nl.HTTP_ERROR=6,ec=nl,gg.COMPLETE="complete",Kx=gg,dg.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",st.prototype.listen=st.prototype.K,Oo=dg,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,Hx=Ne}).apply(typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{});const A0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yi="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new vu("@firebase/firestore");function Io(){return Ns.logLevel}function G(t,...e){if(Ns.logLevel<=se.DEBUG){const n=e.map(Hp);Ns.debug(`Firestore (${Yi}): ${t}`,...n)}}function ir(t,...e){if(Ns.logLevel<=se.ERROR){const n=e.map(Hp);Ns.error(`Firestore (${Yi}): ${t}`,...n)}}function Di(t,...e){if(Ns.logLevel<=se.WARN){const n=e.map(Hp);Ns.warn(`Firestore (${Yi}): ${t}`,...n)}}function Hp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${Yi}) INTERNAL ASSERTION FAILED: `+t;throw ir(e),new Error(e)}function fe(t,e){t||J()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Kt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class eC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tC{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Jn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new Jx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new ut(e)}}class nC{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new sC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=oC(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Oi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Fe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Fe(0,0))}static max(){return new Z(new Fe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ba.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ba?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends ba{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const aC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends ba{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return aC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(_e.fromString(e))}static fromName(e){return new K(_e.fromString(e).popFirst(5))}static empty(){return new K(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new _e(e.slice()))}}function lC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Hr(s,K.empty(),e)}function cC(t){return new Hr(t.readTime,t.key,-1)}class Hr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(Z.min(),K.empty(),-1)}static max(){return new Hr(Z.max(),K.empty(),-1)}}function uC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==dC)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(f=>{o[d]=f,++a,a===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function fC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Kp.oe=-1;function _u(t){return t==null}function Mc(t){return t===0&&1/t==-1/0}function pC(t){return typeof t=="number"&&Number.isInteger(t)&&!Mc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function eE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.comparator=e,this.root=n||Je.EMPTY}insert(e,n){return new Se(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(e){return new Se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Je.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dl(this.root,e,this.comparator,!0)}}class Dl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Je.EMPTY,this.right=i??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Je.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Je(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.comparator=e,this.data=new Se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new R0(this.data.getIterator())}getIteratorFrom(e){return new R0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tt(this.comparator);return n.data=e,n}}class R0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new tt(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new tE("Invalid base64 string: "+i):i}}(e);return new rt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rt.EMPTY_BYTE_STRING=new rt("");const mC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(t){if(fe(!!t),typeof t=="string"){let e=0;const n=mC.exec(t);if(fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?rt.fromBase64String(t):rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Yp(t){const e=t.mapValue.fields.__previous_value__;return Qp(e)?Yp(e):e}function Ta(t){const e=Kr(t.mapValue.fields.__local_write_time__.timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,s,i,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}}class Ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function As(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qp(t)?4:vC(t)?9007199254740991:yC(t)?10:11:J()}function Rn(t,e){if(t===e)return!0;const n=As(t);if(n!==As(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ta(t).isEqual(Ta(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Kr(s.timestampValue),a=Kr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ks(s.bytesValue).isEqual(ks(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Pe(s.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(s.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Pe(s.integerValue)===Pe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Pe(s.doubleValue),a=Pe(i.doubleValue);return o===a?Mc(o)===Mc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oi(t.arrayValue.values||[],e.arrayValue.values||[],Rn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(C0(o)!==C0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Rn(o[u],a[u])))return!1;return!0}(t,e);default:return J()}}function Sa(t,e){return(t.values||[]).find(n=>Rn(n,e))!==void 0}function Li(t,e){if(t===e)return 0;const n=As(t),r=As(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Pe(i.integerValue||i.doubleValue),u=Pe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return P0(t.timestampValue,e.timestampValue);case 4:return P0(Ta(t),Ta(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ks(i),u=ks(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){const f=le(a[d],u[d]);if(f!==0)return f}return le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=le(Pe(i.latitude),Pe(o.latitude));return a!==0?a:le(Pe(i.longitude),Pe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,d,f;const m=i.fields||{},g=o.fields||{},y=(a=m.value)===null||a===void 0?void 0:a.arrayValue,T=(u=g.value)===null||u===void 0?void 0:u.arrayValue,I=le(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0);return I!==0?I:j0(y,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ol.mapValue&&o===Ol.mapValue)return 0;if(i===Ol.mapValue)return 1;if(o===Ol.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=le(u[m],f[m]);if(g!==0)return g;const y=Li(a[u[m]],d[f[m]]);if(y!==0)return y}return le(u.length,f.length)}(t.mapValue,e.mapValue);default:throw J()}}function P0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Kr(t),r=Kr(e),s=le(n.seconds,r.seconds);return s!==0?s:le(n.nanos,r.nanos)}function j0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Li(n[s],r[s]);if(i)return i}return le(n.length,r.length)}function Mi(t){return vf(t)}function vf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=vf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${vf(n.fields[o])}`;return s+"}"}(t.mapValue):J()}function D0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wf(t){return!!t&&"integerValue"in t}function Xp(t){return!!t&&"arrayValue"in t}function O0(t){return!!t&&"nullValue"in t}function L0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tc(t){return!!t&&"mapValue"in t}function yC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=Ze.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Qo(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){$s(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ut(Qo(this.value))}}function nE(t){const e=[];return $s(t.fields,(n,r)=>{const s=new Ze([n]);if(tc(r)){const i=nE(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ht(e,0,Z.min(),Z.min(),Z.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,s){return new ht(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new ht(e,2,n,Z.min(),Z.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,Z.min(),Z.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.position=e,this.inclusive=n}}function M0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Li(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function V0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n="asc"){this.field=e,this.dir=n}}function wC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{}class Ve extends rE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xC(e,n,r):n==="array-contains"?new TC(e,r):n==="in"?new IC(e,r):n==="not-in"?new SC(e,r):n==="array-contains-any"?new NC(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EC(e,r):new bC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Li(n,this.value)):n!==null&&As(this.value)===As(n)&&this.matchesComparison(Li(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pn extends rE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new pn(e,n)}matches(e){return sE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sE(t){return t.op==="and"}function iE(t){return _C(t)&&sE(t)}function _C(t){for(const e of t.filters)if(e instanceof pn)return!1;return!0}function _f(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(iE(t))return t.filters.map(e=>_f(e)).join(",");{const e=t.filters.map(n=>_f(n)).join(",");return`${t.op}(${e})`}}function oE(t,e){return t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.field.isEqual(s.field)&&Rn(r.value,s.value)}(t,e):t instanceof pn?function(r,s){return s instanceof pn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&oE(o,s.filters[a]),!0):!1}(t,e):void J()}function aE(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Mi(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(aE).join(" ,")+"}"}(t):"Filter"}class xC extends Ve{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class EC extends Ve{constructor(e,n){super(e,"in",n),this.keys=lE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bC extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=lE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class TC extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xp(n)&&Sa(n.arrayValue,this.value)}}class IC extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sa(this.value.arrayValue,n)}}class SC extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sa(this.value.arrayValue,n)}}class NC extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function F0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new kC(t,e,n,r,s,i,o)}function Jp(t){const e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_f(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),_u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.ue=n}return e.ue}function Zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!oE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V0(t.startAt,e.startAt)&&V0(t.endAt,e.endAt)}function xf(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function AC(t,e,n,r,s,i,o,a){return new Xi(t,e,n,r,s,i,o,a)}function em(t){return new Xi(t)}function U0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cE(t){return t.collectionGroup!==null}function Yo(t){const e=ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tt(Ze.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Na(i,r))}),n.has(Ze.keyField().canonicalString())||e.ce.push(new Na(Ze.keyField(),r))}return e.ce}function Nn(t){const e=ee(t);return e.le||(e.le=CC(e,Yo(t))),e.le}function CC(t,e){if(t.limitType==="F")return F0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Na(s.field,i)});const n=t.endAt?new Vc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vc(t.startAt.position,t.startAt.inclusive):null;return F0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ef(t,e){const n=t.filters.concat([e]);return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bf(t,e,n){return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xu(t,e){return Zp(Nn(t),Nn(e))&&t.limitType===e.limitType}function uE(t){return`${Jp(Nn(t))}|lt:${t.limitType}`}function Ys(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>aE(s)).join(", ")}]`),_u(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Mi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Mi(s)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function Eu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const d=M0(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,Yo(r),s)||r.endAt&&!function(o,a,u){const d=M0(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,Yo(r),s))}(t,e)}function RC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dE(t){return(e,n)=>{let r=!1;for(const s of Yo(t)){const i=PC(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function PC(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),d=a.data.field(i);return u!==null&&d!==null?Li(u,d):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return eE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Se(K.comparator);function or(){return jC}const hE=new Se(K.comparator);function Lo(...t){let e=hE;for(const n of t)e=e.insert(n.key,n);return e}function fE(t){let e=hE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return Xo()}function pE(){return Xo()}function Xo(){return new Ji(t=>t.toString(),(t,e)=>t.isEqual(e))}const DC=new Se(K.comparator),OC=new tt(K.comparator);function re(...t){let e=OC;for(const n of t)e=e.add(n);return e}const LC=new tt(le);function MC(){return LC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(e)?"-0":e}}function mE(t){return{integerValue:""+t}}function VC(t,e){return pC(e)?mE(e):tm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this._=void 0}}function FC(t,e,n){return t instanceof ka?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qp(i)&&(i=Yp(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Aa?yE(t,e):t instanceof Ca?vE(t,e):function(s,i){const o=gE(s,i),a=$0(o)+$0(s.Pe);return wf(o)&&wf(s.Pe)?mE(a):tm(s.serializer,a)}(t,e)}function UC(t,e,n){return t instanceof Aa?yE(t,e):t instanceof Ca?vE(t,e):n}function gE(t,e){return t instanceof Fc?function(r){return wf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ka extends bu{}class Aa extends bu{constructor(e){super(),this.elements=e}}function yE(t,e){const n=wE(e);for(const r of t.elements)n.some(s=>Rn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ca extends bu{constructor(e){super(),this.elements=e}}function vE(t,e){let n=wE(e);for(const r of t.elements)n=n.filter(s=>!Rn(s,r));return{arrayValue:{values:n}}}class Fc extends bu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $0(t){return Pe(t.integerValue||t.doubleValue)}function wE(t){return Xp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.field=e,this.transform=n}}function BC(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Aa&&s instanceof Aa||r instanceof Ca&&s instanceof Ca?Oi(r.elements,s.elements,Rn):r instanceof Fc&&s instanceof Fc?Rn(r.Pe,s.Pe):r instanceof ka&&s instanceof ka}(t.transform,e.transform)}class zC{constructor(e,n){this.version=e,this.transformResults=n}}class tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tu{}function _E(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nm(t.key,tn.none()):new qa(t.key,t.data,tn.none());{const n=t.data,r=Ut.empty();let s=new tt(Ze.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ts(t.key,r,new Zt(s.toArray()),tn.none())}}function qC(t,e,n){t instanceof qa?function(s,i,o){const a=s.value.clone(),u=z0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ts?function(s,i,o){if(!nc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=z0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(xE(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jo(t,e,n,r){return t instanceof qa?function(i,o,a,u){if(!nc(i.precondition,o))return a;const d=i.value.clone(),f=q0(i.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof ts?function(i,o,a,u){if(!nc(i.precondition,o))return a;const d=q0(i.fieldTransforms,u,o),f=o.data;return f.setAll(xE(i)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return nc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=gE(r.transform,s||null);i!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,i))}return n||null}function B0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Oi(r,s,(i,o)=>BC(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qa extends Tu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ts extends Tu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function xE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z0(t,e,n){const r=new Map;fe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,UC(o,a,n[s]))}return r}function q0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,FC(i,o,e))}return r}class nm extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&qC(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pE();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=_E(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Oi(this.mutations,e.mutations,(n,r)=>B0(n,r))&&Oi(this.baseMutations,e.baseMutations,(n,r)=>B0(n,r))}}class rm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){fe(e.mutations.length===r.length);let s=function(){return DC}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new rm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,ie;function YC(t){switch(t){default:return J();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function EE(t){if(t===void 0)return ir("GRPC error has no .code"),M.UNKNOWN;switch(t){case Oe.OK:return M.OK;case Oe.CANCELLED:return M.CANCELLED;case Oe.UNKNOWN:return M.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return M.INTERNAL;case Oe.UNAVAILABLE:return M.UNAVAILABLE;case Oe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Oe.NOT_FOUND:return M.NOT_FOUND;case Oe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Oe.ABORTED:return M.ABORTED;case Oe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Oe.DATA_LOSS:return M.DATA_LOSS;default:return J()}}(ie=Oe||(Oe={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=new _s([4294967295,4294967295],0);function W0(t){const e=XC().encode(t),n=new Gx;return n.update(e),new Uint8Array(n.digest())}function G0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _s([n,r],0),new _s([s,i],0)]}class sm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mo(`Invalid padding: ${n}`);if(r<0)throw new Mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=_s.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(_s.fromNumber(r)));return s.compare(JC)===1&&(s=new _s([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=W0(e),[r,s]=G0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new sm(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=W0(e),[r,s]=G0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Wa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Iu(Z.min(),s,new Se(le),or(),re())}}class Wa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wa(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class bE{constructor(e,n){this.targetId=e,this.me=n}}class TE{constructor(e,n,r=rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class H0{constructor(){this.fe=0,this.ge=Q0(),this.pe=rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:J()}}),new Wa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Q0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ZC{constructor(e){this.Le=e,this.Be=new Map,this.ke=or(),this.qe=K0(),this.Qe=new Se(le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(xf(i))if(r===0){const o=new K(i.path);this.Ue(n,o,ht.newNoDocument(o,Z.min()))}else fe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ks(r).toUint8Array()}catch(u){if(u instanceof tE)return Di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new sm(o,s,i)}catch(u){return Di(u instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&xf(a.target)){const u=new K(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ht.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=re();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Iu(e,n,this.Qe,this.ke,r);return this.ke=or(),this.qe=K0(),this.Qe=new Se(le),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new H0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tt(le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new H0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function K0(){return new Se(K.comparator)}function Q0(){return new Se(K.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},tR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nR={and:"AND",or:"OR"};class rR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tf(t,e){return t.useProto3Json||_u(e)?e:{value:e}}function Uc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sR(t,e){return Uc(t,e.toTimestamp())}function kn(t){return fe(!!t),Z.fromTimestamp(function(n){const r=Kr(n);return new Fe(r.seconds,r.nanos)}(t))}function im(t,e){return If(t,e).canonicalString()}function If(t,e){const n=function(s){return new _e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SE(t){const e=_e.fromString(t);return fe(RE(e)),e}function Sf(t,e){return im(t.databaseId,e.path)}function Kd(t,e){const n=SE(e);if(n.get(1)!==t.databaseId.projectId)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(kE(n))}function NE(t,e){return im(t.databaseId,e)}function iR(t){const e=SE(t);return e.length===4?_e.emptyPath():kE(e)}function Nf(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kE(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Y0(t,e,n){return{name:Sf(t,e),fields:n.value.mapValue.fields}}function oR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(fe(f===void 0||typeof f=="string"),rt.fromBase64String(f||"")):(fe(f===void 0||f instanceof Buffer||f instanceof Uint8Array),rt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const f=d.code===void 0?M.UNKNOWN:EE(d.code);return new q(f,d.message||"")}(o);n=new TE(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Kd(t,r.document.name),i=kn(r.document.updateTime),o=r.document.createTime?kn(r.document.createTime):Z.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(s,i,o,a),d=r.targetIds||[],f=r.removedTargetIds||[];n=new rc(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Kd(t,r.document),i=r.readTime?kn(r.readTime):Z.min(),o=ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new rc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Kd(t,r.document),i=r.removedTargetIds||[];n=new rc([],i,s,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new QC(s,i),a=r.targetId;n=new bE(a,o)}}return n}function aR(t,e){let n;if(e instanceof qa)n={update:Y0(t,e.key,e.value)};else if(e instanceof nm)n={delete:Sf(t,e.key)};else if(e instanceof ts)n={update:Y0(t,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof GC))return J();n={verify:Sf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ka)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Aa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function lR(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?kn(s.updateTime):kn(i);return o.isEqual(Z.min())&&(o=kn(i)),new zC(o,s.transformResults||[])}(n,e))):[]}function cR(t,e){return{documents:[NE(t,e.path)]}}function uR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=NE(t,s);const i=function(d){if(d.length!==0)return CE(pn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Xs(g.field),direction:fR(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Tf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function dR(t){let e=iR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){fe(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const g=AE(m);return g instanceof pn&&iE(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(T){return new Na(Js(T.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(m){let g;return g=typeof m=="object"?m.value:m,_u(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,y=m.values||[];return new Vc(y,g)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const g=!m.before,y=m.values||[];return new Vc(y,g)}(n.endAt)),AC(e,s,o,i,a,"F",u,d)}function hR(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Js(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Js(n.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Js(n.unaryFilter.field);return Ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Js(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(Js(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>AE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function fR(t){return eR[t]}function pR(t){return tR[t]}function mR(t){return nR[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Js(t){return Ze.fromServerFormat(t.fieldPath)}function CE(t){return t instanceof Ve?function(n){if(n.op==="=="){if(L0(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NAN"}};if(O0(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(L0(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NAN"}};if(O0(n.value))return{unaryFilter:{field:Xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(n.field),op:pR(n.op),value:n.value}}}(t):t instanceof pn?function(n){const r=n.getFilters().map(s=>CE(s));return r.length===1?r[0]:{compositeFilter:{op:mR(n.op),filters:r}}}(t):J()}function gR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function RE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,r,s,i=Z.min(),o=Z.min(),a=rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.ct=e}}function vR(t){const e=dR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.un=new _R}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Hr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Hr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class _R{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new tt(_e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tt(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vi(0)}static kn(){return new Vi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.changes=new Ji(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Jo(r.mutation,s,Zt.empty(),Fe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const s=gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Lo();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=or();const o=Xo(),a=function(){return Xo()}();return n.forEach((u,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof ts)?i=i.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Jo(f.mutation,d,f.mutation.getFieldMask(),Fe.now())):o.set(d.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,f)=>o.set(d,f)),n.forEach((d,f)=>{var m;return a.set(d,new ER(f,(m=o.get(d))!==null&&m!==void 0?m:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Xo();let s=new Se((o,a)=>o-a),i=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||Zt.empty();f=a.applyToLocalView(d,f),r.set(u,f);const m=(s.get(a.batchId)||re()).add(u);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,f=u.value,m=pE();f.forEach(g=>{if(!i.has(g)){const y=_E(n.get(g),r.get(g));y!==null&&m.set(g,y),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(gs());let a=-1,u=i;return o.next(d=>F.forEach(d,(f,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,re())).next(f=>({batchId:a,changes:fE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=Lo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Lo();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,u=>{const d=function(m,g){return new Xi(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,ht.newInvalidDocument(f)))});let a=Lo();return o.forEach((u,d)=>{const f=i.get(u);f!==void 0&&Jo(f.mutation,d,Zt.empty(),Fe.now()),Eu(n,d)&&(a=a.insert(u,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:kn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:vR(s.bundledQuery),readTime:kn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.overlays=new Se(K.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gs();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=gs(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Se((d,f)=>d-f);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=gs(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const a=gs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>a.set(d,f)),!(a.size()>=s)););return F.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KC(n,r));let i=this.Ir.get(n);i===void 0&&(i=re(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.sessionToken=rt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Tr=new tt(qe.Er),this.dr=new tt(qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new _e([])),r=new qe(n,e),s=new qe(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new _e([])),r=new qe(n,e),s=new qe(n,e+1);let i=re();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new qe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qe{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||le(e.wr,n.wr)}static Ar(e,n){return le(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tt(qe.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new HC(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qe(n,0),s=new qe(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tt(le);return n.forEach(s=>{const i=new qe(s,0),o=new qe(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new qe(new K(i),0);let a=new tt(le);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(u.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,s=>{const i=new qe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qe(n,0),s=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.Mr=e,this.docs=function(){return new Se(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ht.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=or();const o=n.path,a=new K(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||uC(cC(f),r)<=0||(s.has(f.key)||Eu(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AR(this)}getSize(e){return F.resolve(this.size)}}class AR extends xR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.persistence=e,this.Nr=new Ji(n=>Jp(n),Zp),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new om,this.targetCount=0,this.kr=Vi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Vi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Kp(0),this.Kr=!1,this.Kr=!0,this.$r=new SR,this.referenceDelegate=e(this),this.Ur=new CR(this),this.indexManager=new wR,this.remoteDocumentCache=function(s){return new kR(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new yR(n),this.Gr=new TR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new NR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new PR(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class PR extends hC{constructor(e){super(),this.currentSequenceNumber=e}}class am{constructor(e){this.persistence=e,this.Jr=new om,this.Yr=null}static Zr(e){return new am(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const s=K.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=re(),s=re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new lm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return jk()?8:fC(gt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new jR;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Io()<=se.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Io()<=se.DEBUG&&G("QueryEngine","Query:",Ys(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Io()<=se.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):F.resolve())}Yi(e,n){if(U0(n))return F.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=bf(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=re(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,bf(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,s){return U0(n)||s.isEqual(Z.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?F.resolve(null):(Io()<=se.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ys(n)),this.rs(e,o,n,lC(s,-1)).next(a=>a))})}ts(e,n){let r=new tt(dE(e));return n.forEach((s,i)=>{Eu(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Io()<=se.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ys(n)),this.Ji.getDocumentsMatchingQuery(e,n,Hr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Se(le),this._s=new Ji(i=>Jp(i),Zp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function LR(t,e,n,r){return new OR(t,e,n,r)}async function PE(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=re();for(const d of s){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function MR(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,f){const m=d.batch,g=m.keys();let y=F.resolve();return g.forEach(T=>{y=y.next(()=>f.getEntry(u,T)).next(I=>{const k=d.docVersions.get(T);fe(k!==null),I.version.compareTo(k)<0&&(m.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),f.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=re();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function jE(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function VR(t,e){const n=ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((f,m)=>{const g=s.get(m);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(i,f.addedDocuments,m)));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(rt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),s=s.insert(m,y),function(I,k,_){return I.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(g,y,f)&&a.push(n.Ur.updateTargetData(i,y))});let u=or(),d=re();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),a.push(FR(i,o,e.documentUpdates).next(f=>{u=f.Ps,d=f.Is})),!r.isEqual(Z.min())){const f=n.Ur.getLastRemoteSnapshotVersion(i).next(m=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(f)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.os=s,i))}function FR(t,e,n){let r=re(),s=re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=or();return n.forEach((a,u)=>{const d=i.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function UR(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $R(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function kf(t,e,n){const r=ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!za(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function X0(t,e,n){const r=ee(t);let s=Z.min(),i=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,f){const m=ee(u),g=m._s.get(f);return g!==void 0?F.resolve(m.os.get(g)):m.Ur.getTargetData(d,f)}(r,o,Nn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:re())).next(a=>(BR(r,RC(e),a),{documents:a,Ts:i})))}function BR(t,e,n){let r=t.us.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class J0{constructor(){this.activeTargetIds=MC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zR{constructor(){this.so=new J0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new J0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ll=null;function Qd(){return Ll===null?Ll=function(){return 268435456+Math.round(2147483648*Math.random())}():Ll++,"0x"+Ll.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class HR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Qd(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,u,d,s).then(f=>(G("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Di("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",s),f})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=WR[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Qd();return new Promise((o,a)=>{const u=new Hx;u.setWithCredentials(!0),u.listenOnce(Kx.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ec.NO_ERROR:const f=u.getResponseJson();G(ct,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case ec.TIMEOUT:G(ct,`RPC '${e}' ${i} timed out`),a(new q(M.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const m=u.getStatus();if(G(ct,`RPC '${e}' ${i} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const T=function(k){const _=k.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(_)>=0?_:M.UNKNOWN}(y.status);a(new q(T,y.message))}else a(new q(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new q(M.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{G(ct,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);G(ct,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Qd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xx(),a=Yx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");G(ct,`Creating RPC '${e}' stream ${s}: ${f}`,u);const m=o.createWebChannel(f,u);let g=!1,y=!1;const T=new GR({Io:k=>{y?G(ct,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(g||(G(ct,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),G(ct,`RPC '${e}' stream ${s} sending:`,k),m.send(k))},To:()=>m.close()}),I=(k,_,x)=>{k.listen(_,b=>{try{x(b)}catch(j){setTimeout(()=>{throw j},0)}})};return I(m,Oo.EventType.OPEN,()=>{y||(G(ct,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),I(m,Oo.EventType.CLOSE,()=>{y||(y=!0,G(ct,`RPC '${e}' stream ${s} transport closed`),T.So())}),I(m,Oo.EventType.ERROR,k=>{y||(y=!0,Di(ct,`RPC '${e}' stream ${s} transport errored:`,k),T.So(new q(M.UNAVAILABLE,"The operation could not be completed")))}),I(m,Oo.EventType.MESSAGE,k=>{var _;if(!y){const x=k.data[0];fe(!!x);const b=x,j=b.error||((_=b[0])===null||_===void 0?void 0:_.error);if(j){G(ct,`RPC '${e}' stream ${s} received error:`,j);const L=j.status;let V=function(E){const N=Oe[E];if(N!==void 0)return EE(N)}(L),S=j.message;V===void 0&&(V=M.INTERNAL,S="Unknown error status: "+L+" with message "+j.message),y=!0,T.So(new q(V,S)),m.close()}else G(ct,`RPC '${e}' stream ${s} received:`,x),T.bo(x)}}),I(a,Qx.STAT_EVENT,k=>{k.stat===yf.PROXY?G(ct,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===yf.NOPROXY&&G(ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return new rR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new DE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new q(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KR extends OE{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=oR(this.serializer,e),r=function(i){if(!("targetChange"in i))return Z.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?kn(o.readTime):Z.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nf(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=xf(u)?{documents:cR(i,u)}:{query:uR(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IE(i,o.resumeToken);const d=Tf(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Uc(i,o.snapshotVersion.toTimestamp());const d=Tf(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=hR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nf(this.serializer),n.removeTarget=e,this.a_(n)}}class QR extends OE{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=lR(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,If(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(M.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,If(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class XR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ir(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Bs(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=ee(u);d.L_.add(4),await Ga(d),d.q_.set("Unknown"),d.L_.delete(4),await Nu(d)}(this))})}),this.q_=new XR(r,s)}}async function Nu(t){if(Bs(t))for(const e of t.B_)await e(!0)}async function Ga(t){for(const e of t.B_)await e(!1)}function LE(t,e){const n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),hm(n)?dm(n):Zi(n).r_()&&um(n,e))}function cm(t,e){const n=ee(t),r=Zi(n);n.N_.delete(e),r.r_()&&ME(n,e),n.N_.size===0&&(r.r_()?r.o_():Bs(n)&&n.q_.set("Unknown"))}function um(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zi(t).A_(e)}function ME(t,e){t.Q_.xe(e),Zi(t).R_(e)}function dm(t){t.Q_=new ZC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zi(t).start(),t.q_.v_()}function hm(t){return Bs(t)&&!Zi(t).n_()&&t.N_.size>0}function Bs(t){return ee(t).L_.size===0}function VE(t){t.Q_=void 0}async function ZR(t){t.q_.set("Online")}async function eP(t){t.N_.forEach((e,n)=>{um(t,e)})}async function tP(t,e){VE(t),hm(t)?(t.q_.M_(e),dm(t)):t.q_.set("Unknown")}async function nP(t,e,n){if(t.q_.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $c(t,r)}else if(e instanceof rc?t.Q_.Ke(e):e instanceof bE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Z.min()))try{const r=await jE(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.N_.get(d);f&&i.N_.set(d,f.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{const f=i.N_.get(u);if(!f)return;i.N_.set(u,f.withResumeToken(rt.EMPTY_BYTE_STRING,f.snapshotVersion)),ME(i,u);const m=new jr(f.target,u,d,f.sequenceNumber);um(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await $c(t,r)}}async function $c(t,e,n){if(!za(e))throw e;t.L_.add(1),await Ga(t),t.q_.set("Offline"),n||(n=()=>jE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Nu(t)})}function FE(t,e){return e().catch(n=>$c(t,n,e))}async function ku(t){const e=ee(t),n=Qr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;rP(e);)try{const s=await UR(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,sP(e,s)}catch(s){await $c(e,s)}UE(e)&&$E(e)}function rP(t){return Bs(t)&&t.O_.length<10}function sP(t,e){t.O_.push(e);const n=Qr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function UE(t){return Bs(t)&&!Qr(t).n_()&&t.O_.length>0}function $E(t){Qr(t).start()}async function iP(t){Qr(t).p_()}async function oP(t){const e=Qr(t);for(const n of t.O_)e.m_(n.mutations)}async function aP(t,e,n){const r=t.O_.shift(),s=rm.from(r,e,n);await FE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ku(t)}async function lP(t,e){e&&Qr(t).V_&&await async function(r,s){if(function(o){return YC(o)&&o!==M.ABORTED}(s.code)){const i=r.O_.shift();Qr(r).s_(),await FE(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ku(r)}}(t,e),UE(t)&&$E(t)}async function ev(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Bs(n);n.L_.add(3),await Ga(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Nu(n)}async function cP(t,e){const n=ee(t);e?(n.L_.delete(2),await Nu(n)):e||(n.L_.add(2),await Ga(n),n.q_.set("Unknown"))}function Zi(t){return t.K_||(t.K_=function(n,r,s){const i=ee(n);return i.w_(),new KR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:ZR.bind(null,t),Ro:eP.bind(null,t),mo:tP.bind(null,t),d_:nP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),hm(t)?dm(t):t.q_.set("Unknown")):(await t.K_.stop(),VE(t))})),t.K_}function Qr(t){return t.U_||(t.U_=function(n,r,s){const i=ee(n);return i.w_(),new QR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:iP.bind(null,t),mo:lP.bind(null,t),f_:oP.bind(null,t),g_:aP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ku(t)):(await t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new fm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(t,e){if(ir("AsyncQueue",`${e}: ${t}`),za(t))return new q(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Lo(),this.sortedSet=new Se(this.comparator)}static emptySet(e){return new _i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _i)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _i;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.W_=new Se(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fi{constructor(e,n,r,s,i,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fi(e,n,_i.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class dP{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ee(n),i=s.queries;s.queries=nv(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new q(M.ABORTED,"Firestore shutting down"))}}function nv(){return new Ji(t=>uE(t),xu)}async function BE(t,e){const n=ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new uP,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=pm(o,`Initialization of query '${Ys(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&mm(n)}async function zE(t,e){const n=ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function hP(t,e){const n=ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&mm(n)}function fP(t,e,n){const r=ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function mm(t){t.Y_.forEach(e=>{e.next()})}var Af,rv;(rv=Af||(Af={})).ea="default",rv.Cache="cache";class qE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Fi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Fi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Af.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.key=e}}class GE{constructor(e){this.key=e}}class pP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=re(),this.mutatedKeys=re(),this.Aa=dE(e),this.Ra=new _i(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new tv,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const g=s.get(f),y=Eu(this.query,m)?m:null,T=!!g&&this.mutatedKeys.has(g.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let k=!1;g&&y?g.data.isEqual(y.data)?T!==I&&(r.track({type:3,doc:y}),k=!0):this.ga(g,y)||(r.track({type:2,doc:y}),k=!0,(u&&this.Aa(y,u)>0||d&&this.Aa(y,d)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),k=!0):g&&!y&&(r.track({type:1,doc:g}),k=!0,(u||d)&&(a=!0)),k&&(y?(o=o.add(y),i=I?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,m)=>function(y,T){const I=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return I(y)-I(T)}(f.type,m.type)||this.Aa(f.doc,m.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new Fi(this.query,e.Ra,i,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new tv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new GE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new WE(r))}),n}ba(e){this.Ta=e.Ts,this.da=re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Fi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class mP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gP{constructor(e){this.key=e,this.va=!1}}class yP{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ji(a=>uE(a),xu),this.Ma=new Map,this.xa=new Set,this.Oa=new Se(K.comparator),this.Na=new Map,this.La=new om,this.Ba={},this.ka=new Map,this.qa=Vi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function vP(t,e,n=!0){const r=JE(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await HE(r,e,n,!0),s}async function wP(t,e){const n=JE(t);await HE(n,e,!0,!1)}async function HE(t,e,n,r){const s=await $R(t.localStore,Nn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await _P(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&LE(t.remoteStore,s),a}async function _P(t,e,n,r,s){t.Ka=(m,g,y)=>async function(I,k,_,x){let b=k.view.ma(_);b.ns&&(b=await X0(I.localStore,k.query,!1).then(({documents:S})=>k.view.ma(S,b)));const j=x&&x.targetChanges.get(k.targetId),L=x&&x.targetMismatches.get(k.targetId)!=null,V=k.view.applyChanges(b,I.isPrimaryClient,j,L);return iv(I,k.targetId,V.wa),V.snapshot}(t,m,g,y);const i=await X0(t.localStore,e,!0),o=new pP(e,i.Ts),a=o.ma(i.documents),u=Wa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,u);iv(t,n,d.wa);const f=new mP(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function xP(t,e,n){const r=ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!xu(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await kf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&cm(r.remoteStore,s.targetId),Cf(r,s.targetId)}).catch(Ba)):(Cf(r,s.targetId),await kf(r.localStore,s.targetId,!0))}async function EP(t,e){const n=ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cm(n.remoteStore,r.targetId))}async function bP(t,e,n){const r=CP(t);try{const s=await function(o,a){const u=ee(o),d=Fe.now(),f=a.reduce((y,T)=>y.add(T.key),re());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=or(),I=re();return u.cs.getEntries(y,f).next(k=>{T=k,T.forEach((_,x)=>{x.isValidDocument()||(I=I.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(k=>{m=k;const _=[];for(const x of a){const b=WC(x,m.get(x.key).overlayedDocument);b!=null&&_.push(new ts(x.key,b,nE(b.value.mapValue),tn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,_,a)}).next(k=>{g=k;const _=k.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(y,k.batchId,_)})}).then(()=>({batchId:g.batchId,changes:fE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Se(le)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await Ha(r,s.changes),await ku(r.remoteStore)}catch(s){const i=pm(s,"Failed to persist write");n.reject(i)}}async function KE(t,e){const n=ee(t);try{const r=await VR(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?fe(o.va):s.removedDocuments.size>0&&(fe(o.va),o.va=!1))}),await Ha(n,r,e)}catch(r){await Ba(r)}}function sv(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=ee(o);u.onlineState=a;let d=!1;u.queries.forEach((f,m)=>{for(const g of m.j_)g.Z_(a)&&(d=!0)}),d&&mm(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TP(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Se(K.comparator);o=o.insert(i,ht.newNoDocument(i,Z.min()));const a=re().add(i),u=new Iu(Z.min(),new Map,new Se(le),o,a);await KE(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),gm(r)}else await kf(r.localStore,e,!1).then(()=>Cf(r,e,n)).catch(Ba)}async function IP(t,e){const n=ee(t),r=e.batch.batchId;try{const s=await MR(n.localStore,e);YE(n,r,null),QE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ha(n,s)}catch(s){await Ba(s)}}async function SP(t,e,n){const r=ee(t);try{const s=await function(o,a){const u=ee(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,a).next(m=>(fe(m!==null),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);YE(r,e,n),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ha(r,s)}catch(s){await Ba(s)}}function QE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function YE(t,e,n){const r=ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Cf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||XE(t,r)})}function XE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(cm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),gm(t))}function iv(t,e,n){for(const r of n)r instanceof WE?(t.La.addReference(r.key,e),NP(t,r)):r instanceof GE?(G("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XE(t,r.key)):J()}function NP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(G("SyncEngine","New document in limbo: "+n),t.xa.add(r),gm(t))}function gm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(_e.fromString(e)),r=t.qa.next();t.Na.set(r,new gP(n)),t.Oa=t.Oa.insert(n,r),LE(t.remoteStore,new jr(Nn(em(n.path)),r,"TargetPurposeLimboResolution",Kp.oe))}}async function Ha(t,e,n){const r=ee(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){s.push(d);const m=lm.Wi(u.targetId,d);i.push(m)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,d){const f=ee(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(d,g=>F.forEach(g.$i,y=>f.persistence.referenceDelegate.addReference(m,g.targetId,y)).next(()=>F.forEach(g.Ui,y=>f.persistence.referenceDelegate.removeReference(m,g.targetId,y)))))}catch(m){if(!za(m))throw m;G("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const g=m.targetId;if(!m.fromCache){const y=f.os.get(g),T=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(T);f.os=f.os.insert(g,I)}}}(r.localStore,i))}async function kP(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await PE(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new q(M.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ha(n,r.hs)}}function AP(t,e){const n=ee(t),r=n.Na.get(e);if(r&&r.va)return re().add(r.key);{let s=re();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function JE(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TP.bind(null,e),e.Ca.d_=hP.bind(null,e.eventManager),e.Ca.$a=fP.bind(null,e.eventManager),e}function CP(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SP.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return LR(this.persistence,new DR,e.initialUser,this.serializer)}Ga(e){return new RR(am.Zr,this.serializer)}Wa(e){return new zR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class Rf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kP.bind(null,this.syncEngine),await cP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dP}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),r=function(i){return new HR(i)}(e.databaseInfo);return function(i,o,a,u){return new YR(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new JR(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sv(this.syncEngine,n,0),function(){return Z0.D()?new Z0:new qR}())}createSyncEngine(e,n){return function(s,i,o,a,u,d,f){const m=new yP(s,i,o,a,u,d);return f&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ee(s);G("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ga(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rf.provider={build:()=>new Rf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ut.UNAUTHENTICATED,this.clientId=Zx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Xd(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await PE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ov(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PP(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ev(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>ev(e.remoteStore,s)),t._onlineComponents=e}async function PP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Xd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===M.FAILED_PRECONDITION||s.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await Xd(t,new Bc)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Xd(t,new Bc);return t._offlineComponents}async function eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await ov(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await ov(t,new Rf))),t._onlineComponents}function jP(t){return eb(t).then(e=>e.syncEngine)}async function tb(t){const e=await eb(t),n=e.eventManager;return n.onListen=vP.bind(null,e.syncEngine),n.onUnlisten=xP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EP.bind(null,e.syncEngine),n}function DP(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const f=new ZE({next:g=>{f.Za(),o.enqueueAndForget(()=>zE(i,m));const y=g.docs.has(a);!y&&g.fromCache?d.reject(new q(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?d.reject(new q(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new qE(em(a.path),f,{includeMetadataChanges:!0,_a:!0});return BE(i,m)}(await tb(t),t.asyncQueue,e,n,r)),r.promise}function OP(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,d){const f=new ZE({next:g=>{f.Za(),o.enqueueAndForget(()=>zE(i,m)),g.fromCache&&u.source==="server"?d.reject(new q(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),m=new qE(a,f,{includeMetadataChanges:!0,_a:!0});return BE(i,m)}(await tb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e,n){if(!n)throw new q(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LP(t,e,n,r){if(e===!0&&r===!0)throw new q(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function lv(t){if(!K.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cv(t){if(K.isDocumentKey(t))throw new q(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Au(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Au(t);throw new q(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZA;switch(r.type){case"firstParty":return new rC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=av.get(n);r&&(G("ComponentProvider","Removing Datastore"),av.delete(n),r.terminate())}(this),Promise.resolve()}}function MP(t,e,n,r={}){var s;const i=(t=mn(t,Cu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ut.MOCK_USER;else{a=Vx(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(d)}t._authCredentials=new eC(new Jx(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}}class qr extends zs{constructor(e,n,r){super(e,n,em(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new K(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Cs(t,e,...n){if(t=ue(t),rb("collection","path",e),t instanceof Cu){const r=_e.fromString(e,...n);return cv(r),new qr(t,null,r)}{if(!(t instanceof Tt||t instanceof qr))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return cv(r),new qr(t.firestore,null,r)}}function ft(t,e,...n){if(t=ue(t),arguments.length===1&&(e=Zx.newId()),rb("doc","path",e),t instanceof Cu){const r=_e.fromString(e,...n);return lv(r),new Tt(t,null,new K(r))}{if(!(t instanceof Tt||t instanceof qr))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return lv(r),new Tt(t.firestore,t instanceof qr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new DE(this,"async_queue_retry"),this.Vu=()=>{const r=Yd();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Jn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!za(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ir("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=fm.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&J()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class qs extends Cu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new dv,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function sb(t,e){const n=typeof t=="object"?t:Qi(),r=typeof t=="string"?t:"(default)",s=jn(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=zp("firestore");i&&MP(s,...i)}return s}function ym(t){if(t._terminated)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VP(t),t._firestoreClient}function VP(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,d,f){return new gC(a,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,nb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new RP(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ui(rt.fromBase64String(e))}catch(n){throw new q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ui(rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/^__.*__$/;class UP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}class $P{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ib(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class _m{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _m(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ib(this.Cu)&&FP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class BP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Su(e)}Qu(e,n,r,s=!1){return new _m({Cu:e,methodName:n,qu:r,path:Ze.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ju(t){const e=t._freezeSettings(),n=Su(t._databaseId);return new BP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ob(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);bm("Data must be an object, but it was:",o,r);const a=ab(r,o);let u,d;if(i.merge)u=new Zt(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const g=cb(e,m,n);if(!o.contains(g))throw new q(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);HP(f,g)||f.push(g)}u=new Zt(f),d=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,d=o.fieldTransforms;return new UP(new Ut(a),u,d)}class xm extends Pu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xm}}class Em extends Pu{_toFieldTransform(e){return new $C(e.path,new ka)}isEqual(e){return e instanceof Em}}function zP(t,e,n,r){const s=t.Qu(1,e,n);bm("Data must be an object, but it was:",s,r);const i=[],o=Ut.empty();$s(r,(u,d)=>{const f=Tm(e,u,n);d=ue(d);const m=s.Nu(f);if(d instanceof xm)i.push(f);else{const g=Du(d,m);g!=null&&(i.push(f),o.set(f,g))}});const a=new Zt(i);return new $P(o,a,s.fieldTransforms)}function qP(t,e,n,r,s,i){if(t.Qu(1,e,n),cb(e,r,n),i.length%2!=0)throw new q(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`)}function WP(t,e,n,r=!1){return Du(n,t.Qu(r?4:3,e))}function Du(t,e){if(lb(t=ue(t)))return bm("Unsupported field value:",e,t),ab(t,e);if(t instanceof Pu)return function(r,s){if(!ib(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Du(a,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ue(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Fe.fromDate(r);return{timestampValue:Uc(s.serializer,i)}}if(r instanceof Fe){const i=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uc(s.serializer,i)}}if(r instanceof vm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ui)return{bytesValue:IE(s.serializer,r._byteString)};if(r instanceof Tt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:im(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wm)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return tm(a.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Au(r)}`)}(t,e)}function ab(t,e){const n={};return eE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(t,(r,s)=>{const i=Du(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function lb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof vm||t instanceof Ui||t instanceof Tt||t instanceof Pu||t instanceof wm)}function bm(t,e,n){if(!lb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Au(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function cb(t,e,n){if((e=ue(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return Tm(t,e);throw zc("Field path arguments must be of type string or ",t,!1,void 0,n)}const GP=new RegExp("[~\\*/\\[\\]]");function Tm(t,e,n){if(e.search(GP)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new q(M.INVALID_ARGUMENT,a+t+u)}function HP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ou("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KP extends ub{data(){return super.data()}}function Ou(t,e){return typeof e=="string"?Tm(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Im{}class db extends Im{}function $i(t,e,...n){let r=[];e instanceof Im&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Sm).length,a=i.filter(u=>u instanceof Lu).length;if(o>1||o>0&&a>0)throw new q(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Lu extends db{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Lu(e,n,r)}_apply(e){const n=this._parse(e);return hb(e._query,n),new zs(e.firestore,e.converter,Ef(e._query,n))}_parse(e){const n=ju(e.firestore);return function(i,o,a,u,d,f,m){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){fv(m,f);const y=[];for(const T of m)y.push(hv(u,i,T));g={arrayValue:{values:y}}}else g=hv(u,i,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||fv(m,f),g=WP(a,o,m,f==="in"||f==="not-in");return Ve.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ra(t,e,n){const r=e,s=Ou("where",t);return Lu._create(s,r,n)}class Sm extends Im{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)hb(o,u),o=Ef(o,u)}(e._query,n),new zs(e.firestore,e.converter,Ef(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Nm extends db{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Nm(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new q(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new q(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Na(i,o)}(e._query,this._field,this._direction);return new zs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Xi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function YP(t,e="asc"){const n=e,r=Ou("orderBy",t);return Nm._create(r,n)}function hv(t,e,n){if(typeof(n=ue(n))=="string"){if(n==="")throw new q(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(e)&&n.indexOf("/")!==-1)throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_e.fromString(n));if(!K.isDocumentKey(r))throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D0(t,new K(r))}if(n instanceof Tt)return D0(t,n._key);throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Au(n)}.`)}function fv(t,e){if(!Array.isArray(t)||t.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XP{convertValue(e,n="none"){switch(As(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return $s(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Pe(o.doubleValue));return new wm(i)}convertGeoPoint(e){return new vm(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ta(e));default:return null}}convertTimestamp(e){const n=Kr(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);fe(RE(r));const s=new Ia(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||ir(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pb extends ub{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ou("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sc extends pb{data(e={}){return super.data(e)}}class JP{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sc(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new sc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),f=o.indexOf(a.doc.key)),{type:ZP(a.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){t=mn(t,Tt);const e=mn(t.firestore,qs);return DP(ym(e),t._key).then(n=>e2(e,t,n))}class mb extends XP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function Bi(t){t=mn(t,zs);const e=mn(t.firestore,qs),n=ym(e),r=new mb(e);return QP(t._query),OP(n,t._query).then(s=>new JP(e,r,t,s))}function gb(t,e,n){t=mn(t,Tt);const r=mn(t.firestore,qs),s=fb(t.converter,e,n);return Mu(r,[ob(ju(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tn.none())])}function zi(t,e,n,...r){t=mn(t,Tt);const s=mn(t.firestore,qs),i=ju(s);let o;return o=typeof(e=ue(e))=="string"||e instanceof Ru?qP(i,"updateDoc",t._key,e,n,r):zP(i,"updateDoc",t._key,e),Mu(s,[o.toMutation(t._key,tn.exists(!0))])}function yb(t){return Mu(mn(t.firestore,qs),[new nm(t._key,tn.none())])}function km(t,e){const n=mn(t.firestore,qs),r=ft(t),s=fb(t.converter,e);return Mu(n,[ob(ju(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,tn.exists(!1))]).then(()=>r)}function Mu(t,e){return function(r,s){const i=new Jn;return r.asyncQueue.enqueueAndForget(async()=>bP(await jP(r),s,i)),i.promise}(ym(t),e)}function e2(t,e,n){const r=n.docs.get(e._key),s=new mb(t);return new pb(t,s,e._key,r,new Vo(n.hasPendingWrites,n.fromCache),e.converter)}function bn(){return new Em("serverTimestamp")}(function(e,n=!0){(function(s){Yi=s})(Us),Lt(new St("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new qs(new tC(r.getProvider("auth-internal")),new iC(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(d.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),He(A0,"4.7.3",e),He(A0,"4.7.3","esm2017")})();function Am(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t2=vb,wb=new es("auth","Firebase",vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new vu("@firebase/auth");function n2(t,...e){qc.logLevel<=se.WARN&&qc.warn(`Auth (${Us}): ${t}`,...e)}function ic(t,...e){qc.logLevel<=se.ERROR&&qc.error(`Auth (${Us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t,...e){throw Cm(t,...e)}function An(t,...e){return Cm(t,...e)}function _b(t,e,n){const r=Object.assign(Object.assign({},t2()),{[e]:n});return new es("auth","Firebase",r).create(e,{appName:t.name})}function Zn(t){return _b(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wb.create(t,...e)}function Q(t,e,...n){if(!t)throw Cm(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ic(e),new Error(e)}function ar(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function r2(){return pv()==="http:"||pv()==="https:"}function pv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r2()||Fx()||"connection"in navigator)?navigator.onLine:!0}function i2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=kk()||Rk()}get(){return s2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=new Ka(3e4,6e4);function hr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fr(t,e,n,r,s={}){return Eb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=$a(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},i);return Ck()||(d.referrerPolicy="no-referrer"),xb.fetch()(bb(t,t.config.apiHost,n,a),d)})}async function Eb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},o2),e);try{const s=new c2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ml(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ml(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Ml(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Ml(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw _b(t,f,d);gn(t,f)}}catch(s){if(s instanceof Kt)throw s;gn(t,"network-request-failed",{message:String(s)})}}async function Qa(t,e,n,r,s={}){const i=await fr(t,e,n,r,s);return"mfaPendingCredential"in i&&gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function bb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Rm(t.config,s):`${t.config.apiScheme}://${s}`}function l2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(An(this.auth,"network-request-failed")),a2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ml(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=An(t,e,r);return s.customData._tokenResponse=n,s}function mv(t){return t!==void 0&&t.enterprise!==void 0}class u2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return l2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function d2(t,e){return fr(t,"GET","/v2/recaptchaConfig",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(t,e){return fr(t,"POST","/v1/accounts:delete",e)}async function Tb(t,e){return fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function f2(t,e=!1){const n=ue(t),r=await n.getIdToken(e),s=Pm(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Zo(Jd(s.auth_time)),issuedAtTime:Zo(Jd(s.iat)),expirationTime:Zo(Jd(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Jd(t){return Number(t)*1e3}function Pm(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ic("JWT malformed, contained fewer than 3 sections"),null;try{const s=Dx(n);return s?JSON.parse(s):(ic("Failed to decode base64 JWT payload"),null)}catch(s){return ic("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function gv(t){const e=Pm(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kt&&p2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function p2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zo(this.lastLoginAt),this.creationTime=Zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Pa(t,Tb(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Ib(i.providerUserInfo):[],a=y2(t.providerData,o),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=u?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new jf(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function g2(t){const e=ue(t);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ib(t){return t.map(e=>{var{providerId:n}=e,r=Am(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2(t,e){const n=await Eb(t,{},async()=>{const r=$a({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=bb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w2(t,e){return fr(t,"POST","/v2/accounts:revokeToken",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await v2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new xi;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Am(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new m2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new jf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Pa(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return f2(this,e)}reload(){return g2(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(En(this.auth.app))return Promise.reject(Zn(this.auth));const e=await this.getIdToken();return await Pa(this,h2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,d,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:j,isAnonymous:L,providerData:V,stsTokenManager:S}=n;Q(b&&S,e,"internal-error");const w=xi.fromJSON(this.name,S);Q(typeof b=="string",e,"internal-error"),vr(m,e.name),vr(g,e.name),Q(typeof j=="boolean",e,"internal-error"),Q(typeof L=="boolean",e,"internal-error"),vr(y,e.name),vr(T,e.name),vr(I,e.name),vr(k,e.name),vr(_,e.name),vr(x,e.name);const E=new Kn({uid:b,auth:e,email:g,emailVerified:j,displayName:m,isAnonymous:L,photoURL:T,phoneNumber:y,tenantId:I,stsTokenManager:w,createdAt:_,lastLoginAt:x});return V&&Array.isArray(V)&&(E.providerData=V.map(N=>Object.assign({},N))),k&&(E._redirectEventId=k),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new xi;s.updateFromServerResponse(n);const i=new Kn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ib(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new xi;a.updateFromIdToken(r);const u=new Kn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new jf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function Qn(t){ar(t instanceof Function,"Expected a class definition");let e=yv.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sb.type="NONE";const vv=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ei{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=oc(this.userKey,s.apiKey,i),this.fullPersistenceKey=oc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ei(Qn(vv),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Qn(vv);const o=oc(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const f=await d._get(o);if(f){const m=Kn._fromJSON(e,f);d!==i&&(a=m),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Ei(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ei(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pb(e))return"Blackberry";if(jb(e))return"Webos";if(kb(e))return"Safari";if((e.includes("chrome/")||Ab(e))&&!e.includes("edge/"))return"Chrome";if(Rb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Nb(t=gt()){return/firefox\//i.test(t)}function kb(t=gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ab(t=gt()){return/crios\//i.test(t)}function Cb(t=gt()){return/iemobile/i.test(t)}function Rb(t=gt()){return/android/i.test(t)}function Pb(t=gt()){return/blackberry/i.test(t)}function jb(t=gt()){return/webos/i.test(t)}function jm(t=gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _2(t=gt()){var e;return jm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x2(){return Pk()&&document.documentMode===10}function Db(t=gt()){return jm(t)||Rb(t)||jb(t)||Pb(t)||/windows phone/i.test(t)||Cb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e=[]){let n;switch(t){case"Browser":n=wv(gt());break;case"Worker":n=`${wv(gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(t,e={}){return fr(t,"GET","/v2/passwordPolicy",hr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=6;class I2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:T2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new E2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ei.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tb(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(En(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(En(this.app))return Promise.reject(Zn(this));const n=e?ue(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return En(this.app)?Promise.reject(Zn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return En(this.app)?Promise.reject(Zn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b2(this),n=new I2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new es("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await w2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Ei.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&n2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ns(t){return ue(t)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=Vk(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N2(t){Vu=t}function Lb(t){return Vu.loadJS(t)}function k2(){return Vu.recaptchaEnterpriseScript}function A2(){return Vu.gapiScript}function C2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const R2="recaptcha-enterprise",P2="NO_RECAPTCHA";class j2{constructor(e){this.type=R2,this.auth=ns(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{d2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new u2(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;mv(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(P2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&mv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=k2();u.length!==0&&(u+=a),Lb(u).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function xv(t,e,n,r=!1){const s=new j2(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Gc(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xv(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await xv(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t,e){const n=jn(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(xa(i,e??{}))return s;gn(s,"already-initialized")}return n.initialize({options:e})}function O2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function L2(t,e,n){const r=ns(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Mb(e),{host:o,port:a}=M2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),V2()}function Mb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M2(t){const e=Mb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Ev(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Ev(o)}}}function Ev(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}async function F2(t,e){return fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(t,e){return Qa(t,"POST","/v1/accounts:signInWithPassword",hr(t,e))}async function $2(t,e){return fr(t,"POST","/v1/accounts:sendOobCode",hr(t,e))}async function B2(t,e){return $2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(t,e){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}async function q2(t,e){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Dm{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ja(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ja(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gc(e,n,"signInWithPassword",U2);case"emailLink":return z2(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gc(e,r,"signUpPassword",F2);case"emailLink":return q2(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bi(t,e){return Qa(t,"POST","/v1/accounts:signInWithIdp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="http://localhost";class Ps extends Dm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ps(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Am(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ps(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bi(e,n)}buildRequest(){const e={requestUri:W2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$a(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(t){const e=jo(Do(t)).link,n=e?jo(Do(e)).deep_link_id:null,r=jo(Do(t)).deep_link_id;return(r?jo(Do(r)).link:null)||r||n||e||t}class Om{constructor(e){var n,r,s,i,o,a;const u=jo(Do(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,m=G2((s=u.mode)!==null&&s!==void 0?s:null);Q(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=H2(e);try{return new Om(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return ja._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Om.parseLink(n);return Q(r,"argument-error"),ja._fromEmailAndCode(e,r.code,r.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Vb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Ya{constructor(){super("facebook.com")}static credential(e){return Ps._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ps._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends Ya{constructor(){super("github.com")}static credential(e){return Ps._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ya{constructor(){super("twitter.com")}static credential(e,n){return Ps._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K2(t,e){return Qa(t,"POST","/v1/accounts:signUp",hr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Kn._fromIdTokenResponse(e,r,s),o=bv(r);return new js({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=bv(r);return new js({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Kt{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Hc(e,n,r,s)}}function Fb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(t,i,e,r):i})}async function Q2(t,e,n=!1){const r=await Pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return js._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(t,e,n=!1){const{auth:r}=t;if(En(r.app))return Promise.reject(Zn(r));const s="reauthenticate";try{const i=await Pa(t,Fb(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=Pm(i.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),js._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t,e,n=!1){if(En(t.app))return Promise.reject(Zn(t));const r="signIn",s=await Fb(t,r,e),i=await js._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function X2(t,e){return Ub(ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(t){const e=ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function J2(t,e,n){const r=ns(t);await Gc(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",B2)}async function Z2(t,e,n){if(En(t.app))return Promise.reject(Zn(t));const r=ns(t),o=await Gc(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K2).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&$b(t),u}),a=await js._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function ej(t,e,n){return En(t.app)?Promise.reject(Zn(t)):X2(ue(t),eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$b(t),r})}function tj(t,e,n,r){return ue(t).onIdTokenChanged(e,n,r)}function nj(t,e,n){return ue(t).beforeAuthStateChanged(e,n)}function rj(t,e,n,r){return ue(t).onAuthStateChanged(e,n,r)}function sj(t){return ue(t).signOut()}const Kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kc,"1"),this.storage.removeItem(Kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=1e3,oj=10;class zb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);x2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,oj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zb.type="LOCAL";const aj=zb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qb.type="SESSION";const Wb=qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Fu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),u=await lj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const d=Lm("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return window}function uj(t){Cn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){return typeof Cn().WorkerGlobalScope<"u"&&typeof Cn().importScripts=="function"}async function dj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fj(){return Gb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="firebaseLocalStorageDb",pj=1,Qc="firebaseLocalStorage",Kb="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uu(t,e){return t.transaction([Qc],e?"readwrite":"readonly").objectStore(Qc)}function mj(){const t=indexedDB.deleteDatabase(Hb);return new Xa(t).toPromise()}function Df(){const t=indexedDB.open(Hb,pj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qc,{keyPath:Kb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qc)?e(r):(r.close(),await mj(),e(await Df()))})})}async function Tv(t,e,n){const r=Uu(t,!0).put({[Kb]:e,value:n});return new Xa(r).toPromise()}async function gj(t,e){const n=Uu(t,!1).get(e),r=await new Xa(n).toPromise();return r===void 0?null:r.value}function Iv(t,e){const n=Uu(t,!0).delete(e);return new Xa(n).toPromise()}const yj=800,vj=3;class Qb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Df(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fu._getInstance(fj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dj(),!this.activeServiceWorker)return;this.sender=new cj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await Tv(e,Kc,"1"),await Iv(e,Kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Tv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Iv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Uu(s,!1).getAll();return new Xa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Qb.type="LOCAL";const wj=Qb;new Ka(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t,e){return e?Qn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm extends Dm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xj(t){return Ub(t.auth,new Mm(t),t.bypassAuthState)}function Ej(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),Y2(n,new Mm(t),t.bypassAuthState)}async function bj(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),Q2(n,new Mm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xj;case"linkViaPopup":case"linkViaRedirect":return bj;case"reauthViaPopup":case"reauthViaRedirect":return Ej;default:gn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=new Ka(2e3,1e4);class di extends Yb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,di.currentPopupAction&&di.currentPopupAction.cancel(),di.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(An(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,di.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tj.get())};e()}}di.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="pendingRedirect",ac=new Map;class Sj extends Yb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ac.get(this.auth._key());if(!e){try{const r=await Nj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ac.set(this.auth._key(),e)}return this.bypassAuthState||ac.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nj(t,e){const n=Cj(e),r=Aj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function kj(t,e){ac.set(t._key(),e)}function Aj(t){return Qn(t._redirectPersistence)}function Cj(t){return oc(Ij,t.config.apiKey,t.name)}async function Rj(t,e,n=!1){if(En(t.app))return Promise.reject(Zn(t));const r=ns(t),s=_j(r,e),o=await new Sj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=10*60*1e3;class jj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Xb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(An(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(e))}saveEventToCache(e){this.cachedEventUids.add(Sv(e)),this.lastProcessedEventTime=Date.now()}}function Sv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Xb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t,e={}){return fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mj=/^https?/;async function Vj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Oj(t);for(const n of e)try{if(Fj(n))return}catch{}gn(t,"unauthorized-domain")}function Fj(t){const e=Pf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Mj.test(n))return!1;if(Lj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new Ka(3e4,6e4);function Nv(){const t=Cn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $j(t){return new Promise((e,n)=>{var r,s,i;function o(){Nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nv(),n(An(t,"network-request-failed"))},timeout:Uj.get()})}if(!((s=(r=Cn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Cn().gapi)===null||i===void 0)&&i.load)o();else{const a=C2("iframefcb");return Cn()[a]=()=>{gapi.load?o():n(An(t,"network-request-failed"))},Lb(`${A2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw lc=null,e})}let lc=null;function Bj(t){return lc=lc||$j(t),lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=new Ka(5e3,15e3),qj="__/auth/iframe",Wj="emulator/auth/iframe",Gj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kj(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rm(e,Wj):`https://${t.config.authDomain}/${qj}`,r={apiKey:e.apiKey,appName:t.name,v:Us},s=Hj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${$a(r).slice(1)}`}async function Qj(t){const e=await Bj(t),n=Cn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:Kj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=An(t,"network-request-failed"),a=Cn().setTimeout(()=>{i(o)},zj.get());function u(){Cn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xj=500,Jj=600,Zj="_blank",eD="http://localhost";class kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tD(t,e,n,r=Xj,s=Jj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Yj),{width:r.toString(),height:s.toString(),top:i,left:o}),d=gt().toLowerCase();n&&(a=Ab(d)?Zj:n),Nb(d)&&(e=e||eD,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,T])=>`${g}${y}=${T},`,"");if(_2(d)&&a!=="_self")return nD(e||"",a),new kv(null);const m=window.open(e||"",a,f);Q(m,t,"popup-blocked");try{m.focus()}catch{}return new kv(m)}function nD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="__/auth/handler",sD="emulator/auth/handler",iD=encodeURIComponent("fac");async function Av(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Us,eventId:s};if(e instanceof Vb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Mk(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))o[f]=m}if(e instanceof Ya){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const u=await t._getAppCheckToken(),d=u?`#${iD}=${encodeURIComponent(u)}`:"";return`${oD(t)}?${$a(a).slice(1)}${d}`}function oD({config:t}){return t.emulator?Rm(t,sD):`https://${t.authDomain}/${rD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="webStorageSupport";class aD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=Rj,this._overrideRedirectResult=kj}async _openPopup(e,n,r,s){var i;ar((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Av(e,n,r,Pf(),s);return tD(e,o,Lm())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Av(e,n,r,Pf(),s);return uj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ar(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Qj(e),r=new jj(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zd,{type:Zd},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Zd];o!==void 0&&n(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Db()||kb()||jm()}}const lD=aD;var Cv="@firebase/auth",Rv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dD(t){Lt(new St("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(t)},d=new S2(r,s,i,u);return O2(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Lt(new St("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(r=>new cD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(Cv,Rv,uD(t)),He(Cv,Rv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=5*60,fD=Mx("authIdTokenMaxAge")||hD;let Pv=null;const pD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fD)return;const s=n==null?void 0:n.token;Pv!==s&&(Pv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mD(t=Qi()){const e=jn(t,"auth");if(e.isInitialized())return e.getImmediate();const n=D2(t,{popupRedirectResolver:lD,persistence:[wj,aj,Wb]}),r=Mx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=pD(i.toString());nj(n,o,()=>o(n.currentUser)),tj(n,a=>o(a))}}const s=Ox("auth");return s&&L2(n,`http://${s}`),n}function gD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=An("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",gD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dD("Browser");const Jb="@firebase/installations",Vm="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=1e4,eT=`w:${Vm}`,tT="FIS_v2",yD="https://firebaseinstallations.googleapis.com/v1",vD=60*60*1e3,wD="installations",_D="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ds=new es(wD,_D,xD);function nT(t){return t instanceof Kt&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT({projectId:t}){return`${yD}/projects/${t}/installations`}function sT(t){return{token:t.token,requestStatus:2,expiresIn:bD(t.expiresIn),creationTime:Date.now()}}async function iT(t,e){const r=(await e.json()).error;return Ds.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function oT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ED(t,{refreshToken:e}){const n=oT(t);return n.append("Authorization",TD(e)),n}async function aT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bD(t){return Number(t.replace("s","000"))}function TD(t){return`${tT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=rT(t),s=oT(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:tT,appId:t.appId,sdkVersion:eT},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await aT(()=>fetch(r,a));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:sT(d.authToken)}}else throw await iT("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=/^[cdef][\w-]{21}$/,Of="";function kD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=AD(t);return ND.test(n)?n:Of}catch{return Of}}function AD(t){return SD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;function uT(t,e){const n=$u(t);dT(n,e),CD(n,e)}function dT(t,e){const n=cT.get(t);if(n)for(const r of n)r(e)}function CD(t,e){const n=RD();n&&n.postMessage({key:t,fid:e}),PD()}let ys=null;function RD(){return!ys&&"BroadcastChannel"in self&&(ys=new BroadcastChannel("[Firebase] FID Change"),ys.onmessage=t=>{dT(t.data.key,t.data.fid)}),ys}function PD(){cT.size===0&&ys&&(ys.close(),ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="firebase-installations-database",DD=1,Os="firebase-installations-store";let eh=null;function Fm(){return eh||(eh=wu(jD,DD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Os)}}})),eh}async function Yc(t,e){const n=$u(t),s=(await Fm()).transaction(Os,"readwrite"),i=s.objectStore(Os),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&uT(t,e.fid),e}async function hT(t){const e=$u(t),r=(await Fm()).transaction(Os,"readwrite");await r.objectStore(Os).delete(e),await r.done}async function Bu(t,e){const n=$u(t),s=(await Fm()).transaction(Os,"readwrite"),i=s.objectStore(Os),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&uT(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Um(t){let e;const n=await Bu(t.appConfig,r=>{const s=OD(r),i=LD(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Of?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function OD(t){const e=t||{fid:kD(),registrationStatus:0};return fT(e)}function LD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ds.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=MD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VD(t)}:{installationEntry:e}}async function MD(t,e){try{const n=await ID(t,e);return Yc(t.appConfig,n)}catch(n){throw nT(n)&&n.customData.serverCode===409?await hT(t.appConfig):await Yc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VD(t){let e=await jv(t.appConfig);for(;e.registrationStatus===1;)await lT(100),e=await jv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Um(t);return r||n}return e}function jv(t){return Bu(t,e=>{if(!e)throw Ds.create("installation-not-found");return fT(e)})}function fT(t){return FD(t)?{fid:t.fid,registrationStatus:0}:t}function FD(t){return t.registrationStatus===1&&t.registrationTime+Zb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD({appConfig:t,heartbeatServiceProvider:e},n){const r=$D(t,n),s=ED(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:eT,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},u=await aT(()=>fetch(r,a));if(u.ok){const d=await u.json();return sT(d)}else throw await iT("Generate Auth Token",u)}function $D(t,{fid:e}){return`${rT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t,e=!1){let n;const r=await Bu(t.appConfig,i=>{if(!pT(i))throw Ds.create("not-registered");const o=i.authToken;if(!e&&qD(o))return i;if(o.requestStatus===1)return n=BD(t,e),i;{if(!navigator.onLine)throw Ds.create("app-offline");const a=GD(i);return n=zD(t,a),a}});return n?await n:r.authToken}async function BD(t,e){let n=await Dv(t.appConfig);for(;n.authToken.requestStatus===1;)await lT(100),n=await Dv(t.appConfig);const r=n.authToken;return r.requestStatus===0?$m(t,e):r}function Dv(t){return Bu(t,e=>{if(!pT(e))throw Ds.create("not-registered");const n=e.authToken;return HD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function zD(t,e){try{const n=await UD(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Yc(t.appConfig,r),n}catch(n){if(nT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await hT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Yc(t.appConfig,r)}throw n}}function pT(t){return t!==void 0&&t.registrationStatus===2}function qD(t){return t.requestStatus===2&&!WD(t)}function WD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vD}function GD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function HD(t){return t.requestStatus===1&&t.requestTime+Zb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Um(e);return r?r.catch(console.error):$m(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e=!1){const n=t;return await YD(n),(await $m(n,e)).token}async function YD(t){const{registrationPromise:e}=await Um(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){if(!t||!t.options)throw th("App Configuration");if(!t.name)throw th("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw th(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function th(t){return Ds.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="installations",JD="installations-internal",ZD=t=>{const e=t.getProvider("app").getImmediate(),n=XD(e),r=jn(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},eO=t=>{const e=t.getProvider("app").getImmediate(),n=jn(e,mT).getImmediate();return{getId:()=>KD(n),getToken:s=>QD(n,s)}};function tO(){Lt(new St(mT,ZD,"PUBLIC")),Lt(new St(JD,eO,"PRIVATE"))}tO();He(Jb,Vm);He(Jb,Vm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc="analytics",nO="firebase_id",rO="origin",sO=60*1e3,iO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Bm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It=new vu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qt=new es("analytics","Analytics",oO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){if(!t.startsWith(Bm)){const e=qt.create("invalid-gtag-resource",{gtagURL:t});return It.warn(e.message),""}return t}function gT(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function lO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function cO(t,e){const n=lO("firebase-js-sdk-policy",{createScriptURL:aO}),r=document.createElement("script"),s=`${Bm}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function uO(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function dO(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await gT(n)).find(d=>d.measurementId===s);u&&await e[u.appId]}}catch(a){It.error(a)}t("config",s,i)}async function hO(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await gT(n);for(const u of o){const d=a.find(m=>m.measurementId===u),f=d&&e[d.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){It.error(i)}}function fO(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,u]=o;await hO(t,e,n,a,u)}else if(i==="config"){const[a,u]=o;await dO(t,e,n,r,a,u)}else if(i==="consent"){const[a,u]=o;t("consent",a,u)}else if(i==="get"){const[a,u,d]=o;t("get",a,u,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){It.error(a)}}return s}function pO(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=fO(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function mO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Bm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=30,yO=1e3;class vO{constructor(e={},n=yO){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const yT=new vO;function wO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _O(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:wO(r)},i=iO.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(a=u.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function xO(t,e=yT,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw qt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw qt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TO;return setTimeout(async()=>{a.abort()},sO),vT({appId:r,apiKey:s,measurementId:i},o,a,e)}async function vT(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=yT){var i;const{appId:o,measurementId:a}=t;try{await EO(r,e)}catch(u){if(a)return It.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw u}try{const u=await _O(t);return s.deleteThrottleMetadata(o),u}catch(u){const d=u;if(!bO(d)){if(s.deleteThrottleMetadata(o),a)return It.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw u}const f=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?w0(n,s.intervalMillis,gO):w0(n,s.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,m),It.debug(`Calling attemptFetch again in ${f} millis`),vT(t,m,r,s)}}function EO(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(qt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bO(t){if(!(t instanceof Kt)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class TO{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function IO(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}async function SO(t,e,n,r){{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(){if(qp())try{await Wp()}catch(t){return It.warn(qt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return It.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kO(t,e,n,r,s,i,o){var a;const u=xO(t);u.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&It.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>It.error(y)),e.push(u);const d=NO().then(y=>{if(y)return r.getId()}),[f,m]=await Promise.all([u,d]);mO(i)||cO(i,f.measurementId),s("js",new Date);const g=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return g[rO]="firebase",g.update=!0,m!=null&&(g[nO]=m),s("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AO=class{constructor(e){this.app=e}_delete(){return delete Ti[this.app.options.appId],Promise.resolve()}},Ti={},Ov=[];const Lv={};let nh="dataLayer",CO="gtag",Mv,zm,Vv=!1;function RO(){const t=[];if(Fx()&&t.push("This is a browser extension environment."),Ux()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=qt.create("invalid-analytics-context",{errorInfo:e});It.warn(n.message)}}function PO(t,e,n){RO();const r=t.options.appId;if(!r)throw qt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)It.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qt.create("no-api-key");if(Ti[r]!=null)throw qt.create("already-exists",{id:r});if(!Vv){uO(nh);const{wrappedGtag:i,gtagCore:o}=pO(Ti,Ov,Lv,nh,CO);zm=i,Mv=o,Vv=!0}return Ti[r]=kO(t,Ov,Lv,e,Mv,nh,n),new AO(t)}function jO(t=Qi()){t=ue(t);const e=jn(t,Xc);return e.isInitialized()?e.getImmediate():DO(t)}function DO(t,e={}){const n=jn(t,Xc);if(n.isInitialized()){const s=n.getImmediate();if(xa(e,n.getOptions()))return s;throw qt.create("already-initialized")}return n.initialize({options:e})}function OO(t,e,n){t=ue(t),SO(zm,Ti[t.app.options.appId],e).catch(r=>It.error(r))}function wT(t,e,n,r){t=ue(t),IO(zm,Ti[t.app.options.appId],e,n,r).catch(s=>It.error(s))}const Fv="@firebase/analytics",Uv="0.10.8";function LO(){Lt(new St(Xc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return PO(r,s,n)},"PUBLIC")),Lt(new St("analytics-internal",t,"PRIVATE")),He(Fv,Uv),He(Fv,Uv,"esm2017");function t(e){try{const n=e.getProvider(Xc).getImmediate();return{logEvent:(r,s,i)=>wT(n,r,s,i)}}catch(n){throw qt.create("interop-component-reg-failed",{reason:n})}}}LO();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="firebasestorage.googleapis.com",xT="storageBucket",MO=2*60*1e3,VO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re extends Kt{constructor(e,n,r=0){super(rh(e),`Firebase Storage: ${n} (${rh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Re.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ce;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ce||(Ce={}));function rh(t){return"storage/"+t}function qm(){const t="An unknown error occurred, please check the error payload for server response.";return new Re(Ce.UNKNOWN,t)}function FO(t){return new Re(Ce.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function UO(t){return new Re(Ce.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $O(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Re(Ce.UNAUTHENTICATED,t)}function BO(){return new Re(Ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zO(t){return new Re(Ce.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function qO(){return new Re(Ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WO(){return new Re(Ce.CANCELED,"User canceled the upload/download.")}function GO(t){return new Re(Ce.INVALID_URL,"Invalid URL '"+t+"'.")}function HO(t){return new Re(Ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KO(){return new Re(Ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xT+"' property when initializing the app?")}function QO(){return new Re(Ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function YO(){return new Re(Ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XO(t){return new Re(Ce.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lf(t){return new Re(Ce.INVALID_ARGUMENT,t)}function ET(){return new Re(Ce.APP_DELETED,"The Firebase app was deleted.")}function JO(t){return new Re(Ce.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ea(t,e){return new Re(Ce.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function So(t){throw new Re(Ce.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bt.makeFromUrl(e,n)}catch{return new Bt(e,"")}if(r.path==="")return r;throw HO(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(j){j.path.charAt(j.path.length-1)==="/"&&(j.path_=j.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function d(j){j.path_=decodeURIComponent(j.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${s}/o${g}`,"i"),T={bucket:1,path:3},I=n===_T?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",_=new RegExp(`^https?://${I}/${s}/${k}`,"i"),b=[{regex:a,indices:u,postModify:i},{regex:y,indices:T,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let j=0;j<b.length;j++){const L=b[j],V=L.regex.exec(e);if(V){const S=V[L.indices.bucket];let w=V[L.indices.path];w||(w=""),r=new Bt(S,w),L.postModify(r);break}}if(r==null)throw GO(e);return r}}class ZO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let d=!1;function f(...k){d||(d=!0,e.apply(null,k))}function m(k){s=setTimeout(()=>{s=null,t(y,u())},k)}function g(){i&&clearTimeout(i)}function y(k,..._){if(d){g();return}if(k){g(),f.call(null,k,..._);return}if(u()||o){g(),f.call(null,k,..._);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,m(b)}let T=!1;function I(k){T||(T=!0,g(),!d&&(s!==null?(k||(a=2),clearTimeout(s),m(0)):k||(a=1)))}return m(0),i=setTimeout(()=>{o=!0,I(!0)},n),I}function t4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){return t!==void 0}function r4(t){return typeof t=="object"&&!Array.isArray(t)}function Wm(t){return typeof t=="string"||t instanceof String}function $v(t){return Gm()&&t instanceof Blob}function Gm(){return typeof Blob<"u"}function Bv(t,e,n,r){if(r<e)throw Lf(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lf(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function bT(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var xs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xs||(xs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r,s,i,o,a,u,d,f,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,T)=>{this.resolve_=y,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Vl(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===xs.NO_ERROR,u=i.getStatus();if(!a||s4(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===xs.ABORT;r(!1,new Vl(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Vl(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());n4(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=qm();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?ET():WO();o(u)}else{const u=qO();o(u)}};this.canceled_?n(!1,new Vl(!1,null,!0)):this.backoffId_=e4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function o4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function a4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function c4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function u4(t,e,n,r,s,i,o=!0){const a=bT(t.urlParams),u=t.url+a,d=Object.assign({},t.headers);return l4(d,e),o4(d,n),a4(d,i),c4(d,r),new i4(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function h4(...t){const e=d4();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Gm())return new Blob(t);throw new Re(Ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function f4(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t){if(typeof atob>"u")throw XO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sh{constructor(e,n){this.data=e,this.contentType=n||null}}function m4(t,e){switch(t){case Tn.RAW:return new sh(TT(e));case Tn.BASE64:case Tn.BASE64URL:return new sh(IT(t,e));case Tn.DATA_URL:return new sh(y4(e),v4(e))}throw qm()}function TT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function g4(t){let e;try{e=decodeURIComponent(t)}catch{throw ea(Tn.DATA_URL,"Malformed data URL.")}return TT(e)}function IT(t,e){switch(t){case Tn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ea(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ea(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=p4(e)}catch(s){throw s.message.includes("polyfill")?s:ea(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class ST{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ea(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=w4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function y4(t){const e=new ST(t);return e.base64?IT(Tn.BASE64,e.rest):g4(e.rest)}function v4(t){return new ST(t).contentType}function w4(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){let r=0,s="";$v(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if($v(this.data_)){const r=this.data_,s=f4(r,e,n);return s===null?null:new Ar(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ar(r,!0)}}static getBlob(...e){if(Gm()){const n=e.map(r=>r instanceof Ar?r.data_:r);return new Ar(h4.apply(null,n))}else{const n=e.map(o=>Wm(o)?m4(Tn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Ar(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){let e;try{e=JSON.parse(t)}catch{return null}return r4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function x4(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(t,e){return e}class _t{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||E4}}let Fl=null;function b4(t){return!Wm(t)||t.length<2?t:kT(t)}function AT(){if(Fl)return Fl;const t=[];t.push(new _t("bucket")),t.push(new _t("generation")),t.push(new _t("metageneration")),t.push(new _t("name","fullPath",!0));function e(i,o){return b4(o)}const n=new _t("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new _t("size");return s.xform=r,t.push(s),t.push(new _t("timeCreated")),t.push(new _t("updated")),t.push(new _t("md5Hash",null,!0)),t.push(new _t("cacheControl",null,!0)),t.push(new _t("contentDisposition",null,!0)),t.push(new _t("contentEncoding",null,!0)),t.push(new _t("contentLanguage",null,!0)),t.push(new _t("contentType",null,!0)),t.push(new _t("metadata","customMetadata",!0)),Fl=t,Fl}function T4(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Bt(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function I4(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return T4(r,t),r}function CT(t,e,n){const r=NT(e);return r===null?null:I4(t,r,n)}function S4(t,e,n,r){const s=NT(e);if(s===null||!Wm(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const f=t.bucket,m=t.fullPath,g="/b/"+o(f)+"/o/"+o(m),y=zu(g,n,r),T=bT({alt:"media",token:d});return y+T})[0]}function N4(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Hm{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){if(!t)throw qm()}function k4(t,e){function n(r,s){const i=CT(t,s,e);return RT(i!==null),i}return n}function A4(t,e){function n(r,s){const i=CT(t,s,e);return RT(i!==null),S4(i,s,t.host,t._protocol)}return n}function PT(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=BO():s=$O():n.getStatus()===402?s=UO(t.bucket):n.getStatus()===403?s=zO(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function jT(t){const e=PT(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=FO(t.path)),i.serverResponse=s.serverResponse,i}return n}function C4(t,e,n){const r=e.fullServerUrl(),s=zu(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Hm(s,i,A4(t,n),o);return a.errorHandler=jT(e),a}function R4(t,e){const n=e.fullServerUrl(),r=zu(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(u,d){}const a=new Hm(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=jT(e),a}function P4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function j4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=P4(null,e)),r}function D4(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let b="";for(let j=0;j<2;j++)b=b+Math.random().toString().slice(2);return b}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const d=j4(e,r,s),f=N4(d,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+u+"--",y=Ar.getBlob(m,r,g);if(y===null)throw QO();const T={name:d.fullPath},I=zu(i,t.host,t._protocol),k="POST",_=t.maxUploadRetryTime,x=new Hm(I,k,k4(t,n),_);return x.urlParams=T,x.headers=o,x.body=y.uploadData(),x.errorHandler=PT(e),x}class O4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw So("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw So("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw So("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw So("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw So("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class L4 extends O4{initXhr(){this.xhr_.responseType="text"}}function Km(){return new L4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this._service=e,n instanceof Bt?this._location=n:this._location=Bt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ls(e,n)}get root(){const e=new Bt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kT(this._location.path)}get storage(){return this._service}get parent(){const e=_4(this._location.path);if(e===null)return null;const n=new Bt(this._location.bucket,e);return new Ls(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JO(e)}}function M4(t,e,n){t._throwIfRoot("uploadBytes");const r=D4(t.storage,t._location,AT(),new Ar(e,!0),n);return t.storage.makeRequestWithTokens(r,Km).then(s=>({metadata:s,ref:t}))}function V4(t){t._throwIfRoot("getDownloadURL");const e=C4(t.storage,t._location,AT());return t.storage.makeRequestWithTokens(e,Km).then(n=>{if(n===null)throw YO();return n})}function F4(t){t._throwIfRoot("deleteObject");const e=R4(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Km)}function U4(t,e){const n=x4(t._location.path,e),r=new Bt(t._location.bucket,n);return new Ls(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){return/^[A-Za-z]+:\/\//.test(t)}function B4(t,e){return new Ls(t,e)}function DT(t,e){if(t instanceof Qm){const n=t;if(n._bucket==null)throw KO();const r=new Ls(n,n._bucket);return e!=null?DT(r,e):r}else return e!==void 0?U4(t,e):t}function z4(t,e){if(e&&$4(e)){if(t instanceof Qm)return B4(t,e);throw Lf("To use ref(service, url), the first argument must be a Storage instance.")}else return DT(t,e)}function zv(t,e){const n=e==null?void 0:e[xT];return n==null?null:Bt.makeFromBucketSpec(n,t)}function q4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Vx(s,t.app.options.projectId))}class Qm{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=_T,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MO,this._maxUploadRetryTime=VO,this._requests=new Set,s!=null?this._bucket=Bt.makeFromBucketSpec(s,this._host):this._bucket=zv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bt.makeFromBucketSpec(this._url,e):this._bucket=zv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ls(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new ZO(ET());{const o=u4(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const qv="@firebase/storage",Wv="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="storage";function Gv(t,e,n){return t=ue(t),M4(t,e,n)}function ih(t){return t=ue(t),V4(t)}function W4(t){return t=ue(t),F4(t)}function Ul(t,e){return t=ue(t),z4(t,e)}function G4(t=Qi(),e){t=ue(t);const r=jn(t,OT).getImmediate({identifier:e}),s=zp("storage");return s&&H4(r,...s),r}function H4(t,e,n,r={}){q4(t,e,n,r)}function K4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Qm(n,r,s,e,Us)}function Q4(){Lt(new St(OT,K4,"PUBLIC").setMultipleInstances(!0)),He(qv,Wv,""),He(qv,Wv,"esm2017")}Q4();const Y4={apiKey:"AIzaSyD7VNKg6Gqam8qHZiHUpzgleVYbk8Gc9qU",authDomain:"bankroll-2ccb4.firebaseapp.com",databaseURL:"https://bankroll-2ccb4-default-rtdb.firebaseio.com",projectId:"bankroll-2ccb4",storageBucket:"bankroll-2ccb4.firebasestorage.app",messagingSenderId:"443440711718",appId:"1:443440711718:web:dc3f58dfe81324edc3bee7",measurementId:"G-QZ2NEGJV6D"};let us=null,de=null,Xe=null,hi=null,xt=null;try{console.log("Initializing Firebase app..."),us=zx(Y4),console.log("Firebase app initialized successfully"),console.log("Initializing Firestore..."),de=sb(us),console.log("Firestore initialized successfully"),console.log("Initializing Auth..."),Xe=mD(us),console.log("Auth initialized successfully"),console.log("Initializing Storage..."),xt=G4(us),console.log("Storage initialized successfully"),console.log("Initializing Analytics..."),typeof window<"u"?(hi=jO(us),console.log("Analytics initialized successfully")):console.log("Analytics skipped - not in browser environment")}catch(t){console.error("Firebase initialization error:",t),console.error("Error details:",{code:t.code,message:t.message,stack:t.stack}),us||console.error("Failed to initialize Firebase app"),de||console.error("Failed to initialize Firestore"),Xe||console.error("Failed to initialize Auth"),xt||console.error("Failed to initialize Storage"),!hi&&typeof window<"u"&&console.error("Failed to initialize Analytics")}var dw;if(de)try{const t=(dw=de._firestoreClient)==null?void 0:dw.connectivityMonitor;t&&t.addCallback(e=>{console.log("Firestore connection state:",e?"CONNECTED":"DISCONNECTED")})}catch(t){console.error("Error setting up Firestore connection listener:",t)}xt?console.log("Storage bucket:",xt.app.options.storageBucket):console.error("Storage is not initialized");const oh=us;class qn{static async uploadProfileImage(e,n){var r,s;try{if(!xt)throw new Error("Firebase Storage is not initialized");if(!e||!n)throw new Error("File and user ID are required");const i=Date.now(),o=Math.random().toString(36).substring(2,15),a=e.name.split(".").pop(),u=`${i}-${o}.${a}`,d=Ul(xt,`profile-images/${n}/${u}`),f={contentType:e.type,customMetadata:{userId:n,uploadedAt:new Date().toISOString()},cacheControl:"public,max-age=31536000"};console.log("Uploading file...");const m=await Gv(d,e,f);if(!m)throw new Error("Upload failed - no snapshot returned");console.log("Getting download URL...");const g=await ih(m.ref);if(!g)throw new Error("Failed to get download URL");const y=`${g}?t=${i}`;return console.log("Upload complete. URL:",y),y}catch(i){throw console.error("Detailed error in uploadProfileImage:",{code:i.code,message:i.message,stack:i.stack,name:i.name,userId:n,fileName:e==null?void 0:e.name,storageBucket:(s=(r=xt==null?void 0:xt.app)==null?void 0:r.options)==null?void 0:s.storageBucket}),i.code==="storage/unauthorized"?new Error("Permission denied. Please check your authentication."):i.code==="storage/canceled"?new Error("Upload was canceled."):i.code==="storage/unknown"?new Error("An unknown error occurred. Please try again."):new Error(`Failed to upload image: ${i.message}`)}}static async uploadStaticAsset(e,n,r){try{if(!xt)throw new Error("Firebase Storage is not initialized");if(!e||!n||!r)throw new Error("File, category, and filename are required");const s=Ul(xt,`static/${n}/${r}`),i={contentType:e.type,customMetadata:{category:n,uploadedAt:new Date().toISOString()},cacheControl:"public,max-age=31536000"};console.log("Uploading static asset...");const o=await Gv(s,e,i);if(!o)throw new Error("Upload failed - no snapshot returned");console.log("Getting download URL...");const a=await ih(o.ref);if(!a)throw new Error("Failed to get download URL");return console.log("Static asset upload complete. URL:",a),a}catch(s){throw console.error("Detailed error in uploadStaticAsset:",{code:s.code,message:s.message,stack:s.stack,name:s.name,category:n,fileName:r}),new Error(`Failed to upload static asset: ${s.message}`)}}static async getStaticAssetUrl(e,n){try{if(!xt)throw new Error("Firebase Storage is not initialized");const r=Ul(xt,`static/${e}/${n}`);return await ih(r)}catch(r){throw console.error("Error getting static asset URL:",r),new Error(`Failed to get static asset URL: ${r.message}`)}}static async deleteProfileImage(e){try{if(!xt)throw new Error("Firebase Storage is not initialized");const n=e.split("?")[0];if(!n||!n.includes("firebasestorage.googleapis.com")){console.log("Invalid or non-Firebase URL, skipping deletion");return}try{const r=Ul(xt,n);await W4(r),console.log("Old profile image deleted successfully")}catch(r){if(r.code==="storage/object-not-found"){console.log("Old profile image not found, skipping deletion");return}throw r}}catch(n){console.error("Detailed error in deleteProfileImage:",{code:n.code,message:n.message,stack:n.stack,name:n.name,imageUrl:e}),console.warn("Failed to delete old profile image:",n.message)}}}const LT=C.createContext();function ze(){return C.useContext(LT)}function X4({children:t}){const[e,n]=C.useState(null),[r,s]=C.useState(!0);async function i(m,g){if(!de){console.warn("Firestore is not initialized (development mode)");return}try{console.log("Starting profile image update for user:",m);let y;g instanceof File?(console.log("Uploading new image file to Storage"),y=await qn.uploadProfileImage(g,m),console.log("Image uploaded successfully, URL:",y)):(console.log("Using provided image URL"),y=g);const T=ft(de,"users",m);await zi(T,{profileImage:y,lastUpdated:bn()}),console.log("Firestore document updated with new image URL");const k=(await Rs(T)).data();return n(_=>({..._,...k})),console.log("Local state updated with new user data"),y}catch(y){throw console.error("Detailed error in updateProfileImage:",{code:y.code,message:y.message,stack:y.stack,name:y.name}),y}}async function o(m,g,y){var T,I;if(!Xe)return console.warn("Auth is not initialized (development mode)"),null;try{console.log("Starting signup process for:",m);const _=(await Z2(Xe,m,g)).user;if(console.log("User authentication created:",_.uid),!de)return console.warn("Firestore is not initialized (development mode)"),_;const x=new Date(y.birthday),b=Fe.fromDate(x),j=(T=y.sleeperUsername)!=null&&T.startsWith("@")?y.sleeperUsername:`@${y.sleeperUsername}`,L=(I=y.venmoUsername)!=null&&I.startsWith("@")?y.venmoUsername:`@${y.venmoUsername}`;if(!y.username)throw new Error("Username is required");const V={firstName:y.firstName,lastName:y.lastName,email:y.email,username:y.username,venmoUsername:L,address1:y.address1||"",address2:y.address2||null,city:y.city||"",state:y.state||"",postalCode:y.postalCode||"",birthday:b,phoneNumber:y.phoneNumber,sleeperUsername:j,promoCode:y.promoCode||null,dwollaCustomerId:"",dwollaBalance:0,bonusBalance:0,id:_.uid,profileImage:null,lastUpdated:bn(),lastBalanceUpdate:bn(),createdAt:bn()};return console.log("Creating Firestore document for user:",V),await gb(ft(de,"users",_.uid),V),console.log("Firestore document created successfully"),_}catch(k){throw console.error("Signup error:",{code:k.code,message:k.message,stack:k.stack}),k}}async function a(m,g){if(!Xe||!de)return console.warn("Auth/Firestore is not initialized (development mode)"),null;try{let y=m;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)){const _=Cs(de,"users"),x=$i(_,Ra("username","==",m)),b=await Bi(x);if(b.empty)throw new Error("No user found with this username");y=b.docs[0].data().email}return(await ej(Xe,y,g)).user}catch(y){throw console.error("Login error:",y),y}}async function u(){if(!Xe){console.warn("Auth is not initialized (development mode)");return}try{await sj(Xe)}catch(m){throw console.error("Error in logout:",m),m}}async function d(m){if(!Xe){console.warn("Auth is not initialized (development mode)");return}try{await J2(Xe,m)}catch(g){throw console.error("Error in password reset:",g),g}}C.useEffect(()=>{if(!Xe){console.warn("Auth is not initialized (development mode)"),s(!1);return}return rj(Xe,async g=>{if(g&&de)try{const y=await Rs(ft(de,"users",g.uid));y.exists()?n({...g,...y.data()}):n(g)}catch(y){console.error("Error fetching user data:",y),n(g)}else n(null);s(!1)})},[]);const f={currentUser:e,signup:o,login:a,logout:u,resetPassword:d,updateProfileImage:i,loading:r};return c.jsx(LT.Provider,{value:f,children:!r&&t})}const ah="https://api.sleeper.app/v1";class Mf{static async getUser(e){try{const n=await fetch(`${ah}/user/${e}`);if(!n.ok)throw new Error("User not found");return await n.json()}catch(n){throw n}}static async getUserLeagues(e,n="2024",r="nfl"){try{const s=await fetch(`${ah}/user/${e}/leagues/${r}/${n}`);if(!s.ok)throw new Error("Failed to fetch leagues");return await s.json()}catch(s){throw s}}static async getLeagueUsers(e){try{const n=await fetch(`${ah}/league/${e}/users`);if(!n.ok)throw new Error("Failed to fetch league users");return await n.json()}catch(n){throw n}}static getAvatarUrl(e){return e?`https://sleepercdn.com/avatars/${e}`:null}static getLeagueAvatarUrl(e){return e?`https://sleepercdn.com/avatars/${e}`:null}}const MT=C.createContext(),VT=()=>{const t=C.useContext(MT);if(!t)throw new Error("useSleeperContext must be used within a SleeperProvider");return t},J4=({children:t})=>{const[e,n]=C.useState(()=>{const g=localStorage.getItem("sleeperUser");return g?JSON.parse(g):null}),[r,s]=C.useState(()=>{const g=localStorage.getItem("sleeperLeagues");return g?JSON.parse(g):[]}),[i,o]=C.useState(!1),[a,u]=C.useState("");C.useEffect(()=>{e?localStorage.setItem("sleeperUser",JSON.stringify(e)):localStorage.removeItem("sleeperUser")},[e]),C.useEffect(()=>{r.length>0?localStorage.setItem("sleeperLeagues",JSON.stringify(r)):localStorage.removeItem("sleeperLeagues")},[r]);const m={user:e,leagues:r,isLoading:i,errorMessage:a,fetchUser:async g=>{o(!0),u("");try{const y=await Mf.getUser(g);n(y);const T=await Mf.getUserLeagues(y.user_id);s(T)}catch(y){u("Failed to find Sleeper user"),console.error("Error fetching Sleeper user:",y)}finally{o(!1)}},disconnectSleeper:()=>{n(null),s([]),localStorage.removeItem("sleeperUser"),localStorage.removeItem("sleeperLeagues")}};return c.jsx(MT.Provider,{value:m,children:t})};class Z4{constructor(){this.collection=Cs(de,"espn_leagues")}async createLeague(e){try{return{id:(await km(this.collection,{...e,createdAt:bn(),updatedAt:bn(),platform:"ESPN"})).id,...e,createdAt:new Date().toISOString(),platform:"ESPN"}}catch(n){throw console.error("Error creating ESPN league:",n),new Error("Failed to create ESPN league. Please try again.")}}async getLeaguesByUserId(e){try{const n=$i(this.collection,Ra("userId","==",e));return(await Bi(n)).docs.map(s=>({id:s.id,...s.data()}))}catch(n){throw console.error("Error getting ESPN leagues:",n),new Error("Failed to fetch ESPN leagues. Please try again.")}}async updateLeague(e,n){try{const r=ft(de,"espn_leagues",e);return await zi(r,{...n,updatedAt:bn()}),{id:e,...n,updatedAt:new Date().toISOString()}}catch(r){throw console.error("Error updating ESPN league:",r),new Error("Failed to update ESPN league. Please try again.")}}async deleteLeague(e){try{const n=ft(de,"espn_leagues",e);return await yb(n),!0}catch(n){throw console.error("Error deleting ESPN league:",n),new Error("Failed to delete ESPN league. Please try again.")}}}const $l=new Z4,FT=C.createContext(null),Ym=()=>{const t=C.useContext(FT);if(!t)throw new Error("useESPN must be used within an ESPNProvider");return t},eL=({children:t})=>{const[e,n]=C.useState([]),[r,s]=C.useState(!1),[i,o]=C.useState(null),{user:a}=ze();C.useEffect(()=>{a&&d()},[a]);const u=async T=>{try{s(!0),o(null);const I={...T,userId:a.uid},k=await $l.createLeague(I);return n(_=>[..._,{id:k,...I}]),k}catch(I){throw o(I.message),I}finally{s(!1)}},d=async()=>{if(a)try{s(!0),o(null);const T=await $l.getLeaguesByUserId(a.uid);n(T)}catch(T){o(T.message),console.error("Error fetching ESPN leagues:",T)}finally{s(!1)}},y={leagues:e,isLoading:r,error:i,createLeague:u,fetchLeagues:d,updateLeague:async(T,I)=>{try{s(!0),o(null),await $l.updateLeague(T,I),n(k=>k.map(_=>_.id===T?{..._,...I}:_))}catch(k){throw o(k.message),k}finally{s(!1)}},deleteLeague:async T=>{try{s(!0),o(null),await $l.deleteLeague(T),n(I=>I.filter(k=>k.id!==T))}catch(I){throw o(I.message),I}finally{s(!1)}},clearError:()=>{o(null)}};return c.jsx(FT.Provider,{value:y,children:t})},Qe=[];for(let t=0;t<256;++t)Qe.push((t+256).toString(16).slice(1));function tL(t,e=0){return(Qe[t[e+0]]+Qe[t[e+1]]+Qe[t[e+2]]+Qe[t[e+3]]+"-"+Qe[t[e+4]]+Qe[t[e+5]]+"-"+Qe[t[e+6]]+Qe[t[e+7]]+"-"+Qe[t[e+8]]+Qe[t[e+9]]+"-"+Qe[t[e+10]]+Qe[t[e+11]]+Qe[t[e+12]]+Qe[t[e+13]]+Qe[t[e+14]]+Qe[t[e+15]]).toLowerCase()}let lh;const nL=new Uint8Array(16);function rL(){if(!lh){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");lh=crypto.getRandomValues.bind(crypto)}return lh(nL)}const sL=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Hv={randomUUID:sL};function iL(t,e,n){if(Hv.randomUUID&&!e&&!t)return Hv.randomUUID();t=t||{};const r=t.random||(t.rng||rL)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,tL(r)}class oL{constructor(){this.groupsCollection="groups",this.usersCollection="users"}async getUserData(e){try{console.log("Fetching user data for:",e);const n=await Rs(ft(de,this.usersCollection,e));if(n.exists()){const r=n.data();return console.log("Found user data:",r),{uid:e,displayName:`${r.firstName} ${r.lastName}`,photoURL:r.profileImage,firstName:r.firstName,lastName:r.lastName}}return console.log("No user data found for:",e),null}catch(n){throw console.error("Error fetching user data:",n),n}}async getUserGroups(e){try{if(console.log("Fetching groups for user:",e),!e)throw new Error("User ID is required");const n=Cs(de,this.groupsCollection),r=$i(n,Ra("memberIds","array-contains",e)),s=$i(n,Ra("ownerId","==",e)),[i,o]=await Promise.all([Bi(r),Bi(s)]),a=new Set;i.forEach(d=>{console.log("Found member group:",d.id,d.data()),a.add({id:d.id,...d.data()})}),o.forEach(d=>{console.log("Found owner group:",d.id,d.data()),a.add({id:d.id,...d.data()})});const u=Array.from(a);return console.log("Total groups found:",u.length,u),u}catch(n){throw console.error("Error fetching user groups:",n),n}}async getGroup(e){try{if(console.log("Fetching group:",e),!e)throw new Error("Group ID is required");const n=ft(de,this.groupsCollection,e),r=await Rs(n);if(console.log("Group doc exists:",r.exists()),r.exists()){const s=r.data();console.log("Raw group data:",s),console.log("Fetching owner data for:",s.ownerId);const i=await this.getUserData(s.ownerId);console.log("Owner data:",i),console.log("Fetching member data for:",s.memberIds);const o=(s.memberIds||[]).map(d=>this.getUserData(d)),a=await Promise.all(o);console.log("Member data:",a);const u={id:r.id,...s,owner:i,members:a.filter(d=>d!==null)};return console.log("Full group data:",u),u}else throw console.log("Group not found with ID:",e),new Error("Group not found")}catch(n){throw console.error("Error fetching group:",n),n}}async createGroup(e,n){try{if(console.log("Creating group with data:",{groupData:e,creator:n}),!e||!n)throw new Error("Group data and creator information are required");if(!e.name)throw new Error("Group name is required");const r=iL(),s=Cs(de,this.groupsCollection),i=await this.getUserData(n.id);console.log("Creator data:",i);const o={id:r,name:e.name,emoji:e.emoji||"👥",description:e.description||"",ownerId:n.id,owner:i,members:[i],memberIds:[n.id],pendingMembers:[],dateCreated:new Date().toISOString(),isHidden:!1,visibility:e.visibility||"private",inviteLink:`https://onbankroll.com/group/${r}`,status:"active"};console.log("Creating new group:",o);const a=await km(s,o);console.log("Group created with ID:",a.id);const u={...o,id:a.id};return await zi(ft(s,a.id),{id:a.id}),console.log("Group updated with ID"),u}catch(r){throw console.error("Error creating group:",r),r}}async updateGroup(e,n,r){var s;try{const i=await this.getGroup(e);if(i.ownerId!==r&&!((s=i.coOwners)!=null&&s.includes(r)))throw new Error("User does not have permission to update this group");const o=ft(de,this.groupsCollection,e);return await zi(o,n),await this.getGroup(e)}catch(i){throw console.error("Error updating group:",i),i}}async deleteGroup(e,n){try{if((await this.getGroup(e)).ownerId!==n)throw new Error("Only the group owner can delete the group");const s=ft(de,this.groupsCollection,e);await yb(s)}catch(r){throw console.error("Error deleting group:",r),r}}async leaveGroup(e,n){var r;try{const s=await this.getGroup(e);if(s.ownerId===n)throw new Error("Group owner cannot leave the group");const i=s.members.filter(u=>u.uid!==n),o=s.memberIds.filter(u=>u!==n),a=((r=s.coOwners)==null?void 0:r.filter(u=>u!==n))||[];await this.updateGroup(e,{members:i,memberIds:o,coOwners:a},s.ownerId)}catch(s){throw console.error("Error leaving group:",s),s}}async addMembers(e,n){try{const r=await this.getGroup(e),s=n.map(u=>this.getUserData(u.id)),i=await Promise.all(s),o=[...r.members],a=[...r.memberIds];return i.forEach(u=>{u&&!a.includes(u.uid)&&(o.push(u),a.push(u.uid))}),await this.updateGroup(e,{members:o,memberIds:a},r.ownerId),await this.getGroup(e)}catch(r){throw console.error("Error adding members:",r),r}}async isUserInGroup(e,n){try{if(!e||!n)throw new Error("User ID and Group ID are required");const r=await this.getGroup(n);return r.memberIds.includes(e)||r.ownerId===e}catch(r){throw console.error("Error checking user group membership:",r),r}}}const Xt=new oL,aL=C.createContext(),lL=({children:t})=>{const{currentUser:e}=ze(),[n,r]=C.useState([]),[s,i]=C.useState(!0),[o,a]=C.useState(null),u=async()=>{if(e!=null&&e.uid)try{i(!0);const I=await Xt.getUserGroups(e.uid);r(I),a(null)}catch(I){a(I instanceof Error?I.message:"Failed to fetch groups"),console.error("Error fetching groups:",I)}finally{i(!1)}};C.useEffect(()=>{u()},[e==null?void 0:e.uid]);const T={groups:n,loading:s,error:o,createGroup:async I=>{if(!e)throw new Error("User must be logged in to create a group");try{const k=await Xt.createGroup(I,{id:e.uid,firstName:e.firstName,lastName:e.lastName,profileImage:e.profileImage});return r(_=>[..._,k]),k}catch(k){const _=k instanceof Error?k.message:"Failed to create group";throw a(_),k}},updateGroup:async(I,k)=>{if(!(e!=null&&e.uid))throw new Error("User must be logged in to update a group");try{await Xt.updateGroup(I,k,e.uid),await u()}catch(_){const x=_ instanceof Error?_.message:"Failed to update group";throw a(x),_}},deleteGroup:async I=>{if(!(e!=null&&e.uid))throw new Error("User must be logged in to delete a group");try{await Xt.deleteGroup(I,e.uid),r(k=>k.filter(_=>_.id!==I))}catch(k){const _=k instanceof Error?k.message:"Failed to delete group";throw a(_),k}},leaveGroup:async I=>{if(!(e!=null&&e.uid))throw new Error("User must be logged in to leave a group");try{await Xt.leaveGroup(I,e.uid),r(k=>k.filter(_=>_.id!==I))}catch(k){const _=k instanceof Error?k.message:"Failed to leave group";throw a(_),k}},addMembers:async(I,k)=>{try{await Xt.addMembers(I,k),await u()}catch(_){const x=_ instanceof Error?_.message:"Failed to add members";throw a(x),_}},refreshGroups:u};return c.jsx(aL.Provider,{value:T,children:t})};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const n=C.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...d},f)=>C.createElement("svg",{ref:f,...cL,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${uL(t)}`,a].join(" "),...d},[...e.map(([m,g])=>C.createElement(m,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ce("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ce("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=ce("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ce("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=ce("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gL=ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ce("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=ce("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=ce("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),TL=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState(""),{currentUser:s,logout:i}=ze(),o=dr(),a=Ki();C.useEffect(()=>{(async()=>{try{const g=await qn.getStaticAssetUrl("site-images","Bankroll Gradient.jpg");r(g)}catch(g){console.error("Error fetching logo:",g)}})()},[]);const u=async()=>{try{await i(),o("/login")}catch(m){console.error("Failed to log out:",m)}},d=[{name:"Partners",href:"/spend"},{name:"Banking",href:"/banking"},{name:"Leagues",href:"/leagues"},{name:"Send",href:"/send"}],f=m=>a.pathname===m;return c.jsxs("div",{className:"min-h-screen bg-gray-900",children:[c.jsxs("nav",{className:"bg-gray-800",children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx(un,{to:"/spend",children:c.jsx("img",{className:"h-8 w-auto",src:n||"/newBankrollWebsite/public/images/Bankroll Gradient.jpg",alt:"Bankroll"})})}),c.jsx("div",{className:"hidden md:block",children:c.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:d.map(m=>c.jsx(un,{to:m.href,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 ${f(m.href)?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:m.name},m.name))})})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(un,{to:"/notifications",className:`p-2 transition-colors duration-200 ${f("/notifications")?"text-white bg-blue-600 rounded-md":"text-gray-400 hover:text-white"}`,children:c.jsx(UT,{className:"h-6 w-6"})}),c.jsx(un,{to:"/profile",className:`ml-3 flex items-center transition-colors duration-200 ${f("/profile")?"ring-2 ring-blue-600 rounded-full":"text-gray-300 hover:text-white"}`,children:c.jsx("img",{className:"h-8 w-8 rounded-full",src:(s==null?void 0:s.profileImage)||"/newBankrollWebsite/public/images/profile_1.jpeg",alt:s==null?void 0:s.firstName})}),c.jsx("div",{className:"ml-3 md:hidden",children:c.jsx("button",{onClick:()=>e(!t),className:"text-gray-400 hover:text-white",children:t?c.jsx(lr,{className:"h-6 w-6"}):c.jsx(yL,{className:"h-6 w-6"})})})]})]})}),t&&c.jsx("div",{className:"md:hidden",children:c.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[d.map(m=>c.jsx(un,{to:m.href,className:`block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ${f(m.href)?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,onClick:()=>e(!1),children:m.name},m.name)),c.jsx("button",{onClick:u,className:"text-gray-300 hover:bg-gray-700 hover:text-white block w-full text-left px-3 py-2 rounded-md text-base font-medium",children:"Sign out"})]})})]}),c.jsx("main",{children:c.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:c.jsx(ak,{})})})]})};function HT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=HT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function IL(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=HT(t))&&(r&&(r+=" "),r+=e);return r}const Xm="-",SL=t=>{const e=kL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Xm);return a[0]===""&&a.length!==1&&a.shift(),KT(a,e)||NL(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},KT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?KT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Xm);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Jv=/^\[(.+)\]$/,NL=t=>{if(Jv.test(t)){const e=Jv.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},kL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return CL(Object.entries(t.classGroups),n).forEach(([i,o])=>{Uf(o,r,i,e)}),r},Uf=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Zv(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(AL(s)){Uf(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Uf(o,Zv(e,i),n,r)})})},Zv=(t,e)=>{let n=t;return e.split(Xm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},AL=t=>t.isThemeGetter,CL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,RL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},QT="!",PL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let d=0,f=0,m;for(let k=0;k<a.length;k++){let _=a[k];if(d===0){if(_===s&&(r||a.slice(k,k+i)===e)){u.push(a.slice(f,k)),f=k+i;continue}if(_==="/"){m=k;continue}}_==="["?d++:_==="]"&&d--}const g=u.length===0?a:a.substring(f),y=g.startsWith(QT),T=y?g.substring(1):g,I=m&&m>f?m-f:void 0;return{modifiers:u,hasImportantModifier:y,baseClassName:T,maybePostfixModifierPosition:I}};return n?a=>n({className:a,parseClassName:o}):o},jL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},DL=t=>({cache:RL(t.cacheSize),parseClassName:PL(t),...SL(t)}),OL=/\s+/,LL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(OL);let a="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:f,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}=n(d);let T=!!y,I=r(T?g.substring(0,y):g);if(!I){if(!T){a=d+(a.length>0?" "+a:a);continue}if(I=r(g),!I){a=d+(a.length>0?" "+a:a);continue}T=!1}const k=jL(f).join(":"),_=m?k+QT:k,x=_+I;if(i.includes(x))continue;i.push(x);const b=s(I,T);for(let j=0;j<b.length;++j){const L=b[j];i.push(_+L)}a=d+(a.length>0?" "+a:a)}return a};function ML(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=YT(e))&&(r&&(r+=" "),r+=n);return r}const YT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=YT(t[r]))&&(n&&(n+=" "),n+=e);return n};function VL(t,...e){let n,r,s,i=o;function o(u){const d=e.reduce((f,m)=>m(f),t());return n=DL(d),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const d=r(u);if(d)return d;const f=LL(u,n);return s(u,f),f}return function(){return i(ML.apply(null,arguments))}}const ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},XT=/^\[(?:([a-z-]+):)?(.+)\]$/i,FL=/^\d+\/\d+$/,UL=new Set(["px","full","screen"]),$L=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Un=t=>Ii(t)||UL.has(t)||FL.test(t),wr=t=>to(t,"length",ZL),Ii=t=>!!t&&!Number.isNaN(Number(t)),dh=t=>to(t,"number",Ii),No=t=>!!t&&Number.isInteger(Number(t)),GL=t=>t.endsWith("%")&&Ii(t.slice(0,-1)),te=t=>XT.test(t),_r=t=>$L.test(t),HL=new Set(["length","size","percentage"]),KL=t=>to(t,HL,JT),QL=t=>to(t,"position",JT),YL=new Set(["image","url"]),XL=t=>to(t,YL,tM),JL=t=>to(t,"",eM),ko=()=>!0,to=(t,e,n)=>{const r=XT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ZL=t=>BL.test(t)&&!zL.test(t),JT=()=>!1,eM=t=>qL.test(t),tM=t=>WL.test(t),nM=()=>{const t=ve("colors"),e=ve("spacing"),n=ve("blur"),r=ve("brightness"),s=ve("borderColor"),i=ve("borderRadius"),o=ve("borderSpacing"),a=ve("borderWidth"),u=ve("contrast"),d=ve("grayscale"),f=ve("hueRotate"),m=ve("invert"),g=ve("gap"),y=ve("gradientColorStops"),T=ve("gradientColorStopPositions"),I=ve("inset"),k=ve("margin"),_=ve("opacity"),x=ve("padding"),b=ve("saturate"),j=ve("scale"),L=ve("sepia"),V=ve("skew"),S=ve("space"),w=ve("translate"),E=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",te,e],P=()=>[te,e],A=()=>["",Un,wr],Ue=()=>["auto",Ii,te],At=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Mt=()=>["solid","dashed","dotted","double","none"],yt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",te],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[Ii,te];return{cacheSize:500,separator:":",theme:{colors:[ko],spacing:[Un,wr],blur:["none","",_r,te],brightness:z(),borderColor:[t],borderRadius:["none","","full",_r,te],borderSpacing:P(),borderWidth:A(),contrast:z(),grayscale:H(),hueRotate:z(),invert:H(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[GL,wr],inset:R(),margin:R(),opacity:z(),padding:P(),saturate:z(),scale:z(),sepia:H(),skew:z(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[_r]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...At(),te]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",No,te]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",No,te]}],"grid-cols":[{"grid-cols":[ko]}],"col-start-end":[{col:["auto",{span:["full",No,te]},te]}],"col-start":[{"col-start":Ue()}],"col-end":[{"col-end":Ue()}],"grid-rows":[{"grid-rows":[ko]}],"row-start-end":[{row:["auto",{span:[No,te]},te]}],"row-start":[{"row-start":Ue()}],"row-end":[{"row-end":Ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,e]}],"min-w":[{"min-w":[te,e,"min","max","fit"]}],"max-w":[{"max-w":[te,e,"none","full","min","max","fit","prose",{screen:[_r]},_r]}],h:[{h:[te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",_r,wr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dh]}],"font-family":[{font:[ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",Ii,dh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Un,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Mt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Un,wr]}],"underline-offset":[{"underline-offset":["auto",Un,te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...At(),QL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Mt(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Mt()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Mt()]}],"outline-offset":[{"outline-offset":[Un,te]}],"outline-w":[{outline:[Un,wr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Un,wr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",_r,JL]}],"shadow-color":[{shadow:[ko]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...yt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":yt()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",_r,te]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[m]}],saturate:[{saturate:[b]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[No,te]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Un,wr,dh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rM=VL(nM);function no(...t){return rM(IL(t))}const Ae=C.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:no("rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50",t),...e}));Ae.displayName="Card";const _n=C.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:no("flex flex-col space-y-1.5 p-6",t),...e}));_n.displayName="CardHeader";const xn=C.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:no("text-2xl font-semibold leading-none tracking-tight",t),...e}));xn.displayName="CardTitle";const sM=C.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:no("text-sm text-gray-500 dark:text-gray-400",t),...e}));sM.displayName="CardDescription";const Le=C.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:no("p-6 pt-0",t),...e}));Le.displayName="CardContent";const iM=C.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:no("flex items-center p-6 pt-0",t),...e}));iM.displayName="CardFooter";const oM=()=>{const{currentUser:t}=ze();return c.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[c.jsx("div",{className:"relative overflow-hidden",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-16",children:c.jsxs("div",{className:"text-center",children:[c.jsx("img",{className:"h-24 sm:h-32 w-auto mx-auto mb-6 sm:mb-8",src:"/images/BankrollLogoTransparent.png",alt:"Bankroll Logo"}),c.jsx("h1",{className:"text-3xl sm:text-4xl md:text-6xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent leading-tight px-4",children:"Your Fantasy Sports Bank"}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-300 mb-6 sm:mb-8 max-w-2xl mx-auto px-4",children:"Manage your fantasy sports and sports betting bankroll all in one place. Connect with friends, join leagues, and compete for prizes!"}),c.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-4 px-4",children:t?c.jsxs(c.Fragment,{children:[c.jsx(un,{to:"/create-group",className:"w-full sm:w-auto px-8 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors text-center",children:"Create a Group"}),c.jsx(un,{to:"/groups",className:"w-full sm:w-auto px-8 py-3 bg-gray-700 text-white rounded-lg font-medium hover:bg-gray-600 transition-colors text-center",children:"View My Groups"})]}):c.jsxs(c.Fragment,{children:[c.jsx(un,{to:"/signup",className:"w-full sm:w-auto px-8 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors text-center",children:"Get Started"}),c.jsx(un,{to:"/login",className:"w-full sm:w-auto px-8 py-3 bg-gray-700 text-white rounded-lg font-medium hover:bg-gray-600 transition-colors text-center",children:"Sign In"})]})})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[c.jsx(Ae,{className:"bg-gray-800 border-gray-700 h-full",children:c.jsxs(Le,{className:"p-6",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx("span",{className:"text-4xl",children:"👥"})}),c.jsx("h3",{className:"text-xl font-bold mb-3",children:"Group Management"}),c.jsx("p",{className:"text-gray-300",children:"Create and join groups with friends. Share leagues, track group performance, and compete together across multiple platforms."})]})}),c.jsx(Ae,{className:"bg-gray-800 border-gray-700 h-full",children:c.jsxs(Le,{className:"p-6",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx("span",{className:"text-4xl",children:"🏦"})}),c.jsx("h3",{className:"text-xl font-bold mb-3",children:"Unified Banking"}),c.jsx("p",{className:"text-gray-300",children:"Connect all your fantasy sports and betting accounts in one place. Track your balances and manage transfers easily."})]})}),c.jsx(Ae,{className:"bg-gray-800 border-gray-700 h-full",children:c.jsxs(Le,{className:"p-6",children:[c.jsx("div",{className:"flex items-center justify-center mb-4",children:c.jsx("span",{className:"text-4xl",children:"🔒"})}),c.jsx("h3",{className:"text-xl font-bold mb-3",children:"Secure & Private"}),c.jsx("p",{className:"text-gray-300",children:"Bank-level security for your transactions. Your data is encrypted and protected."})]})})]})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 bg-gray-800",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Powerful Group Features"}),c.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Create private groups, invite friends, and manage your fantasy sports experience together."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[c.jsx("div",{className:"text-2xl mb-4",children:"🤝"}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:"League Sharing"}),c.jsx("p",{className:"text-gray-300",children:"Share and track leagues across multiple platforms within your group."})]}),c.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[c.jsx("div",{className:"text-2xl mb-4",children:"📊"}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:"Performance Tracking"}),c.jsx("p",{className:"text-gray-300",children:"Monitor group members' performance and compete for the top spot."})]}),c.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg",children:[c.jsx("div",{className:"text-2xl mb-4",children:"🏆"}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:"Group Challenges"}),c.jsx("p",{className:"text-gray-300",children:"Create and participate in group-specific challenges and competitions."})]})]})]}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center mb-8 sm:mb-12",children:"Supported Platforms"}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 sm:gap-8",children:[c.jsx("div",{className:"flex items-center justify-center bg-gray-800 rounded-lg p-4",children:c.jsx("img",{src:"/images/betmgm.png",alt:"BetMGM",className:"max-h-12 w-auto object-contain"})}),c.jsx("div",{className:"flex items-center justify-center bg-gray-800 rounded-lg p-4",children:c.jsx("img",{src:"/images/caesars.png",alt:"Caesars",className:"max-h-12 w-auto object-contain"})}),c.jsx("div",{className:"flex items-center justify-center bg-gray-800 rounded-lg p-4",children:c.jsx("img",{src:"/images/betespn.png",alt:"ESPN",className:"max-h-12 w-auto object-contain"})}),c.jsx("div",{className:"flex items-center justify-center bg-gray-800 rounded-lg p-4",children:c.jsx("img",{src:"/images/betrFantasy.png",alt:"Betr Fantasy",className:"max-h-12 w-auto object-contain"})})]})]}),c.jsx("footer",{className:"bg-gray-800 py-8 sm:py-12 mt-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold mb-4",children:"About"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Company"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Team"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Careers"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold mb-4",children:"Resources"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Documentation"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Help Center"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"FAQ"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold mb-4",children:"Legal"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Privacy Policy"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Terms of Service"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Security"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold mb-4",children:"Connect"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Twitter"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Discord"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Email"})})]})]})]}),c.jsx("div",{className:"mt-8 sm:mt-12 text-center text-gray-400",children:c.jsx("p",{children:"© 2024 Bankroll. All rights reserved."})})]})})]})},aM=()=>{const[t,e]=C.useState({firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:""}),[n,r]=C.useState(""),[s,i]=C.useState(!1),{signup:o}=ze(),a=dr(),u=f=>{const{name:m,value:g}=f.target;e(y=>({...y,[m]:g}))},d=async f=>{if(f.preventDefault(),t.password!==t.confirmPassword)return r("Passwords do not match");try{r(""),i(!0),await o(t.email,t.password,{firstName:t.firstName,lastName:t.lastName,username:t.username}),a("/")}catch(m){r("Failed to create an account: "+m.message)}finally{i(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("img",{className:"mx-auto h-24 w-auto",src:"/newBankrollWebsite/public/images/Bankroll Gradient.jpg",alt:"Bankroll"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Create your account"})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n&&c.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:n}),c.jsxs("form",{className:"space-y-6",onSubmit:d,children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-300",children:"First Name"}),c.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:t.firstName,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-300",children:"Last Name"}),c.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:t.lastName,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300",children:"Username"}),c.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300",children:"Confirm Password"}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:s?"Creating Account...":"Sign Up"})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-600"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-gray-800 text-gray-400",children:"Already have an account?"})})]}),c.jsx("div",{className:"mt-6",children:c.jsx(un,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600",children:"Sign In"})})]})]})})]})},lM=()=>{const[t,e]=C.useState({email:"",password:""}),[n,r]=C.useState(""),[s,i]=C.useState(!1),{login:o}=ze(),a=dr(),u=f=>{const{name:m,value:g}=f.target;e(y=>({...y,[m]:g}))},d=async f=>{f.preventDefault();try{r(""),i(!0),await o(t.email,t.password),a("/")}catch(m){r("Failed to sign in: "+m.message)}finally{i(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[c.jsx("img",{className:"mx-auto h-24 w-auto",src:"/newBankrollWebsite/public/images/Bankroll Gradient.jpg",alt:"Bankroll"}),c.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Sign in to your account"})]}),c.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:c.jsxs("div",{className:"bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n&&c.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:n}),c.jsxs("form",{className:"space-y-6",onSubmit:d,children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),c.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t.password,onChange:u,className:"mt-1 block w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-600 rounded bg-gray-700"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-300",children:"Remember me"})]}),c.jsx("div",{className:"text-sm",children:c.jsx("a",{href:"#",className:"font-medium text-blue-400 hover:text-blue-300",children:"Forgot your password?"})})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:s,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${s?"bg-blue-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}`,children:s?"Signing in...":"Sign in"})})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-600"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-gray-800 text-gray-400",children:"Don't have an account?"})})]}),c.jsx("div",{className:"mt-6",children:c.jsx(un,{to:"/signup",className:"w-full flex justify-center py-2 px-4 border border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-300 bg-gray-700 hover:bg-gray-600",children:"Create an account"})})]})]})})]})},cM=({value:t=0,duration:e=1e3,prefix:n="",suffix:r=""})=>{const[s,i]=C.useState(0),o=C.useRef(null),a=C.useRef(null),u=C.useRef(0);C.useEffect(()=>{u.current=s,o.current=Date.now();const f=()=>{const g=Date.now()-o.current,y=Math.min(g/e,1),I=(_=>1-Math.pow(1-_,3))(y),k=Math.floor(u.current+(t-u.current)*I);i(k),y<1&&(a.current=requestAnimationFrame(f))};return a.current=requestAnimationFrame(f),()=>{a.current&&cancelAnimationFrame(a.current)}},[t,e]);const d=s.toString().padStart(t.toString().length,"0");return c.jsxs("div",{className:"font-mono",children:[n,d.split("").map((f,m)=>c.jsx("span",{className:"inline-block w-4 text-center",children:f},m)),r]})};function uM(){const{currentUser:t}=ze(),[e,n]=C.useState(null),[r,s]=C.useState(!0),[i,o]=C.useState(null),[a,u]=C.useState(null),d=async()=>{var f;if(!(t!=null&&t.uid)){o("No user found"),s(!1);return}s(!0),o(null);try{const m=ft(de,"users",t.uid),g=await Rs(m);if(g.exists()){const y=g.data();n(y.dwollaBalance||0),u(((f=y.lastBalanceUpdate)==null?void 0:f.toDate())||new Date)}else o("User data not found")}catch(m){console.error("Error fetching balance:",m),o("Failed to fetch balance")}finally{s(!1)}};return C.useEffect(()=>{d()},[t==null?void 0:t.uid]),t!=null&&t.uid?c.jsxs(Ae,{className:"bg-gray-900/40 border-purple-500/20",children:[c.jsxs(_n,{className:"flex flex-row items-center justify-between pb-2",children:[c.jsx(xn,{className:"text-white font-medium",children:"Bankroll Balance"}),c.jsx("button",{onClick:d,disabled:r,className:"p-2 hover:bg-purple-900/30 rounded-full transition-colors","aria-label":"Refresh balance",children:c.jsx(vL,{className:`h-4 w-4 text-purple-200 ${r?"animate-spin":""}`})})]}),c.jsx(Le,{children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"p-2 bg-green-500/20 rounded-lg",children:c.jsx(qu,{className:"h-5 w-5 text-green-500"})}),c.jsxs("div",{children:[r?c.jsx("div",{className:"text-2xl font-bold text-white animate-pulse",children:"Loading..."}):i?c.jsx("div",{className:"text-sm text-red-400",children:i}):c.jsx("div",{className:"text-2xl font-bold text-white",children:c.jsx(cM,{value:Math.floor(e*100),duration:2e3,prefix:"$",suffix:`.${(e*100%100).toString().padStart(2,"0")}`})}),a&&!i&&c.jsxs("div",{className:"text-xs text-gray-400",children:["Last updated: ",a.toLocaleTimeString()]})]})]})})]}):null}class dM{constructor(){this.baseURL="https://api-sandbox.dwolla.com",this.tokenURL=`${this.baseURL}/token`,this.apiKey=void 0,this.apiSecret=void 0,this.accessToken=null,this.tokenExpirationDate=null}async authenticate(){try{if(this.accessToken&&this.tokenExpirationDate>new Date(Date.now()+6e4)){console.log("Using existing token, expires at:",this.tokenExpirationDate);return}console.log("Requesting new access token...");const e=`${this.apiKey}:${this.apiSecret}`,n=btoa(e),r=await fetch(this.tokenURL,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${n}`},body:"grant_type=client_credentials"});if(!r.ok)throw new Error(`Authentication failed: ${r.statusText}`);const s=await r.json();this.accessToken=s.access_token,this.tokenExpirationDate=new Date(Date.now()+s.expires_in*1e3),console.log("New token obtained, expires in:",s.expires_in,"seconds")}catch(e){throw console.error("Authentication error:",e),e}}async createDwollaCustomer(e){try{if(await this.authenticate(),!this.accessToken)throw new Error("No access token available");const n=new Date(e.birthday).toISOString().split("T")[0],r={firstName:e.firstName,lastName:e.lastName,email:e.email,type:"personal",dateOfBirth:n,address1:e.address1,city:e.city,state:e.state,postalCode:e.postalCode,ssn:e.ssn},s=await fetch(`${this.baseURL}/customers`,{method:"POST",headers:{Accept:"application/vnd.dwolla.v1.hal+json","Content-Type":"application/json",Authorization:`Bearer ${this.accessToken}`},body:JSON.stringify(r)});if(!s.ok){const a=await s.json();throw new Error(a.message||"Failed to create Dwolla customer")}const o=s.headers.get("Location").split("/").pop();return de&&await this.storeDwollaCustomerId(e.id,o),o}catch(n){throw console.error("Error creating Dwolla customer:",n),n}}async storeDwollaCustomerId(e,n){if(!de){console.warn("Skipping Dwolla customer ID storage in development mode");return}try{const r=ft(de,"users",e);await zi(r,{dwollaCustomerId:n,dwollaVerificationStatus:"pending",dwollaBalance:0,bonusBalance:0,lastBalanceUpdate:bn(),lastUpdated:bn()})}catch(r){throw console.error("Error storing Dwolla customer ID:",r),r}}async fetchBalance(e){try{if(await this.authenticate(),!this.accessToken)throw new Error("No access token available");const n=await fetch(`${this.baseURL}/customers/${e}/funding-sources`,{headers:{Accept:"application/vnd.dwolla.v1.hal+json",Authorization:`Bearer ${this.accessToken}`}});if(!n.ok)throw new Error("Failed to fetch funding sources");const s=(await n.json())._embedded["funding-sources"].find(a=>a.type==="balance");if(!s)throw new Error("No balance account found");const i=await fetch(`${this.baseURL}/funding-sources/${s.id}/balance`,{headers:{Accept:"application/vnd.dwolla.v1.hal+json",Authorization:`Bearer ${this.accessToken}`}});if(!i.ok)throw new Error("Failed to fetch balance");const o=await i.json();return parseFloat(o.balance.value)}catch(n){throw console.error("Error fetching balance:",n),n}}async getUserByDwollaId(e){if(!de)return null;try{const n=Cs(de,"users"),r=$i(n,Ra("dwollaCustomerId","==",e)),s=await Bi(r);return s.empty?null:s.docs[0].data()}catch(n){return console.error("Error getting user by Dwolla ID:",n),null}}async updateUserBalance(e,n){if(!de){console.warn("Skipping balance update in development mode");return}try{const r=ft(de,"users",e),s=await Rs(r);if(!s.exists())throw new Error("User document not found");s.data().dwollaBalance!==n&&await zi(r,{dwollaBalance:n,lastBalanceUpdate:bn()})}catch(r){throw console.error("Error updating user balance:",r),r}}async listFundingSources(e){try{if(await this.authenticate(),!this.accessToken)throw new Error("No access token available");const n=await fetch(`${this.baseURL}/customers/${e}/funding-sources`,{headers:{Accept:"application/vnd.dwolla.v1.hal+json",Authorization:`Bearer ${this.accessToken}`}});if(!n.ok)throw new Error("Failed to fetch funding sources");return(await n.json())._embedded["funding-sources"]}catch(n){throw console.error("Error listing funding sources:",n),n}}}const hM=new dM;function fM(){const{currentUser:t}=ze(),[e,n]=C.useState(!1),[r,s]=C.useState(null),[i,o]=C.useState({firstName:"",lastName:"",email:(t==null?void 0:t.email)||"",birthday:"",ssn:"",address1:"",city:"",state:"",postalCode:""}),a=async d=>{d.preventDefault(),n(!0),s(null);try{await hM.createDwollaCustomer({...i,id:t.uid}),window.location.reload()}catch(f){console.error("Error creating Dwolla customer:",f),s(f.message||"Failed to create Dwolla account")}finally{n(!1)}},u=d=>{o(f=>({...f,[d.target.name]:d.target.value}))};return t!=null&&t.dwollaCustomerId?null:c.jsxs(Ae,{className:"bg-gray-900/40 border-purple-500/20",children:[c.jsx(_n,{children:c.jsx(xn,{className:"text-white",children:"Setup Dwolla Account"})}),c.jsx(Le,{children:c.jsxs("form",{onSubmit:a,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"First Name"}),c.jsx("input",{type:"text",name:"firstName",value:i.firstName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Last Name"}),c.jsx("input",{type:"text",name:"lastName",value:i.lastName,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Email"}),c.jsx("input",{type:"email",name:"email",value:i.email,onChange:u,required:!0,disabled:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white opacity-50"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Date of Birth"}),c.jsx("input",{type:"date",name:"birthday",value:i.birthday,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"SSN"}),c.jsx("input",{type:"password",name:"ssn",value:i.ssn,onChange:u,required:!0,placeholder:"123-45-6789",className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Street Address"}),c.jsx("input",{type:"text",name:"address1",value:i.address1,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"City"}),c.jsx("input",{type:"text",name:"city",value:i.city,onChange:u,required:!0,className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"State"}),c.jsx("input",{type:"text",name:"state",value:i.state,onChange:u,required:!0,maxLength:"2",placeholder:"CA",className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"ZIP Code"}),c.jsx("input",{type:"text",name:"postalCode",value:i.postalCode,onChange:u,required:!0,placeholder:"12345",className:"mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white"})]})]}),r&&c.jsx("div",{className:"text-red-400 text-sm",children:r}),c.jsx("button",{type:"submit",disabled:e,className:`w-full py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white rounded-lg 
              transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:e?"Setting up...":"Setup Account"})]})})]})}const pM={ValidationError:"Please check your information and try again.",NotFound:"The requested resource was not found.",Forbidden:"You do not have permission to perform this action.",InvalidCredentials:"Invalid credentials provided.",InvalidResourceState:"The resource is in an invalid state for this operation.",DuplicateResource:"This resource already exists.",InvalidFormat:"The provided information format is invalid.",InvalidScope:"The requested scope is invalid or unavailable.",ServerError:"An unexpected error occurred. Please try again later.",ServiceUnavailable:"The service is temporarily unavailable. Please try again later.",TooManyRequests:"Too many requests. Please wait a moment and try again.",InvalidSSN:"The provided SSN appears to be invalid.",InvalidDateOfBirth:"The provided date of birth appears to be invalid.",InvalidAddress:"The provided address could not be verified.",InvalidName:"The provided name appears to be invalid.",DocumentRequired:"Additional documentation is required for verification.",InsufficientFunds:"Insufficient funds available for this transaction.",TransferFailed:"The transfer could not be completed. Please try again.",InvalidAmount:"The specified amount is invalid.",ExceedsLimit:"This transaction exceeds the allowed limit.",AccountSuspended:"Your account has been suspended. Please contact support.",AccountDeactivated:"Your account has been deactivated.",VerificationRequired:"Account verification is required to perform this action.",getErrorMessage:function(t){if(this[t.code])return this[t.code];const e=t.message.toLowerCase();return e.includes("ssn")?this.InvalidSSN:e.includes("date of birth")?this.InvalidDateOfBirth:e.includes("address")?this.InvalidAddress:e.includes("funds")?this.InsufficientFunds:e.includes("verification")?this.VerificationRequired:"An error occurred. Please try again or contact support if the problem persists."}};function ZT({onClose:t}){const{currentUser:e}=ze(),[n,r]=C.useState(""),[s,i]=C.useState(!1),[o,a]=C.useState(null),[u,d]=C.useState([]),[f,m]=C.useState(""),[g,y]=C.useState("ach"),T=async _=>{_.preventDefault(),i(!0),a(null);try{if(!(e!=null&&e.dwollaCustomerId))throw new Error("No Dwolla account found");const x=parseFloat(n);if(isNaN(x)||x<=0)throw new Error("Please enter a valid amount");await new Promise(b=>setTimeout(b,1e3)),t()}catch(x){console.error("Deposit error:",x),a(pM.getErrorMessage(x))}finally{i(!1)}},I=_=>{const x=_.target.value;(x===""||/^\d*\.?\d{0,2}$/.test(x))&&r(x)},k=[10,25,50,100,250,500];return c.jsxs(Ae,{className:"bg-gray-900/40 border-purple-500/20",children:[c.jsx(_n,{children:c.jsx(xn,{className:"text-white",children:"Deposit Funds"})}),c.jsx(Le,{children:c.jsxs("form",{onSubmit:T,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(qu,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",value:n,onChange:I,placeholder:"0.00",className:`block w-full pl-10 pr-4 py-2 rounded-md bg-gray-800 border-gray-700 
                  text-white placeholder-gray-400 focus:ring-2 focus:ring-purple-500 focus:border-transparent`})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Deposit Method"}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsxs("button",{type:"button",onClick:()=>y("ach"),className:`p-3 rounded-lg border flex flex-col items-center justify-center space-y-2 transition-colors
                  ${g==="ach"?"bg-purple-900/40 border-purple-500":"bg-gray-800 border-gray-700 hover:bg-gray-700"}`,children:[c.jsx(dL,{className:"h-6 w-6 text-white"}),c.jsx("span",{className:"text-sm text-white",children:"ACH"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",disabled:!0,className:`w-full p-3 rounded-lg border border-gray-700 bg-gray-800/50 
                    flex flex-col items-center justify-center space-y-2 opacity-50 cursor-not-allowed`,children:[c.jsx("img",{src:"/images/venmo icon.png",alt:"Venmo",className:"h-6 w-6"}),c.jsx("span",{className:"text-sm text-white",children:"Venmo"})]}),c.jsx("span",{className:"absolute -bottom-6 left-0 right-0 text-center text-xs text-gray-400",children:"Coming Soon"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",disabled:!0,className:`w-full p-3 rounded-lg border border-gray-700 bg-gray-800/50 
                    flex flex-col items-center justify-center space-y-2 opacity-50 cursor-not-allowed`,children:[c.jsx(fL,{className:"h-6 w-6 text-white"}),c.jsx("span",{className:"text-sm text-white",children:"Debit Card"})]}),c.jsx("span",{className:"absolute -bottom-6 left-0 right-0 text-center text-xs text-gray-400",children:"Coming Soon"})]})]})]}),c.jsx("div",{className:"grid grid-cols-3 gap-2 mt-8",children:k.map(_=>c.jsxs("button",{type:"button",onClick:()=>r(_.toString()),className:`py-2 px-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg 
                  transition-colors border border-gray-700`,children:["$",_]},_))}),o&&c.jsx("div",{className:"text-red-400 text-sm",children:o}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:t,className:`flex-1 py-2 px-4 bg-gray-800 hover:bg-gray-700 text-white rounded-lg 
                transition-colors`,children:"Cancel"}),c.jsx("button",{type:"submit",disabled:s||!n,className:`flex-1 py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-lg 
                transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:s?"Processing...":"Deposit"})]})]})})]})}const mM=()=>{const[t,e]=C.useState(!1),[n,r]=C.useState({});C.useEffect(()=>{(async()=>{try{const u={espnFantasy:await qn.getStaticAssetUrl("rewards-images","espnFantasy.png"),sleeperFantasy:await qn.getStaticAssetUrl("rewards-images","sleeperFantasy.png"),yahoofantasy:await qn.getStaticAssetUrl("rewards-images","yahoofantasy.png"),fanduel:await qn.getStaticAssetUrl("rewards-images","fanduel.png"),draftkingsFantasy:await qn.getStaticAssetUrl("rewards-images","draftkingsFantasy.png")};r(u)}catch(u){console.error("Error loading images:",u)}})()},[]);const s=[{id:1,description:"Connect your Season-Long Fantasy League",bounty:5,completed:!1,buttonColor:"bg-blue-500 hover:bg-blue-600",logos:[{src:n.espnFantasy,alt:"ESPN"},{src:n.sleeperFantasy,alt:"Sleeper"},{src:n.yahoofantasy,alt:"Yahoo"}]},{id:2,description:"Connect your FanDuel and DraftKings accounts",bounty:5,completed:!1,buttonColor:"bg-purple-500 hover:bg-purple-600",logos:[{src:n.fanduel,alt:"FanDuel"},{src:n.draftkingsFantasy,alt:"DraftKings"}]},{id:3,description:"Share with your best friend",bounty:10,completed:!1,buttonColor:"bg-green-500 hover:bg-green-600",emoji:"🤝"}],i=a=>{console.log(`Clicked bounty for challenge ${a}`)},o=()=>c.jsxs("div",{className:"fixed inset-0 bg-blue-500 flex flex-col items-center justify-start z-50 p-4",children:[c.jsx("button",{onClick:()=>e(!1),className:"text-white text-2xl font-medium mb-8 self-start",children:"Close"}),c.jsxs("div",{className:"space-y-4 w-full max-w-md mb-8",children:[c.jsxs("div",{className:"bg-blue-400/30 rounded-xl p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:n.sleeperFantasy,alt:"Sleeper",className:"w-8 h-8 rounded"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white",children:"$0.50 for your"}),c.jsx("div",{className:"text-white/70",children:"Sleeper League"})]})]}),c.jsx("div",{className:"text-white text-xl font-medium",children:"$0.50"})]}),c.jsxs("div",{className:"bg-blue-400/30 rounded-xl p-4 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("img",{src:n.fanduel,alt:"FanDuel",className:"w-8 h-8 rounded"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white",children:"$1.00 FanDuel"}),c.jsx("div",{className:"text-white/70",children:"Fanduel"})]})]}),c.jsx("div",{className:"text-white text-xl font-medium",children:"$1.00"})]})]}),c.jsxs("div",{className:"relative w-full max-w-md aspect-square",children:[c.jsx("div",{className:"absolute inset-0 bg-white rounded-full"}),c.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full z-10"}),c.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-0 h-0 
                      border-l-[20px] border-l-transparent
                      border-b-[40px] border-b-white
                      border-r-[20px] border-r-transparent z-20`})]}),c.jsx("button",{className:"mt-8 bg-white text-blue-500 rounded-full px-12 py-4 text-xl font-bold",onClick:()=>{},children:"SPIN!"})]});return c.jsxs(Ae,{className:"bg-gray-900/50 border-purple-500/20",children:[c.jsxs(Le,{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-white",children:"Rewards and Challenges"}),c.jsx(GT,{className:"h-5 w-5 text-yellow-500"})]}),c.jsx("div",{className:"rounded-lg overflow-hidden",children:s.map((a,u)=>c.jsxs("div",{className:`flex items-center justify-between p-4 ${u%2===0?"bg-gray-800/50":"bg-gray-800/30"}`,children:[c.jsxs("div",{className:"flex items-center flex-1",children:[a.logos?c.jsx("div",{className:"flex -space-x-2 mr-4",children:a.logos.map((d,f)=>c.jsx("img",{src:d.src,alt:d.alt,className:"w-8 h-8 rounded-full border-2 border-gray-800 bg-white"},f))}):a.emoji?c.jsx("div",{className:"w-8 h-8 flex items-center justify-center mr-4 text-xl",children:a.emoji}):null,c.jsx("p",{className:"text-white",children:a.description})]}),c.jsxs("button",{onClick:()=>i(a.id),className:`ml-4 px-6 py-2 ${a.buttonColor} text-white rounded-lg transition-colors shadow-lg`,children:["Bounty: $",a.bounty]})]},a.id))}),c.jsxs("div",{className:"flex items-center justify-between mt-6 p-4 bg-gray-800/50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white font-medium",children:"Daily Reward"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Spin for a chance to win rewards!"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{disabled:!0,className:"px-6 py-2 bg-gradient-to-r from-blue-500/50 to-purple-500/50 text-white/70 rounded-lg cursor-not-allowed shadow-lg",children:"Spin Now!"}),c.jsx("span",{className:"absolute -top-2 right-0 text-xs font-medium text-purple-400 bg-purple-400/10 px-2 py-1 rounded-full",children:"Coming Soon"})]})]})]}),t&&c.jsx(o,{})]})};function gM(){const{currentUser:t}=ze(),[e,n]=C.useState(!1),[r,s]=C.useState("rewards"),i=[{id:1,type:"deposit",amount:500,description:"Deposit from Bank",date:"2024-03-15"},{id:2,type:"withdrawal",amount:-50,description:"NFL Bet Placement",date:"2024-03-14"},{id:3,type:"winning",amount:125,description:"Bet Payout",date:"2024-03-13"}];return t!=null&&t.dwollaCustomerId?c.jsxs("div",{className:"space-y-6",children:[(t==null?void 0:t.dwollaVerificationStatus)==="pending"&&c.jsx(Ae,{className:"bg-yellow-500/10 border-yellow-500/20",children:c.jsx(Le,{className:"py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center",children:c.jsx(zT,{className:"h-5 w-5 text-yellow-500"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-white",children:"Verification In Progress"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Your account is being verified. This typically takes 1-2 business days. You'll receive a notification once verified."})]})]})})}),e&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsx("div",{className:"max-w-md w-full mx-4",children:c.jsx(ZT,{onClose:()=>n(!1)})})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(uM,{}),c.jsxs(Ae,{className:"bg-gray-900/50 border-purple-500/20",children:[c.jsx(_n,{children:c.jsx(xn,{className:"text-lg font-medium text-purple-100",children:"Quick Actions"})}),c.jsx(Le,{children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>n(!0),disabled:(t==null?void 0:t.dwollaVerificationStatus)==="pending",className:"flex items-center justify-center space-x-2 bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Kv,{className:"h-5 w-5"}),c.jsx("span",{children:"Deposit"})]}),c.jsxs("button",{disabled:(t==null?void 0:t.dwollaVerificationStatus)==="pending",className:"flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(Qv,{className:"h-5 w-5"}),c.jsx("span",{children:"Withdraw"})]})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsx("button",{onClick:()=>s("rewards"),className:`p-4 rounded-lg font-medium transition-colors ${r==="rewards"?"bg-purple-600 text-white":"bg-gray-900/50 text-gray-300 hover:bg-gray-900/70"}`,children:"Rewards & Challenges"}),c.jsx("button",{onClick:()=>s("activity"),className:`p-4 rounded-lg font-medium transition-colors ${r==="activity"?"bg-purple-600 text-white":"bg-gray-900/50 text-gray-300 hover:bg-gray-900/70"}`,children:"Recent Activity"})]}),r==="rewards"?c.jsx(mM,{}):c.jsxs(Ae,{className:"bg-gray-900/50 border-purple-500/20",children:[c.jsx(_n,{children:c.jsx(xn,{className:"text-lg font-medium text-purple-100",children:"Recent Activity"})}),c.jsx(Le,{children:c.jsx("div",{className:"space-y-4",children:i.map(o=>c.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-800/50 hover:bg-gray-800/70 transition-colors",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:`p-2 rounded-full ${o.type==="deposit"?"bg-green-500/20 text-green-500":o.type==="withdrawal"?"bg-red-500/20 text-red-500":"bg-purple-500/20 text-purple-500"}`,children:o.type==="deposit"?c.jsx(Kv,{className:"h-5 w-5"}):o.type==="withdrawal"?c.jsx(Qv,{className:"h-5 w-5"}):c.jsx(uh,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-white",children:o.description}),c.jsx("p",{className:"text-xs text-gray-400",children:o.date})]})]}),c.jsxs("div",{className:`font-medium ${o.amount>0?"text-green-500":"text-red-500"}`,children:[o.amount>0?"+":"",o.amount.toFixed(2)]})]},o.id))})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(Ae,{className:"bg-gray-900/50 border-purple-500/20",children:[c.jsxs(_n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(xn,{className:"text-sm font-medium text-purple-100",children:"Total Winnings"}),c.jsx(qu,{className:"h-4 w-4 text-purple-200"})]}),c.jsxs(Le,{children:[c.jsx("div",{className:"text-2xl font-bold text-green-500",children:"$1,234.56"}),c.jsx("p",{className:"text-xs text-purple-200 mt-1",children:"+12.5% from last month"})]})]}),c.jsxs(Ae,{className:"bg-gray-900/50 border-purple-500/20",children:[c.jsxs(_n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(xn,{className:"text-sm font-medium text-purple-100",children:"Active Bets"}),c.jsx(uh,{className:"h-4 w-4 text-purple-200"})]}),c.jsxs(Le,{children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:"5"}),c.jsx("p",{className:"text-xs text-purple-200 mt-1",children:"Total value: $250.00"})]})]}),c.jsxs(Ae,{className:"bg-gray-900/50 border-purple-500/20",children:[c.jsxs(_n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(xn,{className:"text-sm font-medium text-purple-100",children:"Win Rate"}),c.jsx(uh,{className:"h-4 w-4 text-purple-200"})]}),c.jsxs(Le,{children:[c.jsx("div",{className:"text-2xl font-bold text-white",children:"62%"}),c.jsx("p",{className:"text-xs text-purple-200 mt-1",children:"Last 30 days"})]})]})]}),c.jsxs("div",{className:"text-xs text-gray-500",children:["Dwolla ID: ",t.dwollaCustomerId]})]}):c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsx(fM,{})})}const yM=({league:t,onClose:e,onGroupCreated:n,isConverted:r})=>{var Mt,yt,B,H,Y;const[s,i]=C.useState([]),[o,a]=C.useState(!0),[u,d]=C.useState(!1),[f,m]=C.useState(!1),[g,y]=C.useState("High-Yield Savings"),[T,I]=C.useState(!1),[k,_]=C.useState(!1),[x,b]=C.useState("Savings"),{currentUser:j}=ze(),L=["Aug","Sep","Oct","Nov","Dec","Jan"],V=[{name:"High-Yield Savings",return:"+4.5%",icon:"💰",isPositive:!0},{name:"Bitcoin",return:"+3.36%",icon:c.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 bg-black text-white rounded-full",children:"₿"}),isPositive:!0},{name:"Apple Stock",return:"+0.18%",icon:"🍎",isPositive:!0}],S=.045,w={first:700,second:200,third:100},E=z=>{if(g==="High-Yield Savings"){const X=Math.round(z*S);return{base:z,increase:X,total:z+X}}return{base:z,increase:0,total:z}},N=()=>{const z=()=>{switch(x){case"Stocks":return c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Coming Soon"})});case"Crypto":return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300 mb-2",children:"Bitcoin (BTC)"}),c.jsx("div",{className:"h-48 bg-purple-200/50 dark:bg-purple-700/30 rounded-lg relative p-4",children:c.jsxs("div",{className:"absolute inset-0 p-4",children:[c.jsxs("div",{className:"absolute left-4 top-0 bottom-8 flex flex-col justify-between text-xs text-gray-600 dark:text-gray-400",children:[c.jsx("span",{children:"$95,000"}),c.jsx("span",{children:"$90,000"}),c.jsx("span",{children:"$85,000"})]}),c.jsx("div",{className:"absolute left-16 right-4 bottom-4 flex justify-between text-xs text-gray-600 dark:text-gray-400",children:L.map(X=>c.jsx("span",{children:X},X))}),c.jsxs("div",{className:"absolute left-16 right-4 top-0 bottom-8 flex flex-col justify-between",children:[c.jsx("div",{className:"border-b border-black/10 dark:border-black/30 w-full"}),c.jsx("div",{className:"border-b border-black/10 dark:border-black/30 w-full"}),c.jsx("div",{className:"border-b border-black/10 dark:border-black/30 w-full"})]}),c.jsx("div",{className:"absolute left-16 right-4 bottom-8 top-0",children:c.jsx("svg",{className:"w-full h-full",preserveAspectRatio:"none",children:c.jsx("path",{d:"M0,50 Q25,20 50,70 T100,40",stroke:"#F7931A",strokeWidth:"2",fill:"none"})})})]})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"Available Assets"}),c.jsxs("ul",{className:"mt-2 space-y-2",children:[c.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:"ETH"}),c.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:"DOGE"}),c.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:"LITECOIN"}),c.jsx("li",{className:"text-gray-700 dark:text-gray-300",children:"USD"})]})]}),c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"Coming Soon"}),c.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:"BUSD"})]})]})]});case"Savings":return c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300 mb-2",children:"High-Yield Savings (4% APY)"}),c.jsx("div",{className:"h-48 bg-purple-200/50 dark:bg-purple-700/30 rounded-lg relative p-4",children:c.jsxs("div",{className:"absolute inset-0 p-4",children:[c.jsxs("div",{className:"absolute left-4 top-0 bottom-8 flex flex-col justify-between text-xs text-gray-600 dark:text-gray-400",children:[c.jsx("span",{children:"$1,040"}),c.jsx("span",{children:"$1,020"}),c.jsx("span",{children:"$1,000"})]}),c.jsx("div",{className:"absolute left-16 right-4 bottom-4 flex justify-between text-xs text-gray-600 dark:text-gray-400",children:L.map(X=>c.jsx("span",{children:X},X))}),c.jsxs("div",{className:"absolute left-16 right-4 top-0 bottom-8 flex flex-col justify-between",children:[c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 w-full"}),c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 w-full"}),c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 w-full"})]}),c.jsx("div",{className:"absolute left-16 right-4 bottom-8 top-0",children:c.jsx("svg",{className:"w-full h-full",preserveAspectRatio:"none",children:c.jsx("path",{d:"M0,96 L480,84",stroke:"#22C55E",strokeWidth:"2",fill:"none",className:"transform translate-y-0"})})}),c.jsx("div",{className:"absolute left-16 bottom-16 text-sm text-gray-600 dark:text-gray-400",children:"Starting Balance: $1,000"})]})})]});default:return null}};return c.jsx("div",{className:`fixed right-0 top-0 h-full w-96 bg-purple-50 dark:bg-purple-900/90 transform transition-transform duration-300 ease-in-out ${k?"translate-x-0":"translate-x-full"} shadow-xl border-l border-purple-200 dark:border-purple-700 z-50`,children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"League Holdings Details"}),c.jsx("button",{onClick:()=>_(!1),className:"text-purple-500 hover:text-purple-700",children:c.jsx(lr,{className:"h-6 w-6"})})]}),c.jsx("div",{className:"flex space-x-2 mb-6",children:["Stocks","Crypto","Savings"].map(X=>c.jsx("button",{onClick:()=>b(X),className:`px-4 py-2 rounded-lg transition-colors ${x===X?"bg-purple-600 text-white":"bg-purple-100 dark:bg-purple-800/30 text-purple-600 dark:text-purple-300 hover:bg-purple-200"}`,children:X},X))}),z()]})})};C.useEffect(()=>{(async()=>{try{const X=await Mf.getLeagueUsers(t.league_id);i(X)}catch(X){console.error("Error fetching league users:",X)}finally{a(!1)}})()},[t.league_id]);const R=async()=>{if(j)try{d(!0);const z=s.find(pe=>pe.is_owner),X={name:t.name,emoji:"🏈",coOwners:[j.uid,z.user_id],members:s.map(pe=>({id:pe.user_id,username:pe.username,displayName:pe.display_name,avatar:pe.avatar})),sleeperLeagueId:t.league_id,platform:"sleeper"};await Xt.createGroup(X,j.uid),n(t.league_id)}catch(z){console.error("Error creating group:",z)}finally{d(!1)}},P=E(w.first),A=E(w.second),Ue=E(w.third),At=z=>c.jsxs("span",{children:["$",z.total,z.increase>0&&c.jsxs("span",{className:"text-green-500 text-lg ml-1",children:["(+$",z.increase,")"]})]});return c.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:[c.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/90 p-8 rounded-2xl max-w-2xl w-full mx-4 relative border border-purple-200 dark:border-purple-700 max-h-[80vh] overflow-y-auto",children:[c.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-purple-500 dark:text-purple-300 hover:text-purple-700 dark:hover:text-white",children:c.jsx(lr,{className:"h-6 w-6"})}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[t.avatar&&c.jsx("img",{src:`https://sleepercdn.com/avatars/${t.avatar}`,alt:t.name,className:"w-16 h-16 rounded-full"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.name}),c.jsxs("p",{className:"text-purple-600 dark:text-purple-300",children:["Season ",t.season]})]})]}),!r&&c.jsxs("button",{onClick:R,disabled:u,className:`flex items-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 
                text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:[c.jsx(ta,{className:"h-5 w-5"}),c.jsx("span",{children:u?"Creating...":"Create Bankroll Group"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"Total Teams"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.total_rosters})]}),c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"League Type"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white capitalize",children:t.status||"Active"})]}),c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg cursor-pointer hover:bg-purple-200/50 dark:hover:bg-purple-700/30 transition-colors col-span-1",style:{gridColumn:"span 1.5"},onClick:()=>m(!f),children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"Prize Structure"}),c.jsx(Yv,{className:"h-4 w-4 text-purple-400"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(GT,{className:"h-5 w-5 text-yellow-400"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["1st Prize: ",At(P)]})]}),c.jsxs("div",{className:"mt-2 flex items-center text-sm text-purple-600 dark:text-purple-300 hover:text-purple-800 dark:hover:text-purple-100",children:[c.jsx("span",{children:"See More"}),c.jsx(Ff,{className:"h-4 w-4 ml-1"})]}),f&&c.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-700 dark:text-gray-300",children:[c.jsxs("p",{children:["2nd Prize: ",At(A)]}),c.jsxs("p",{children:["3rd Prize: ",At(Ue)]})]})]}),c.jsxs("div",{className:"bg-purple-100/50 dark:bg-purple-800/30 p-4 rounded-lg relative",style:{gridColumn:"span 0.5"},children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h3",{className:"text-sm font-medium text-purple-600 dark:text-purple-300",children:"League Holdings Type"}),c.jsx(Yv,{className:"h-4 w-4 text-purple-400"})]}),c.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>_(!0),children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[typeof((Mt=V.find(z=>z.name===g))==null?void 0:Mt.icon)=="string"?c.jsx("span",{children:(yt=V.find(z=>z.name===g))==null?void 0:yt.icon}):(B=V.find(z=>z.name===g))==null?void 0:B.icon,c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:g}),c.jsx("p",{className:`text-sm ${(H=V.find(z=>z.name===g))!=null&&H.isPositive?"text-green-500":"text-red-500"}`,children:(Y=V.find(z=>z.name===g))==null?void 0:Y.return})]})]}),c.jsx(Ff,{className:"h-5 w-5 text-black dark:text-white"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:"League Members"}),o?c.jsx("div",{className:"text-center py-4 text-purple-600 dark:text-purple-300",children:"Loading members..."}):c.jsx("div",{className:"space-y-3",children:s.map(z=>c.jsxs("div",{className:"flex items-center space-x-3 bg-purple-100/50 dark:bg-purple-800/20 p-3 rounded-lg",children:[z.avatar&&c.jsx("img",{src:`https://sleepercdn.com/avatars/${z.avatar}`,alt:z.display_name,className:"w-10 h-10 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:z.display_name}),z.is_owner&&c.jsx(pL,{className:"h-4 w-4 text-yellow-400",title:"Commissioner"})]}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsxs("p",{className:"text-purple-500 font-medium text-sm",children:["#",z.username]}),c.jsx(BT,{className:"h-4 w-4 text-green-500",title:"Verified User"})]})]}),c.jsx(Vf,{className:"h-5 w-5 text-green-500",title:"Payment Received"})]},z.user_id))})]})]}),c.jsx(N,{})]})},vM=()=>{const{leagues:t}=VT(),[e,n]=C.useState(null),[r,s]=C.useState(new Set);if(!t||t.length===0)return c.jsx("div",{className:"text-center text-gray-400 py-4",children:"No leagues found"});const i=o=>{s(a=>new Set([...a,o]))};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"space-y-4",children:t.map(o=>c.jsx("div",{className:`bg-purple-100 dark:bg-purple-900/30 rounded-lg p-4 border border-purple-300 
              dark:border-purple-500/20 hover:border-purple-400 dark:hover:border-purple-500/40 
              transition-all cursor-pointer hover:bg-purple-200 dark:hover:bg-purple-900/40`,onClick:()=>n(o),children:c.jsxs("div",{className:"flex items-center space-x-4",children:[o.avatar&&c.jsx("img",{src:`https://sleepercdn.com/avatars/${o.avatar}`,alt:o.name,className:"w-12 h-12 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o.name}),r.has(o.league_id)&&c.jsx(BT,{className:"h-5 w-5 text-green-500"})]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.total_rosters," participants • Season ",o.season]})]})]})},o.league_id))}),e&&c.jsx(yM,{league:e,onClose:()=>n(null),onGroupCreated:i,isConverted:r.has(e.league_id)})]})},ew=()=>{const{leagues:t,fetchLeagues:e,isLoading:n,error:r}=Ym(),{user:s}=ze();return C.useEffect(()=>{s&&e()},[s]),n?c.jsx("div",{className:"flex justify-center items-center py-8",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):r?c.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[c.jsx("strong",{className:"font-bold",children:"Error!"}),c.jsxs("span",{className:"block sm:inline",children:[" ",r]})]}):!t||t.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-500",children:"No ESPN leagues added yet."})}):c.jsx("div",{className:"space-y-4",children:t.map(i=>c.jsx("div",{className:"bg-purple-900/30 rounded-lg p-4 hover:bg-purple-900/40 transition-colors",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium text-white",children:[i.isCommissioner&&"👑 ","League Details"]}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsxs("p",{className:"text-gray-300",children:["League Size: ",i.leagueSize," members"]}),i.hasBuyIn&&c.jsxs("p",{className:"text-gray-300",children:["Buy-in: $",i.buyInAmount," per person"]}),i.hasWeeklyPayouts&&c.jsxs("p",{className:"text-gray-300",children:["Weekly Payouts: ",i.weeklyPayoutDetails]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-400",children:"Payout Structure"}),c.jsxs("div",{className:"mt-1 space-y-1",children:[c.jsxs("p",{className:"text-gray-300",children:["1st Place: $",i.payouts.first]}),c.jsxs("p",{className:"text-gray-300",children:["2nd Place: $",i.payouts.second]}),c.jsxs("p",{className:"text-gray-300",children:["3rd Place: $",i.payouts.third]}),i.payouts.fourth>0&&c.jsxs("p",{className:"text-gray-300",children:["4th Place: $",i.payouts.fourth]})]})]}),i.wantToInvest&&c.jsx("div",{className:"mt-4",children:c.jsx("p",{className:"text-green-400",children:"✓ League dues will be invested throughout the season"})}),i.convertToSleeper&&c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-green-400",children:"✓ Converting to Sleeper (+$50 to league pot)"})}),i.bountyToLeaguePot&&c.jsx("div",{className:"mt-2",children:c.jsx("p",{className:"text-green-400",children:"✓ $10 referral bounty added to league pot"})})]})})},i.id))})},wM=({onClose:t})=>{const{createLeague:e,isLoading:n,error:r}=Ym(),{user:s}=ze(),[i,o]=C.useState(1),[a,u]=C.useState({isCommissioner:null,leagueSize:"",hasBuyIn:null,buyInAmount:"",payouts:{first:"",second:"",third:"",fourth:""},hasWeeklyPayouts:null,weeklyPayoutDetails:"",wantToInvest:null,invitedUsers:Array(16).fill(""),convertToSleeper:null,bountyToLeaguePot:null});C.useEffect(()=>(document.body.classList.add("modal-open"),console.log("Modal mounted, body class added"),()=>{document.body.classList.remove("modal-open"),console.log("Modal unmounted, body class removed")}),[]);const d=(b,j)=>{console.log("Input change:",b,j),u(L=>({...L,[b]:j}))},f=(b,j)=>{console.log("Payout change:",b,j),u(L=>({...L,payouts:{...L.payouts,[b]:j}}))},m=()=>{console.log("Moving to next step"),o(b=>b+1)},g=()=>{console.log("Moving to previous step"),o(b=>b-1)},y=async()=>{console.log("Submitting form data:",a);try{const b=a.invitedUsers.slice(0,a.leagueSize).filter(L=>L.trim()!==""),j={...a,invitedUsers:b,status:"pending",createdAt:new Date().toISOString(),userId:s.uid};await e(j),t()}catch(b){console.error("Error creating league:",b)}},T=b=>{(b.target===b.currentTarget||b.currentTarget.classList.contains("close-button"))&&(console.log("Closing modal"),t())},I=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"League Details"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Are you the commissioner?"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>d("isCommissioner",!0),className:`px-4 py-2 rounded-lg ${a.isCommissioner===!0?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Yes"}),c.jsx("button",{type:"button",onClick:()=>d("isCommissioner",!1),className:`px-4 py-2 rounded-lg ${a.isCommissioner===!1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"No"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"How many people are in your league?"}),c.jsx("input",{type:"number",min:"4",max:"16",value:a.leagueSize,onChange:b=>d("leagueSize",b.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter number (4-16)"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Is there a buy-in to the league?"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>d("hasBuyIn",!0),className:`px-4 py-2 rounded-lg ${a.hasBuyIn===!0?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Yes"}),c.jsx("button",{type:"button",onClick:()=>d("hasBuyIn",!1),className:`px-4 py-2 rounded-lg ${a.hasBuyIn===!1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"No"})]})]}),a.hasBuyIn&&c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Buy-in amount per person"}),c.jsx("input",{type:"number",value:a.buyInAmount,onChange:b=>d("buyInAmount",b.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount"})]})]})]}),k=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Payout Structure"}),c.jsxs("div",{className:"space-y-4",children:[["first","second","third","fourth"].map(b=>c.jsxs("div",{children:[c.jsxs("label",{className:"block mb-2",children:[b.charAt(0).toUpperCase()+b.slice(1)," Place Payout"]}),c.jsx("input",{type:"number",value:a.payouts[b],onChange:j=>f(b,j.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter amount"})]},b)),c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Do you do weekly payouts?"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>d("hasWeeklyPayouts",!0),className:`px-4 py-2 rounded-lg ${a.hasWeeklyPayouts===!0?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Yes"}),c.jsx("button",{type:"button",onClick:()=>d("hasWeeklyPayouts",!1),className:`px-4 py-2 rounded-lg ${a.hasWeeklyPayouts===!1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"No"})]})]}),a.hasWeeklyPayouts&&c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:"Weekly Payout Details"}),c.jsx("textarea",{value:a.weeklyPayoutDetails,onChange:b=>d("weeklyPayoutDetails",b.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe your weekly payout structure...",rows:3})]}),c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Do you want to invest your league dues throughout the season?"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>d("wantToInvest",!0),className:`px-4 py-2 rounded-lg ${a.wantToInvest===!0?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Yes"}),c.jsx("button",{type:"button",onClick:()=>d("wantToInvest",!1),className:`px-4 py-2 rounded-lg ${a.wantToInvest===!1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"No"})]})]})]})]}),_=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Invite League Members"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("p",{className:"text-gray-600",children:["We have setup placeholders for ",a.leagueSize," people"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.invitedUsers.slice(0,a.leagueSize).map((b,j)=>c.jsxs("div",{children:[c.jsxs("label",{className:"block mb-2",children:["Member ",j+1]}),c.jsx("input",{type:"email",value:b,onChange:L=>{const V=[...a.invitedUsers];V[j]=L.target.value,d("invitedUsers",V)},className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address"})]},j))})]})]}),x=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Additional Options"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Would you like to convert your league to Sleeper fantasy for a free $50 to the league pot?"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>d("convertToSleeper",!0),className:`px-4 py-2 rounded-lg ${a.convertToSleeper===!0?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Yes"}),c.jsx("button",{type:"button",onClick:()=>d("convertToSleeper",!1),className:`px-4 py-2 rounded-lg ${a.convertToSleeper===!1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"No"}),c.jsx("button",{type:"button",onClick:()=>d("convertToSleeper","notSure"),className:`px-4 py-2 rounded-lg ${a.convertToSleeper==="notSure"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Not Sure Yet"})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"mb-2",children:"Would you like the $10 referral bounty to go towards the league pot?"}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx("button",{type:"button",onClick:()=>d("bountyToLeaguePot",!0),className:`px-4 py-2 rounded-lg ${a.bountyToLeaguePot===!0?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Yes"}),c.jsx("button",{type:"button",onClick:()=>d("bountyToLeaguePot",!1),className:`px-4 py-2 rounded-lg ${a.bountyToLeaguePot===!1?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"No"}),c.jsx("button",{type:"button",onClick:()=>d("bountyToLeaguePot","notSure"),className:`px-4 py-2 rounded-lg ${a.bountyToLeaguePot==="notSure"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"}`,children:"Not Sure Yet"})]})]})]})]});return c.jsxs("div",{className:"modal-container",onClick:T,children:[c.jsx("div",{className:"modal-backdrop modal-backdrop-enter"}),c.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:c.jsxs("div",{className:"modal-content modal-enter modal-scrollable",onClick:b=>b.stopPropagation(),children:[c.jsx("button",{type:"button",onClick:T,className:"close-button absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(lr,{className:"h-6 w-6 text-gray-600"})}),c.jsxs("div",{className:"p-8",children:[c.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(b=>c.jsx("div",{className:`w-1/4 h-2 rounded-full mx-1 ${b<=i?"bg-blue-500":"bg-gray-200"}`},b))}),r&&c.jsx("div",{className:"mb-4 p-4 bg-red-100 text-red-600 rounded-lg",children:r}),c.jsxs("form",{onSubmit:b=>b.preventDefault(),children:[i===1&&I(),i===2&&k(),i===3&&_(),i===4&&x(),c.jsxs("div",{className:"flex justify-between mt-8",children:[i>1&&c.jsx("button",{type:"button",onClick:g,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Back"}),i<4?c.jsx("button",{type:"button",onClick:m,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors ml-auto",children:"Next"}):c.jsx("button",{type:"button",onClick:y,disabled:n,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors ml-auto disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Submitting...":"Submit"})]})]})]})]})})]})},_M=()=>{const[t,e]=C.useState("all"),[n,r]=C.useState(!1),[s,i]=C.useState(!1),[o,a]=C.useState(""),{user:u,fetchUser:d,isLoading:f,errorMessage:m,disconnectSleeper:g}=VT(),{leagues:y}=Ym(),T=[{id:"all",label:"All Leagues"},{id:"sleeper",label:"Sleeper"},{id:"espn",label:"ESPN"},{id:"yahoo",label:"Yahoo"}],I=C.useCallback(()=>{console.log("Opening ESPN Modal"),i(!0)},[]),k=C.useCallback(()=>{console.log("Closing ESPN Modal"),i(!1)},[]),_=C.useCallback(()=>{console.log("Opening Sleeper Modal"),r(!0)},[]),x=C.useCallback(()=>{console.log("Closing Sleeper Modal"),r(!1)},[]),b=async E=>{E.preventDefault(),await d(o),m||(x(),a(""))},j=()=>{window.confirm("Are you sure you want to disconnect your Sleeper account?")&&g()},L=()=>c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between bg-purple-900/30 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[u.avatar&&c.jsx("img",{src:`https://sleepercdn.com/avatars/${u.avatar}`,alt:u.username,className:"w-10 h-10 rounded-full"}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-white font-medium",children:["Connected as: ",u.username]}),c.jsxs("p",{className:"text-sm text-gray-400",children:["User ID: ",u.user_id]})]})]}),c.jsxs("button",{onClick:j,className:`flex items-center space-x-2 px-3 py-2 bg-red-500/20 text-red-400 
            rounded-lg hover:bg-red-500/30 transition-colors`,children:[c.jsx(qT,{className:"h-4 w-4"}),c.jsx("span",{children:"Disconnect"})]})]}),c.jsx(vM,{})]}),V=()=>y&&y.length>0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"text-lg font-medium text-white",children:"ESPN Leagues"}),c.jsxs("button",{onClick:I,className:`flex items-center space-x-2 px-4 py-2 bg-purple-900/50 text-white 
                rounded-lg hover:bg-purple-900/70 transition-colors`,children:[c.jsx(ta,{className:"h-4 w-4"}),c.jsx("span",{children:"Add League"})]})]}),c.jsx(ew,{})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-8",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"p-4 rounded-full bg-purple-900/30 inline-block",children:c.jsx(ch,{className:"h-8 w-8 text-purple-400"})}),c.jsx("h3",{className:"text-xl font-medium text-white",children:"Integration Coming Soon"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Support for ESPN integration is coming soon"})]}),c.jsxs("div",{className:"w-full max-w-md text-center space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-700"})}),c.jsx("div",{className:"relative flex justify-center",children:c.jsx("span",{className:"px-4 text-sm text-gray-400 bg-gray-900",children:"or"})})]}),c.jsxs("button",{onClick:I,className:`group px-6 py-3 bg-purple-900/50 text-white rounded-lg hover:bg-purple-900/70 
              transition-all duration-200 flex items-center justify-center space-x-2 w-full`,children:[c.jsx(ta,{className:"h-5 w-5"}),c.jsx("span",{children:"Add Your League Manually"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Create your league and add leaguemates manually"})]})]}),S=E=>E==="ESPN"?V():c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-8",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"p-4 rounded-full bg-purple-900/30 inline-block",children:c.jsx(ch,{className:"h-8 w-8 text-purple-400"})}),c.jsx("h3",{className:"text-xl font-medium text-white",children:"Integration Coming Soon"}),c.jsxs("p",{className:"text-sm text-gray-400",children:["Support for ",E," integration is coming soon"]})]}),c.jsxs("div",{className:"w-full max-w-md text-center space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-700"})}),c.jsx("div",{className:"relative flex justify-center",children:c.jsx("span",{className:"px-4 text-sm text-gray-400 bg-gray-900",children:"or"})})]}),c.jsxs("button",{className:`group px-6 py-3 bg-purple-900/50 text-white rounded-lg hover:bg-purple-900/70 
              transition-all duration-200 flex items-center justify-center space-x-2 w-full 
              cursor-not-allowed opacity-50`,disabled:!0,children:[c.jsx(ta,{className:"h-5 w-5"}),c.jsx("span",{children:"Add Your League Manually"})]}),c.jsx("p",{className:"text-sm text-gray-400",children:"Manual league creation coming soon"})]})]}),w=E=>E==="all"?c.jsxs("div",{className:"space-y-6",children:[u&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Connected Platforms"}),L()]}),y&&y.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"ESPN Leagues"}),c.jsx(ew,{})]}),!u&&!(y!=null&&y.length)&&c.jsx("div",{className:"text-center text-gray-400 py-12",children:"Connect your fantasy platforms to view all your leagues in one place"})]}):E==="sleeper"?u?L():c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[c.jsx("div",{className:"p-4 rounded-full bg-purple-900/30",children:c.jsx(ch,{className:"h-8 w-8 text-purple-400"})}),c.jsx("button",{onClick:_,className:`px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 
              transition-all duration-200 transform hover:scale-105 shadow-lg 
              hover:shadow-green-500/25`,children:"Connect Sleeper Account"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Import all your Sleeper fantasy leagues"})]}):S(E.charAt(0).toUpperCase()+E.slice(1));return console.log("Current modal states:",{showESPNModal:s,showSleeperModal:n}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-900/50 border border-purple-500/20 rounded-lg overflow-hidden",children:[c.jsx("div",{className:"p-6",children:c.jsx("h2",{className:"text-xl font-medium text-purple-100",children:"My Leagues"})}),c.jsx("div",{className:"border-b border-purple-900/50",children:c.jsx("div",{className:"flex space-x-1 px-6",children:T.map(E=>c.jsx("button",{onClick:()=>e(E.id),className:`
                  px-4 py-2 rounded-t-lg text-sm font-medium transition-colors duration-200
                  ${t===E.id?"bg-purple-900/50 text-white border-b-2 border-green-500":"text-gray-400 hover:text-white hover:bg-purple-900/30"}
                `,children:E.label},E.id))})}),c.jsx("div",{className:"p-6",children:w(t)})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-purple-900/90 p-8 rounded-2xl max-w-md w-full mx-4 relative border border-purple-700",children:[c.jsx("button",{onClick:x,className:"absolute top-4 right-4 text-purple-300 hover:text-white",children:c.jsx(lr,{className:"h-6 w-6"})}),c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Connect Sleeper Account"}),c.jsx("form",{onSubmit:b,children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-2",children:"Sleeper Username"}),c.jsx("input",{type:"text",id:"username",value:o,onChange:E=>a(E.target.value),className:`w-full px-4 py-2 bg-purple-800/50 border border-purple-600 rounded-lg 
                      focus:outline-none focus:ring-2 focus:ring-purple-500 text-white 
                      placeholder-gray-400`,placeholder:"Enter your Sleeper username"})]}),m&&c.jsx("p",{className:"text-red-400 text-sm",children:m}),c.jsx("button",{type:"submit",disabled:f,className:`w-full px-6 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 
                    transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed`,children:f?"Connecting...":"Connect Account"})]})})]})}),s&&c.jsx(wM,{onClose:k})]})},xM=()=>{const[t,e]=C.useState("0"),[n,r]=C.useState(""),[s,i]=C.useState(""),o=a=>{const u=a.replace(/[^0-9]/g,"");e(u)};return c.jsxs("div",{className:"relative",children:[c.jsxs("div",{className:"max-w-md mx-auto p-6 space-y-8",children:[c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Send Money"}),c.jsxs("div",{className:"flex items-center justify-center text-6xl font-bold text-white",children:[c.jsx(qu,{className:"h-12 w-12"}),c.jsx("input",{type:"text",value:t,onChange:a=>o(a.target.value),className:"w-40 bg-transparent text-center focus:outline-none",placeholder:"0"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value),placeholder:"#username",className:"w-full p-4 rounded-lg bg-purple-900/30 border border-purple-500/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"})}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",value:s,onChange:a=>i(a.target.value),placeholder:"What's this for?",className:"w-full p-4 rounded-lg bg-purple-900/30 border border-purple-500/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx("button",{className:"w-full py-3 rounded-full bg-white text-purple-900 font-medium hover:bg-gray-100 transition-colors",children:"Request"}),c.jsx("button",{className:"w-full py-3 rounded-full bg-purple-500 text-white font-medium hover:bg-purple-600 transition-colors",children:"Pay"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium text-white",children:"Payment Source"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Ae,{className:"bg-white hover:shadow-lg transition-all duration-200 cursor-pointer",children:c.jsx(Le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-blue-500",children:c.jsx(Wu,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Friends"}),c.jsx("div",{className:"text-sm text-gray-500",children:"0 friends"})]})]})})}),c.jsx(Ae,{className:"bg-white hover:shadow-lg transition-all duration-200 cursor-pointer",children:c.jsx(Le,{className:"p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-purple-500",children:c.jsx(EL,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Groups"}),c.jsx("div",{className:"text-sm text-gray-500",children:"0 groups"})]})]})})})]})]})]}),c.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center",children:c.jsxs("div",{className:"max-w-md mx-auto p-8 text-center",children:[c.jsx("div",{className:"mb-6 flex justify-center",children:c.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center",children:c.jsx(zT,{className:"h-8 w-8 text-purple-500"})})}),c.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Coming Soon"}),c.jsx("p",{className:"text-gray-300",children:"The Send Money feature is currently under development. Stay tuned for updates!"})]})})]})};class EM{logEvent(e,n={}){try{hi&&wT(hi,e,{...n,timestamp:new Date().toISOString()})}catch{}}logClick(e,n,r,s=null){this.logEvent("user_click",{element_id:e,element_type:n,page_name:r,click_timestamp:new Date().toISOString(),user_id:(s==null?void 0:s.uid)||"anonymous",user_email:(s==null?void 0:s.email)||"anonymous",user_display_name:(s==null?void 0:s.displayName)||"anonymous"})}startSession(e){this.logEvent("session_start",{user_id:e,session_start_time:new Date().toISOString()}),hi&&OO(hi,{last_session_start:new Date().toISOString(),user_id:e})}endSession(e,n){this.logEvent("session_end",{user_id:e,session_end_time:new Date().toISOString(),session_duration:n})}logPlatformView(e,n,r){this.logEvent("platform_view",{platform_id:e,platform_name:n,category:r})}logPlatformVisit(e,n){this.logEvent("platform_visit",{platform_id:e,platform_name:n})}logPlatformConnect(e,n){this.logEvent("platform_connect",{platform_id:e,platform_name:n})}logSleeperConnect(e){this.logEvent("sleeper_connect",{username:e})}logSleeperDisconnect(){this.logEvent("sleeper_disconnect")}logSleeperLeagueView(e,n){this.logEvent("sleeper_league_view",{league_id:e,league_name:n})}logPageView(e,n){this.logEvent("page_view",{page_name:e,page_title:n,url:window.location.pathname})}logNotificationPermissionRequested(){this.logEvent("notification_permission_requested")}logNotificationPermissionGranted(){this.logEvent("notification_permission_granted")}logNotificationPermissionDenied(){this.logEvent("notification_permission_denied")}logNotificationSettingsUpdated(e){this.logEvent("notification_settings_updated",{email_enabled:e.emailEnabled,push_enabled:e.pushEnabled,categories:e.categories})}}const $f=new EM,bM=({platform:t,onClose:e})=>{const[n,r]=C.useState(!1),s=()=>{if($f.logPlatformVisit(t.id,t.name),t.url){const o=window.open();o&&(o.opener=null,o.location=t.url)}},i=()=>{$f.logPlatformConnect(t.id,t.name),r(!0)};return c.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[c.jsxs("div",{className:"bg-gradient-to-b from-purple-100 to-pink-100 rounded-3xl max-w-md w-full mx-auto relative overflow-hidden",children:[c.jsx("button",{onClick:e,className:"absolute top-4 left-4 z-10 bg-white/80 p-2 rounded-full hover:bg-white transition-colors",children:c.jsx(lr,{className:"h-6 w-6 text-gray-600"})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-8",children:[c.jsx("div",{className:"w-24 h-24 mb-4",children:c.jsx("img",{src:t.logo,alt:t.name,className:"w-full h-full object-contain rounded-lg"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name})]}),c.jsx("div",{className:"text-center",children:c.jsxs("p",{className:"text-gray-600",children:["Legal States: ",t.legalStates||"Information not available"]})}),c.jsxs("div",{className:"bg-white/80 rounded-xl p-4 space-y-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Promotion Details"}),c.jsx("p",{className:"text-gray-700",children:t.promoDetails||"No current promotions"}),t.restrictions&&c.jsxs("div",{className:"mt-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:"Restrictions"}),c.jsx("p",{className:"text-gray-600 text-sm",children:t.restrictions})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:s,className:`w-full py-3 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 
                transition-colors duration-200 flex items-center justify-center space-x-2 group`,children:[c.jsxs("span",{children:["Visit ",t.name]}),c.jsx(mL,{className:"h-4 w-4 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform"})]}),c.jsxs("button",{onClick:i,className:`w-full py-3 bg-yellow-400 text-gray-900 rounded-xl font-medium 
                hover:bg-yellow-500 transition-colors duration-200`,children:["Connect ",t.name]})]}),c.jsx("div",{className:"text-center text-sm text-gray-600 pt-4",children:c.jsx("p",{children:"Responsible Gaming: Please gamble responsibly. If you or someone you know has a gambling problem and wants help, call 1-800-522-4700"})})]})]}),n&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[60]",children:c.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-lg mx-4 relative border border-gray-700 shadow-2xl",children:[c.jsx("button",{onClick:()=>r(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition-colors",children:c.jsx(lr,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-center space-y-6",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-20 h-20 bg-yellow-400/10 rounded-full flex items-center justify-center",children:c.jsx(bL,{className:"h-10 w-10 text-yellow-400"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"Coming Soon!"}),c.jsxs("p",{className:"text-gray-400 text-lg",children:["Get ready for seamless transactions with ",t.name]})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsx("p",{className:"text-gray-300 text-lg",children:"We're building something special just for you:"}),c.jsxs("ul",{className:"text-gray-300 text-left space-y-3 max-w-md mx-auto",children:[c.jsxs("li",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),c.jsxs("span",{children:["Connect your ",t.name," account directly"]})]}),c.jsxs("li",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),c.jsx("span",{children:"Instant deposits with no hassle"})]}),c.jsxs("li",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),c.jsx("span",{children:"Lightning-fast withdrawals"})]}),c.jsxs("li",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),c.jsx("span",{children:"Track all your gaming activity in one place"})]})]})]}),c.jsx("button",{onClick:()=>r(!1),className:`px-8 py-3 bg-gradient-to-r from-yellow-400 to-yellow-500 text-gray-900 rounded-xl 
                  font-semibold hover:from-yellow-500 hover:to-yellow-600 transition-all duration-200 
                  transform hover:scale-105`,children:"Can't Wait!"})]})]})})]})};class TM{static async getImageUrl(e){try{return await qn.getStaticAssetUrl("platform-logos",e)}catch(n){return console.error(`Error getting platform image URL for ${e}:`,n),null}}static async uploadPlatformImage(e,n){try{return await qn.uploadStaticAsset(e,"platform-logos",n)}catch(r){throw console.error(`Error uploading platform image ${n}:`,r),r}}}const IM=()=>{const[t,e]=C.useState("CASINO"),[n,r]=C.useState(null),[s,i]=C.useState({}),[o,a]=C.useState(!0),u=[{id:"ALL",label:"ALL"},{id:"FANTASY",label:"FANTASY"},{id:"CASINO",label:"CASINO"},{id:"SPORTS BETTING",label:"SPORTS BETTING"},{id:"POKER",label:"POKER"}],d=[{id:"prizepicks",name:"PrizePicks (18+)",category:"FANTASY",imageFile:"prizepicks.png",legalStates:"AK, CA, FL, GA, IL, KS, KY, MN, NE, NM, NC, OK, OR, RI, SC, SD, TX, UT, VT, WI, WY",promoDetails:"Get 100% deposit match up to $100",restrictions:"First-time users only. Must be 18+",url:"https://app.prizepicks.com/sign-up?invite_code=WINDAILY"},{id:"draftkings",name:"DraftKings Fantasy (18+)",category:"FANTASY",imageFile:"draftkingsFantasy.png",legalStates:"Most US states",promoDetails:"New user bonus available",restrictions:"New users only. Must be 18+",url:"https://dkdfs.sng.link/Avkw3/ejal?_dl=draftkings%3A%2F%2Fgateway%3Fs%3D199744492&pcid=357597&psn=2003&pcn=xx&pscn=xx&pcrn=WDS&pscid=DFS&pcrid=xx&wpcid=357597&wpsrc=2003&wpcn=xx&wpscn=xx&wpcrn=WDS&wpscid=DFS&wpcrid=xx&_forward_params=1"},{id:"fanduel-fantasy",name:"FanDuel Fantasy (18+)",category:"FANTASY",imageFile:"fanduel.png",legalStates:"Most US states",promoDetails:"Special signup bonus",restrictions:"New users only. Must be 18+",url:"https://wlfanduelus.adsrv.eacdn.com/C.ashx?btag=a_15755b_56c_&affid=11359&siteid=15755&adid=56&c="},{id:"underdog",name:"Underdog Fantasy (18+)",category:"FANTASY",imageFile:"underdog.jpeg",legalStates:"Most US states",promoDetails:"Special welcome bonus",restrictions:"New users only. Must be 18+",url:"https://play.underdogfantasy.com/p-win-daily-sports"},{id:"myprize",name:"MyPrize Casino (18+)",category:"CASINO",imageFile:"myPrizeLogo.jpeg",legalStates:"Available in most US states",promoDetails:"Get 5000 free coins on signup",restrictions:"Must be 18+",url:"https://myprize.us/invite/bankroll"},{id:"betmgm",name:"BetMGM Casino (21+)",category:"CASINO",imageFile:"betmgm.png",legalStates:"MI, NJ, PA, WV",promoDetails:"100% deposit match up to $1000 + $25 free play",restrictions:"New customers only. Must be 21+",url:"https://mediaserver.betmgmpartners.com/renderBanner.do?zoneId=1728250"},{id:"caesarspalace",name:"Caesars Casino (21+)",category:"CASINO",imageFile:"caesarsCasino.png",legalStates:"MI, NJ, PA, WV",promoDetails:"100% deposit match up to $1000 + $10 free",restrictions:"New users only. Must be 21+",url:"https://wlwilliamhillus.adsrv.eacdn.com/C.ashx?btag=a_13325b_2658c_&affid=450&siteid=13325&adid=2658&c="},{id:"pokerstars",name:"PokerStars Casino (21+)",category:"CASINO",imageFile:"pokerstars.png",legalStates:"MI, NJ, PA",promoDetails:"$50 free play with first deposit",restrictions:"New players only. Must be 21+",url:"https://star-casino.pxf.io/c/3732491/1574555/14251"},{id:"wsop-casino",name:"WSOP Casino (21+)",category:"CASINO",imageFile:"WSOP.png",legalStates:"MI, NJ, PA",promoDetails:"Special welcome bonus for new players",restrictions:"New players only. Must be 21+",url:"https://www.wsop.com/casino/"},{id:"wsop-poker",name:"WSOP Poker (21+)",category:"POKER",imageFile:"WSOP.png",legalStates:"MI, NJ, PA",promoDetails:"Special poker welcome package",restrictions:"New players only. Must be 21+",url:"https://www.wsop.com/poker/"}];C.useEffect(()=>{(async()=>{a(!0);const y={};for(const T of d)try{const I=await TM.getImageUrl(T.imageFile);I&&(y[T.id]=I)}catch(I){console.error(`Error loading image for ${T.id}:`,I)}i(y),a(!1)})()},[]);const f=g=>{$f.logPlatformView(g.id,g.name,g.category),r(g)},m=t==="ALL"?d:d.filter(g=>g.category===t);return c.jsxs("div",{className:"min-h-screen p-6 bg-gray-900",children:[c.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:u.map(g=>c.jsx("button",{onClick:()=>e(g.id),className:`
              px-6 py-2 rounded-full text-sm font-medium transition-all duration-200
              ${t===g.id?"bg-yellow-400 text-gray-900":"bg-purple-900/30 text-white hover:bg-purple-900/50"}
            `,children:g.label},g.id))}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map(g=>c.jsx(Ae,{className:`hover:shadow-lg transition-all duration-200 cursor-pointer border-gray-700
              ${g.id==="myprize"?"bg-gradient-to-br from-yellow-300 via-yellow-400 to-yellow-500":"bg-gray-800"}`,onClick:()=>f(g),children:c.jsxs(Le,{className:"p-6 flex flex-col items-center justify-center min-h-[200px]",children:[c.jsx("div",{className:`w-24 h-24 mb-4 relative ${g.id==="myprize"?"bg-yellow-300/20 rounded-xl p-2":""}`,children:o?c.jsx("div",{className:"w-full h-full bg-gray-700 rounded-lg animate-pulse"}):s[g.id]?c.jsx("img",{src:s[g.id],alt:g.name,className:"w-full h-full object-contain rounded-lg",onError:y=>{const T=y.currentTarget.parentNode;if(T){const I=document.createElement("div");I.className="w-24 h-24 bg-gray-700 rounded-full flex items-center justify-center",I.innerHTML=`<span class="text-xl font-bold text-gray-400">${g.name.charAt(0)}</span>`,T.replaceChild(I,y.currentTarget)}}}):c.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xl font-bold text-gray-400",children:g.name.charAt(0)})})}),c.jsx("h3",{className:`text-center font-medium ${g.id==="myprize"?"text-gray-900":"text-white"}`,children:g.name})]})},g.id))}),n&&c.jsx(bM,{platform:{...n,logo:s[n.id]},onClose:()=>r(null)}),c.jsx("div",{className:"mt-8 text-center text-sm text-gray-300",children:"Responsible Gaming: Please gamble responsibly. If you or someone you know has a gambling problem and wants help, call 1-800-522-4700"})]})},SM=()=>{const{currentUser:t,logout:e,updateProfileImage:n}=ze(),[r,s]=C.useState(!1),[i,o]=C.useState(!1),[a,u]=C.useState(!1),[d,f]=C.useState([]),[m,g]=C.useState(!0),[y,T]=C.useState(!1),[I,k]=C.useState(null),[_,x]=C.useState(Date.now()),b=C.useRef(null),j=dr();C.useEffect(()=>{if(t&&!t.profileImage){let E;do E=Math.floor(Math.random()*30)+1;while(E===26);let N;E===1||E===30?N=".jpeg":E===4||E===16?N=".jpg":N=".png";const R=`/newBankrollWebsite/public/images/profile_${E}${N}`;n(t.id,R)}},[t]),C.useEffect(()=>{(async()=>{if(t)try{console.log("Fetching groups for user:",t.id);const N=await Xt.getUserGroups(t.id);console.log("Fetched groups:",N),f(N)}catch(N){console.error("Error fetching groups:",N)}finally{g(!1)}})()},[t]);const L=()=>{j("/create-group")},V=E=>{console.log("Navigating to group:",E),j(`/group/${E}`)},S=async E=>{const N=E.target.files[0];if(N){k(null),T(!0);try{if(!N.type.startsWith("image/"))throw new Error("Please upload an image file");if(N.size>5*1024*1024)throw new Error("Please upload an image smaller than 5MB");if(!(t!=null&&t.id))throw new Error("User ID is not available");await n(t.id,N),console.log("Profile image updated successfully"),x(Date.now()),k(null)}catch(R){console.error("Error uploading profile image:",R),k(R.message||"Failed to upload image. Please try again.")}finally{T(!1),b.current&&(b.current.value="")}}},w=()=>c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsxs("div",{className:"bg-gray-900 rounded-2xl p-8 max-w-md mx-4 relative border border-gray-700",children:[c.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:c.jsx(lr,{className:"h-6 w-6"})}),c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("h3",{className:"text-2xl font-bold text-white",children:"Coming Soon!"}),c.jsx("p",{className:"text-gray-300",children:"Direct transfers between users will be available soon! Stay tuned for this exciting feature."}),c.jsx("button",{onClick:()=>u(!1),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors mt-4",children:"Got it!"})]})]})});return c.jsxs("div",{className:"max-w-2xl mx-auto p-6 space-y-6 relative",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-700",children:t!=null&&t.profileImage?c.jsx("img",{src:`${t.profileImage}?t=${_}`,alt:"Profile",className:"w-full h-full object-cover",onError:E=>{console.error("Error loading profile image:",E),E.target.src="",E.target.className="hidden"}},_):c.jsx("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center",children:c.jsx(Wu,{className:"w-8 h-8 text-gray-400"})})}),c.jsx("button",{onClick:()=>{var E;return(E=b.current)==null?void 0:E.click()},className:"absolute bottom-0 right-0 bg-blue-500 rounded-full p-1 hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y,children:y?c.jsx(gL,{className:"w-4 h-4 text-white animate-spin"}):c.jsx(hL,{className:"w-4 h-4 text-white"})}),c.jsx("input",{type:"file",ref:b,onChange:S,accept:"image/*",className:"hidden",disabled:y})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Profile"}),I&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:I})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("span",{className:"text-gray-400",children:"Rewards and Challenges"}),c.jsxs("button",{className:"relative",children:[c.jsx(UT,{className:"h-6 w-6 text-gray-400"}),c.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:"3"})]}),c.jsx("button",{onClick:()=>s(!r),className:"relative",children:c.jsx(WT,{className:"h-6 w-6 text-gray-400"})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Ae,{className:"bg-gray-900 border-gray-800",children:c.jsxs(Le,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Groups"}),c.jsxs("div",{className:"space-y-3",children:[m?c.jsx("p",{className:"text-gray-400",children:"Loading groups..."}):d.length>0?c.jsx("div",{className:"space-y-2",children:d.map(E=>c.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>V(E.id),children:[c.jsx("span",{className:"text-2xl",children:E.emoji}),c.jsx("span",{className:"text-white",children:E.name})]},E.id))}):c.jsx("p",{className:"text-gray-400",children:"No groups yet"}),c.jsxs("button",{onClick:L,className:"w-full p-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors flex items-center justify-center space-x-2",children:[c.jsx(xL,{className:"w-4 h-4"}),c.jsx("span",{children:"Create Group"})]})]})]})}),c.jsx(Ae,{className:"bg-gray-900 border-gray-800",children:c.jsxs(Le,{className:"p-6",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Friends"}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("p",{className:"text-gray-400",children:"No friends yet"}),c.jsx("button",{className:"w-full p-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Add Friends"})]})]})})]}),i&&c.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:c.jsx("div",{className:"max-w-md w-full mx-4",children:c.jsx(ZT,{onClose:()=>o(!1)})})}),a&&c.jsx(w,{})]})},NM=["🏈","⚽️","🏀","⚾️","🎾","🏒","🏂","🎰","🎲","🎮","🏆","💰","🎯","🎪","🎨","🎭","🎪","🎢","🎡","🎪"],kM=()=>{const t=dr(),{currentUser:e}=ze(),[n,r]=C.useState(1),[s,i]=C.useState(!1),[o,a]=C.useState({name:"",emoji:"🏈",members:[]}),[u,d]=C.useState(""),f=()=>{if(n===1&&!o.name.trim()){d("Please enter a group name");return}d(""),r(T=>T+1)},m=()=>{r(T=>T-1),d("")},g=async()=>{try{i(!0),d(""),await Xt.createGroup({name:o.name,emoji:o.emoji,members:[]},e.uid),t("/profile")}catch(T){d("Failed to create group. Please try again."),console.error("Error creating group:",T)}finally{i(!1)}},y=()=>{switch(n){case 1:return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Name your group"}),c.jsx("input",{type:"text",value:o.name,onChange:T=>a({...o,name:T.target.value}),placeholder:"Enter group name",className:"w-full p-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:50})]});case 2:return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Choose an emoji"}),c.jsx("div",{className:"grid grid-cols-5 gap-3",children:NM.map(T=>c.jsx("button",{onClick:()=>a({...o,emoji:T}),className:`text-2xl p-3 rounded-lg ${o.emoji===T?"bg-blue-500 hover:bg-blue-600":"bg-gray-800 hover:bg-gray-700"} transition-colors`,children:T},T))})]});case 3:return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Add people (Optional)"}),c.jsx("p",{className:"text-gray-400",children:"You can add people to your group later"})]});default:return null}};return c.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[c.jsx("div",{className:"border-b border-gray-800 p-4",children:c.jsxs("div",{className:"max-w-lg mx-auto flex items-center justify-between",children:[c.jsx("button",{onClick:()=>t("/profile"),className:"text-gray-400 hover:text-white transition-colors",children:c.jsx(lr,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-lg font-semibold text-white",children:"Create Group"}),c.jsx("div",{className:"w-6"})," "]})}),c.jsx("div",{className:"flex-1 p-4",children:c.jsx("div",{className:"max-w-lg mx-auto",children:c.jsx(Ae,{className:"bg-gray-900 border-gray-800",children:c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[{icon:c.jsx(Xv,{className:"w-5 h-5"}),label:"Name"},{icon:c.jsx(Xv,{className:"w-5 h-5"}),label:"Emoji"},{icon:c.jsx(Wu,{className:"w-5 h-5"}),label:"People"}].map((T,I)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${n>I?"bg-blue-500 text-white":n===I+1?"bg-blue-500/20 text-blue-500":"bg-gray-800 text-gray-400"}`,children:n>I?c.jsx(Vf,{className:"w-5 h-5"}):T.icon}),I<2&&c.jsx("div",{className:`w-12 h-0.5 mx-2 ${n>I+1?"bg-blue-500":"bg-gray-800"}`})]},I))}),y(),u&&c.jsx("p",{className:"text-red-500 text-sm mt-2",children:u}),c.jsxs("div",{className:"flex justify-between mt-8",children:[c.jsxs("button",{onClick:m,className:`flex items-center space-x-2 px-4 py-2 rounded-lg ${n===1?"invisible":"bg-gray-800 text-white hover:bg-gray-700"} transition-colors`,disabled:n===1,children:[c.jsx($T,{className:"w-5 h-5"}),c.jsx("span",{children:"Back"})]}),n<3?c.jsxs("button",{onClick:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[c.jsx("span",{children:"Next"}),c.jsx(Ff,{className:"w-5 h-5"})]}):c.jsxs("button",{onClick:g,disabled:s,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors disabled:opacity-50",children:[c.jsx("span",{children:"Create Group"}),c.jsx(Vf,{className:"w-5 h-5"})]})]})]})})})})]})},AM=()=>{const{id:t}=KN(),e=dr(),{currentUser:n}=ze(),[r,s]=C.useState(null),[i,o]=C.useState(!0),[a,u]=C.useState(!1);C.useEffect(()=>{(async()=>{try{console.log("Fetching group with ID:",t);const y=await Xt.getGroup(t);console.log("Group data received:",y),s(y)}catch(y){console.error("Error fetching group:",y)}finally{o(!1)}})()},[t]);const d=async()=>{if(window.confirm("Are you sure you want to delete this group? This action cannot be undone."))try{await Xt.deleteGroup(t,n.id),e("/profile")}catch(g){console.error("Error deleting group:",g)}},f=async()=>{if(window.confirm("Are you sure you want to leave this group?"))try{await Xt.leaveGroup(t,n.id),e("/profile")}catch(g){console.error("Error leaving group:",g)}};if(i)return c.jsx("div",{className:"fixed inset-0 bg-[#FFD700] flex items-center justify-center",children:c.jsx("div",{className:"text-black text-xl",children:"Loading..."})});if(!r)return c.jsx("div",{className:"fixed inset-0 bg-[#FFD700] flex items-center justify-center",children:c.jsx("div",{className:"text-black text-xl",children:"Group not found"})});const m=r.ownerId===(n==null?void 0:n.id);return c.jsxs("div",{className:"fixed inset-0 bg-[#FFD700] overflow-auto",children:[c.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 bg-[#FFD700] shadow-sm",children:[c.jsx("button",{onClick:()=>e("/profile"),className:"p-2 rounded-full hover:bg-[#FFE55C] text-black",children:c.jsx($T,{className:"w-6 h-6"})}),c.jsxs("button",{onClick:()=>u(!a),className:"p-2 rounded-full hover:bg-[#FFE55C] text-black relative",children:[c.jsx(WT,{className:"w-6 h-6"}),a&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-1 text-left",children:m?c.jsxs("button",{onClick:d,className:"w-full px-4 py-2 text-red-600 hover:bg-gray-100 flex items-center",children:[c.jsx(_L,{className:"w-4 h-4 mr-2"}),"Delete Group"]}):c.jsxs("button",{onClick:f,className:"w-full px-4 py-2 text-red-600 hover:bg-gray-100 flex items-center",children:[c.jsx(qT,{className:"w-4 h-4 mr-2"}),"Leave Group"]})})]})]}),c.jsxs("div",{className:"max-w-2xl mx-auto px-4 pt-6 pb-8 space-y-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-center text-black mb-6",children:r.name}),c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-20 h-20 flex items-center justify-center text-4xl bg-[#FFE55C] rounded-full shadow-md",children:r.emoji})}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-5xl font-bold text-black",children:"$0"}),c.jsx("p",{className:"text-gray-700 mt-2",children:"Group Balance"})]}),c.jsxs("button",{className:"w-full py-3 px-4 bg-blue-500 text-white rounded-full font-medium flex items-center justify-center space-x-2 hover:bg-blue-600 transition-colors shadow-md",children:[c.jsx(ta,{className:"w-5 h-5"}),c.jsx("span",{children:"Add an expense"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-black",children:"Members"}),r.owner&&c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-[#FFE55C] rounded-lg shadow-sm",children:[c.jsx("img",{src:r.owner.photoURL||"/images/profile_1.png",alt:r.owner.displayName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-black",children:r.owner.displayName}),c.jsx("p",{className:"text-sm text-gray-700",children:"Owner"})]})]}),r.members&&r.members.length>0&&c.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.members.filter(g=>g.uid!==r.ownerId).map((g,y)=>c.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-[#FFE55C] rounded-lg shadow-sm",children:[c.jsx("img",{src:g.photoURL||"/images/profile_1.png",alt:g.displayName,className:"w-12 h-12 rounded-full object-cover"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-black",children:g.displayName}),c.jsx("p",{className:"text-sm text-gray-700",children:"Member"})]})]},y))})]}),c.jsx("div",{className:"text-center",children:c.jsx("button",{className:"text-blue-700 font-medium hover:text-blue-800",children:"How we do the math"})}),c.jsx("div",{className:"text-center",children:c.jsx("button",{className:"text-blue-700 font-medium hover:text-blue-800",children:"Group summary"})})]})]})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="/firebase-messaging-sw.js",RM="/firebase-cloud-messaging-push-scope",e1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",PM="https://fcmregistrations.googleapis.com/v1",t1="google.c.a.c_id",jM="google.c.a.c_l",DM="google.c.a.ts",OM="google.c.a.e";var tw;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(tw||(tw={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Da;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Da||(Da={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function LM(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;++i)s[i]=r.charCodeAt(i);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="fcm_token_details_db",MM=5,nw="fcm_token_object_Store";async function VM(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(hh))return null;let e=null;return(await wu(hh,MM,{upgrade:async(r,s,i,o)=>{var a;if(s<2||!r.objectStoreNames.contains(nw))return;const u=o.objectStore(nw),d=await u.index("fcmSenderId").get(t);if(await u.clear(),!!d){if(s===2){const f=d;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(a=f.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:Bn(f.vapidKey)}}}else if(s===3){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Bn(f.auth),p256dh:Bn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Bn(f.vapidKey)}}}else if(s===4){const f=d;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Bn(f.auth),p256dh:Bn(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Bn(f.vapidKey)}}}}}})).close(),await Wd(hh),await Wd("fcm_vapid_details_db"),await Wd("undefined"),FM(e)?e:null}function FM(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM="firebase-messaging-database",$M=1,Oa="firebase-messaging-store";let fh=null;function n1(){return fh||(fh=wu(UM,$M,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Oa)}}})),fh}async function BM(t){const e=r1(t),r=await(await n1()).transaction(Oa).objectStore(Oa).get(e);if(r)return r;{const s=await VM(t.appConfig.senderId);if(s)return await Jm(t,s),s}}async function Jm(t,e){const n=r1(t),s=(await n1()).transaction(Oa,"readwrite");return await s.objectStore(Oa).put(e,n),await s.done,e}function r1({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},pt=new es("messaging","Messaging",zM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(t,e){const n=await eg(t),r=s1(e),s={method:"POST",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(Zm(t.appConfig),s)).json()}catch(o){throw pt.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw pt.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw pt.create("token-subscribe-no-token");return i.token}async function WM(t,e){const n=await eg(t),r=s1(e.subscriptionOptions),s={method:"PATCH",headers:n,body:JSON.stringify(r)};let i;try{i=await(await fetch(`${Zm(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw pt.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw pt.create("token-update-failed",{errorInfo:o})}if(!i.token)throw pt.create("token-update-no-token");return i.token}async function GM(t,e){const r={method:"DELETE",headers:await eg(t)};try{const i=await(await fetch(`${Zm(t.appConfig)}/${e}`,r)).json();if(i.error){const o=i.error.message;throw pt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw pt.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function Zm({projectId:t}){return`${PM}/projects/${t}/registrations`}async function eg({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function s1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const s={web:{endpoint:n,auth:e,p256dh:t}};return r!==e1&&(s.web.applicationPubKey=r),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=7*24*60*60*1e3;async function KM(t){const e=await YM(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Bn(e.getKey("auth")),p256dh:Bn(e.getKey("p256dh"))},r=await BM(t.firebaseDependencies);if(r){if(XM(r.subscriptionOptions,n))return Date.now()>=r.createTime+HM?QM(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await GM(t.firebaseDependencies,r.token)}catch(s){console.warn(s)}return rw(t.firebaseDependencies,n)}else return rw(t.firebaseDependencies,n)}async function QM(t,e){try{const n=await WM(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Jm(t.firebaseDependencies,r),n}catch(n){throw n}}async function rw(t,e){const r={token:await qM(t,e),createTime:Date.now(),subscriptionOptions:e};return await Jm(t,r),r.token}async function YM(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:LM(e)})}function XM(t,e){const n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,s=e.auth===t.auth,i=e.p256dh===t.p256dh;return n&&r&&s&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return JM(e,t),ZM(e,t),eV(e,t),e}function JM(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const s=e.notification.image;s&&(t.notification.image=s);const i=e.notification.icon;i&&(t.notification.icon=i)}function ZM(t,e){e.data&&(t.data=e.data)}function eV(t,e){var n,r,s,i,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const a=(s=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&s!==void 0?s:(i=e.notification)===null||i===void 0?void 0:i.click_action;a&&(t.fcmOptions.link=a);const u=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){return typeof t=="object"&&!!t&&t1 in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){if(!t||!t.options)throw ph("App Configuration Object");if(!t.name)throw ph("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw ph(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ph(t){return pt.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=nV(e);this.firebaseDependencies={app:e,appConfig:s,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t){try{t.swRegistration=await navigator.serviceWorker.register(CM,{scope:RM}),t.swRegistration.update().catch(()=>{})}catch(e){throw pt.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e){if(!e&&!t.swRegistration&&await sV(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw pt.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=e1)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(t,e){if(!navigator)throw pt.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw pt.create("permission-blocked");return await oV(t,e==null?void 0:e.vapidKey),await iV(t,e==null?void 0:e.serviceWorkerRegistration),KM(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e,n){const r=lV(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[t1],message_name:n[jM],message_time:n[DM],message_device_time:Math.floor(Date.now()/1e3)})}function lV(t){switch(t){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Da.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(sw(n)):t.onMessageHandler.next(sw(n)));const r=n.data;tV(r)&&r[OM]==="1"&&await aV(t,n.messageType,r)}const iw="@firebase/messaging",ow="0.12.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=t=>{const e=new rV(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>cV(e,n)),e},dV=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>i1(e,r)}};function hV(){Lt(new St("messaging",uV,"PUBLIC")),Lt(new St("messaging-internal",dV,"PRIVATE")),He(iw,ow),He(iw,ow,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(){try{await Wp()}catch{return!1}return typeof window<"u"&&qp()&&Ux()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e){if(!navigator)throw pt.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t=Qi()){return fV().then(e=>{if(!e)throw pt.create("unsupported-browser")},e=>{throw pt.create("indexed-db-unsupported")}),jn(ue(t),"messaging").getImmediate()}async function gV(t,e){return t=ue(t),i1(t,e)}function yV(t,e){return t=ue(t),pV(t,e)}hV();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="type.googleapis.com/google.protobuf.Int64Value",wV="type.googleapis.com/google.protobuf.UInt64Value";function o1(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Bf(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Bf(e));if(typeof t=="function"||typeof t=="object")return o1(t,e=>Bf(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Jc(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case vV:case wV:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Jc(e)):typeof t=="function"||typeof t=="object"?o1(t,e=>Jc(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Si extends Kt{constructor(e,n,r){super(`${tg}/${e}`,n||""),this.details=r}}function _V(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function xV(t,e){let n=_V(t),r=n,s;try{const i=e&&e.error;if(i){const o=i.status;if(typeof o=="string"){if(!aw[o])return new Si("internal","internal");n=aw[o],r=o}const a=i.message;typeof a=="string"&&(r=a),s=i.details,s!==void 0&&(s=Jc(s))}}catch{}return n==="ok"?null:new Si(n,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||n.get().then(s=>this.messaging=s,()=>{}),this.appCheck||r.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="us-central1";function bV(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Si("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class TV{constructor(e,n,r,s,i=zf,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new EV(n,r,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=zf}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function IV(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function SV(t,e,n){return r=>kV(t,e,r,{})}async function NV(t,e,n,r){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let i=null;try{i=await s.json()}catch{}return{status:s.status,json:i}}function kV(t,e,n,r){const s=t._url(e);return AV(t,s,n,r)}async function AV(t,e,n,r){n=Bf(n);const s={data:n},i={},o=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(i.Authorization="Bearer "+o.authToken),o.messagingToken&&(i["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(i["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,u=bV(a),d=await Promise.race([NV(e,s,i,t.fetchImpl),u.promise,t.cancelAllRequests]);if(u.cancel(),!d)throw new Si("cancelled","Firebase Functions instance was deleted.");const f=xV(d.status,d.json);if(f)throw f;if(!d.json)throw new Si("internal","Response is not valid JSON object.");let m=d.json.data;if(typeof m>"u"&&(m=d.json.result),typeof m>"u")throw new Si("internal","Response is missing data field.");return{data:Jc(m)}}const lw="@firebase/functions",cw="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV="auth-internal",RV="app-check-internal",PV="messaging-internal";function jV(t,e){const n=(r,{instanceIdentifier:s})=>{const i=r.getProvider("app").getImmediate(),o=r.getProvider(CV),a=r.getProvider(PV),u=r.getProvider(RV);return new TV(i,o,a,u,s,t)};Lt(new St(tg,n,"PUBLIC").setMultipleInstances(!0)),He(lw,cw,e),He(lw,cw,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t=Qi(),e=zf){const r=jn(ue(t),tg).getImmediate({identifier:e}),s=zp("functions");return s&&OV(r,...s),r}function OV(t,e,n){IV(ue(t),e,n)}function LV(t,e,n){return SV(ue(t),e)}jV(fetch.bind(self));class MV{constructor(){this.messaging=mV(oh),this.db=sb(oh),this.functions=DV(oh)}async initializePushNotifications(){try{return await Notification.requestPermission()==="granted"?await gV(this.messaging,{vapidKey:void 0}):null}catch(e){return console.error("Error initializing push notifications:",e),null}}async saveNotificationPreferences(e,n){try{await gb(ft(this.db,"userPreferences",e),{notifications:{inApp:n.inApp??!0,sms:n.sms??!1,email:n.email??!1,pushToken:n.pushToken}},{merge:!0})}catch(r){throw console.error("Error saving notification preferences:",r),r}}async getNotificationPreferences(e){try{const n=ft(this.db,"userPreferences",e),r=await Rs(n);return r.exists()?r.data().notifications:{inApp:!0,sms:!1,email:!1,pushToken:null}}catch(n){throw console.error("Error getting notification preferences:",n),n}}async sendNotification(e,n){try{await LV(this.functions,"sendNotification")({userId:e,notification:n})}catch(r){throw console.error("Error sending notification:",r),r}}async storeInAppNotification(e,n){try{await km(Cs(this.db,"users",e,"notifications"),{...n,timestamp:new Date,read:!1})}catch(r){throw console.error("Error storing in-app notification:",r),r}}onPushNotification(e){return yV(this.messaging,n=>{e(n)})}}const fi=new MV,VV=()=>{const t=dr(),[e,n]=C.useState({inApp:!0,email:!1}),[r,s]=C.useState(!0),[i,o]=C.useState(null);C.useEffect(()=>{(async()=>{try{if(!Xe.currentUser){t("/login");return}const d=await fi.getNotificationPreferences(Xe.currentUser.uid);n(d),s(!1)}catch{o("Failed to load notification preferences"),s(!1)}})()},[t]);const a=async u=>{try{const d={...e,[u]:!e[u]};if(n(d),await fi.saveNotificationPreferences(Xe.currentUser.uid,d),u==="inApp"&&d.inApp){const f=await fi.initializePushNotifications();f&&await fi.saveNotificationPreferences(Xe.currentUser.uid,{...d,pushToken:f})}}catch{o("Failed to update preferences")}};return r?c.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):c.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[c.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Notification Settings"}),i&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"In-App Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications within the app and browser push notifications"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:e.inApp,onChange:()=>a("inApp")}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg shadow",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive important updates via email"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",checked:e.email,onChange:()=>a("email")}),c.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"About Notifications"}),c.jsxs("ul",{className:"list-disc list-inside space-y-2 text-sm text-gray-600",children:[c.jsx("li",{children:"In-app notifications appear in your notification center and as browser push notifications"}),c.jsx("li",{children:"Email notifications are sent to your registered email address for important updates"}),c.jsx("li",{children:"You can change these settings at any time"})]})]})]})]})},a1=cr.forwardRef(({className:t,...e},n)=>c.jsx("table",{ref:n,className:`w-full caption-bottom text-sm ${t}`,...e}));a1.displayName="Table";const l1=cr.forwardRef(({className:t,...e},n)=>c.jsx("thead",{ref:n,className:`border-b border-purple-500/20 ${t}`,...e}));l1.displayName="TableHeader";const c1=cr.forwardRef(({className:t,...e},n)=>c.jsx("tbody",{ref:n,className:`${t}`,...e}));c1.displayName="TableBody";const qf=cr.forwardRef(({className:t,...e},n)=>c.jsx("tr",{ref:n,className:`border-b border-purple-500/20 transition-colors hover:bg-gray-800/50 ${t}`,...e}));qf.displayName="TableRow";const ds=cr.forwardRef(({className:t,...e},n)=>c.jsx("th",{ref:n,className:`h-12 px-4 text-left align-middle font-medium text-white ${t}`,...e}));ds.displayName="TableHead";const hs=cr.forwardRef(({className:t,...e},n)=>c.jsx("td",{ref:n,className:`p-4 align-middle text-white ${t}`,...e}));hs.displayName="TableCell";const u1=cr.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:`flex h-10 w-full rounded-md border border-purple-500/20 bg-gray-900/40 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-400 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-purple-500/40 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t}`,ref:r,...n}));u1.displayName="Input";const FV=()=>{const[t,e]=C.useState([]),[n,r]=C.useState(!0),[s,i]=C.useState(""),[o,a]=C.useState(null);C.useEffect(()=>{(async()=>{try{const f=Cs(de,"users"),m=$i(f,YP("createdAt","desc")),y=(await Bi(m)).docs.map(T=>{var I;return{id:T.id,...T.data(),createdAt:(I=T.data().createdAt)==null?void 0:I.toDate()}});e(y)}catch(f){a("Failed to fetch users"),console.error("Error fetching users:",f)}finally{r(!1)}})()},[]);const u=t.filter(d=>{var m,g,y,T;const f=s.toLowerCase();return((m=d.email)==null?void 0:m.toLowerCase().includes(f))||((g=d.username)==null?void 0:g.toLowerCase().includes(f))||((y=d.firstName)==null?void 0:y.toLowerCase().includes(f))||((T=d.lastName)==null?void 0:T.toLowerCase().includes(f))});return o?c.jsx("div",{className:"p-4 bg-red-500/10 text-red-500 rounded-lg border border-red-500/20",children:o}):c.jsxs(Ae,{className:"bg-gray-900/40 border-purple-500/20",children:[c.jsx(_n,{className:"space-y-1",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(xn,{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(Wu,{className:"h-6 w-6"}),"User Management"]}),c.jsxs("div",{className:"relative w-64",children:[c.jsx(wL,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),c.jsx(u1,{placeholder:"Search users...",value:s,onChange:d=>i(d.target.value),className:"pl-9 bg-gray-800/50 border-purple-500/20"})]})]})}),c.jsx(Le,{children:n?c.jsx("div",{className:"text-center py-4",children:"Loading users..."}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(a1,{children:[c.jsx(l1,{children:c.jsxs(qf,{children:[c.jsx(ds,{children:"Username"}),c.jsx(ds,{children:"Email"}),c.jsx(ds,{children:"Name"}),c.jsx(ds,{children:"Phone"}),c.jsx(ds,{children:"Created"}),c.jsx(ds,{children:"Dwolla Status"})]})}),c.jsx(c1,{children:u.map(d=>{var f;return c.jsxs(qf,{children:[c.jsx(hs,{className:"font-medium",children:d.username}),c.jsx(hs,{children:d.email}),c.jsx(hs,{children:`${d.firstName||""} ${d.lastName||""}`}),c.jsx(hs,{children:d.phoneNumber}),c.jsx(hs,{children:((f=d.createdAt)==null?void 0:f.toLocaleDateString())||"N/A"}),c.jsx(hs,{children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium
                          ${d.dwollaCustomerId?"bg-green-500/20 text-green-500":"bg-yellow-500/20 text-yellow-500"}`,children:d.dwollaCustomerId?"Verified":"Pending"})})]},d.id)})})]})})})]})},UV="BankrollAdmin2024!",uw="bankroll_admin_auth",$V=({children:t})=>{const{currentUser:e}=ze(),[n,r]=C.useState(!0),[s,i]=C.useState(""),[o,a]=C.useState(""),[u,d]=C.useState(()=>localStorage.getItem(uw)==="true");if(!e)return c.jsx(Ko,{to:"/",replace:!0});const f=m=>{m.preventDefault(),s===UV?(d(!0),r(!1),localStorage.setItem(uw,"true")):a("Incorrect password")};return u?t:c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs(Ae,{className:"w-full max-w-md bg-gray-800 p-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Admin Authentication"}),c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[o&&c.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 rounded p-3",children:o}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter Admin Password"}),c.jsx("input",{type:"password",id:"password",value:s,onChange:m=>i(m.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md shadow-sm py-2 px-3 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password"})]}),c.jsx("button",{type:"submit",className:"w-full bg-blue-500 text-white rounded-md py-2 px-4 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800",children:"Access Admin Panel"})]})]})})},BV=({children:t})=>{const{currentUser:e}=ze();return e?t:c.jsx(Ko,{to:"/",replace:!0})};function zV(){const{currentUser:t}=ze();return C.useEffect(()=>{const e=Xe.onAuthStateChanged(async n=>{if(n)try{const r=await fi.initializePushNotifications();r&&await fi.saveNotificationPreferences(n.uid,{pushToken:r})}catch(r){console.error("Error initializing push notifications:",r)}});return()=>e()},[]),c.jsx(gk,{children:c.jsxs(ck,{children:[c.jsx(Ct,{path:"/",element:t?c.jsx(Ko,{to:"/spend",replace:!0}):c.jsx(oM,{})}),c.jsx(Ct,{path:"/signup",element:t?c.jsx(Ko,{to:"/spend",replace:!0}):c.jsx(aM,{})}),c.jsx(Ct,{path:"/login",element:t?c.jsx(Ko,{to:"/spend",replace:!0}):c.jsx(lM,{})}),c.jsxs(Ct,{element:c.jsx(BV,{children:c.jsx(TL,{})}),children:[c.jsx(Ct,{path:"/banking",element:c.jsx(gM,{})}),c.jsx(Ct,{path:"/leagues",element:c.jsx(_M,{})}),c.jsx(Ct,{path:"/send",element:c.jsx(xM,{})}),c.jsx(Ct,{path:"/spend",element:c.jsx(IM,{})}),c.jsx(Ct,{path:"/profile",element:c.jsx(SM,{})}),c.jsx(Ct,{path:"/create-group",element:c.jsx(kM,{})}),c.jsx(Ct,{path:"/group/:id",element:c.jsx(AM,{})}),c.jsx(Ct,{path:"/notifications",element:c.jsx(VV,{})}),c.jsx(Ct,{path:"/admin",element:c.jsx($V,{children:c.jsx(FV,{})})})]})]})})}function qV(){return c.jsx(X4,{children:c.jsx(J4,{children:c.jsx(eL,{children:c.jsx(lL,{children:c.jsx(zV,{})})})})})}mh.createRoot(document.getElementById("root")).render(c.jsx(cr.StrictMode,{children:c.jsx(qV,{})}));
//# sourceMappingURL=main-RV5ZVzus.js.map
